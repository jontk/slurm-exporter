2026-01-21T00:47:41.2749579Z Current runner version: '2.331.0'
2026-01-21T00:47:41.2773808Z ##[group]Runner Image Provisioner
2026-01-21T00:47:41.2774580Z Hosted Compute Agent
2026-01-21T00:47:41.2775120Z Version: 20251211.462
2026-01-21T00:47:41.2775674Z Commit: 6cbad8c2bb55d58165063d031ccabf57e2d2db61
2026-01-21T00:47:41.2776351Z Build Date: 2025-12-11T16:28:49Z
2026-01-21T00:47:41.2776967Z Worker ID: {7485e0b5-f275-4d06-8014-0ce2da171a3c}
2026-01-21T00:47:41.2777646Z ##[endgroup]
2026-01-21T00:47:41.2778140Z ##[group]Operating System
2026-01-21T00:47:41.2778641Z Microsoft Windows Server 2025
2026-01-21T00:47:41.2779166Z 10.0.26100
2026-01-21T00:47:41.2779553Z Datacenter
2026-01-21T00:47:41.2779964Z ##[endgroup]
2026-01-21T00:47:41.2780368Z ##[group]Runner Image
2026-01-21T00:47:41.2780834Z Image: windows-2025
2026-01-21T00:47:41.2781243Z Version: 20260111.179.1
2026-01-21T00:47:41.2782574Z Included Software: https://github.com/actions/runner-images/blob/win25/20260111.179/images/windows/Windows2025-Readme.md
2026-01-21T00:47:41.2783952Z Image Release: https://github.com/actions/runner-images/releases/tag/win25%2F20260111.179
2026-01-21T00:47:41.2784797Z ##[endgroup]
2026-01-21T00:47:41.2785886Z ##[group]GITHUB_TOKEN Permissions
2026-01-21T00:47:41.2788105Z Checks: write
2026-01-21T00:47:41.2788609Z Contents: read
2026-01-21T00:47:41.2789070Z Metadata: read
2026-01-21T00:47:41.2789526Z PullRequests: write
2026-01-21T00:47:41.2790028Z ##[endgroup]
2026-01-21T00:47:41.2791998Z Secret source: Actions
2026-01-21T00:47:41.2792755Z Prepare workflow directory
2026-01-21T00:47:41.3248423Z Prepare all required actions
2026-01-21T00:47:41.3289732Z Getting action download info
2026-01-21T00:47:41.6472164Z Download action repository 'actions/checkout@v4' (SHA:34e114876b0b11c390a56381ad16ebd13914f8d5)
2026-01-21T00:47:41.7796518Z Download action repository 'actions/setup-go@v5' (SHA:40f1582b2485089dde7abd97c1529aa768e1baff)
2026-01-21T00:47:42.3541792Z Download action repository 'codecov/codecov-action@v4' (SHA:b9fd7d16f6d7d1b5d2bec1a2887e65ceed900238)
2026-01-21T00:47:43.0210024Z Complete job name: Test (1.24, windows-latest)
2026-01-21T00:47:43.1625618Z ##[group]Run actions/checkout@v4
2026-01-21T00:47:43.1627052Z with:
2026-01-21T00:47:43.1627997Z   fetch-depth: 0
2026-01-21T00:47:43.1628746Z   repository: JonTK/slurm-exporter
2026-01-21T00:47:43.1629870Z   token: ***
2026-01-21T00:47:43.1630527Z   ssh-strict: true
2026-01-21T00:47:43.1631201Z   ssh-user: git
2026-01-21T00:47:43.1631884Z   persist-credentials: true
2026-01-21T00:47:43.1632650Z   clean: true
2026-01-21T00:47:43.1633334Z   sparse-checkout-cone-mode: true
2026-01-21T00:47:43.1634185Z   fetch-tags: false
2026-01-21T00:47:43.1634872Z   show-progress: true
2026-01-21T00:47:43.1635573Z   lfs: false
2026-01-21T00:47:43.1636210Z   submodules: false
2026-01-21T00:47:43.1636919Z   set-safe-directory: true
2026-01-21T00:47:43.1637925Z env:
2026-01-21T00:47:43.1638553Z   GO_VERSION_STABLE: 1.24
2026-01-21T00:47:43.1639327Z   GO_VERSION_OLDSTABLE: 1.24
2026-01-21T00:47:43.1640147Z   GO_VERSION_MINIMUM: 1.24
2026-01-21T00:47:43.1640893Z ##[endgroup]
2026-01-21T00:47:43.3319180Z Syncing repository: JonTK/slurm-exporter
2026-01-21T00:47:43.3323352Z ##[group]Getting Git version info
2026-01-21T00:47:43.3326165Z Working directory is 'D:\a\slurm-exporter\slurm-exporter'
2026-01-21T00:47:43.4403405Z [command]"C:\Program Files\Git\bin\git.exe" version
2026-01-21T00:47:43.8191383Z git version 2.52.0.windows.1
2026-01-21T00:47:43.8258758Z ##[endgroup]
2026-01-21T00:47:43.8281388Z Temporarily overriding HOME='D:\a\_temp\ee73f8b8-3a6c-413d-a30f-ef9a8a457415' before making global git config changes
2026-01-21T00:47:43.8283876Z Adding repository directory to the temporary git global config as a safe directory
2026-01-21T00:47:43.8293774Z [command]"C:\Program Files\Git\bin\git.exe" config --global --add safe.directory D:\a\slurm-exporter\slurm-exporter
2026-01-21T00:47:43.8860390Z Deleting the contents of 'D:\a\slurm-exporter\slurm-exporter'
2026-01-21T00:47:43.8867254Z ##[group]Initializing the repository
2026-01-21T00:47:43.8877606Z [command]"C:\Program Files\Git\bin\git.exe" init D:\a\slurm-exporter\slurm-exporter
2026-01-21T00:47:43.9701404Z Initialized empty Git repository in D:/a/slurm-exporter/slurm-exporter/.git/
2026-01-21T00:47:43.9756519Z [command]"C:\Program Files\Git\bin\git.exe" remote add origin https://github.com/JonTK/slurm-exporter
2026-01-21T00:47:44.0418172Z ##[endgroup]
2026-01-21T00:47:44.0418841Z ##[group]Disabling automatic garbage collection
2026-01-21T00:47:44.0429349Z [command]"C:\Program Files\Git\bin\git.exe" config --local gc.auto 0
2026-01-21T00:47:44.0732664Z ##[endgroup]
2026-01-21T00:47:44.0733263Z ##[group]Setting up auth
2026-01-21T00:47:44.0752517Z [command]"C:\Program Files\Git\bin\git.exe" config --local --name-only --get-regexp core\.sshCommand
2026-01-21T00:47:44.1056905Z [command]"C:\Program Files\Git\bin\git.exe" submodule foreach --recursive "sh -c \"git config --local --name-only --get-regexp 'core\.sshCommand' && git config --local --unset-all 'core.sshCommand' || :\""
2026-01-21T00:47:45.5010294Z [command]"C:\Program Files\Git\bin\git.exe" config --local --name-only --get-regexp http\.https\:\/\/github\.com\/\.extraheader
2026-01-21T00:47:45.5319611Z [command]"C:\Program Files\Git\bin\git.exe" submodule foreach --recursive "sh -c \"git config --local --name-only --get-regexp 'http\.https\:\/\/github\.com\/\.extraheader' && git config --local --unset-all 'http.https://github.com/.extraheader' || :\""
2026-01-21T00:47:46.0700440Z [command]"C:\Program Files\Git\bin\git.exe" config --local --name-only --get-regexp ^includeIf\.gitdir:
2026-01-21T00:47:46.1007394Z [command]"C:\Program Files\Git\bin\git.exe" submodule foreach --recursive "git config --local --show-origin --name-only --get-regexp remote.origin.url"
2026-01-21T00:47:46.6421674Z [command]"C:\Program Files\Git\bin\git.exe" config --local http.https://github.com/.extraheader "AUTHORIZATION: basic ***"
2026-01-21T00:47:46.6737504Z ##[endgroup]
2026-01-21T00:47:46.6738135Z ##[group]Fetching the repository
2026-01-21T00:47:46.6753989Z [command]"C:\Program Files\Git\bin\git.exe" -c protocol.version=2 fetch --prune --no-recurse-submodules origin +refs/heads/*:refs/remotes/origin/* +refs/tags/*:refs/tags/* +d23dccf911dc3d1285db2ca0b3275904cbd02cc3:refs/remotes/pull/4/merge
2026-01-21T00:47:48.2752073Z From https://github.com/JonTK/slurm-exporter
2026-01-21T00:47:48.2753103Z  * [new branch]      github_actions                           -> origin/github_actions
2026-01-21T00:47:48.2753889Z  * [new branch]      main                                     -> origin/main
2026-01-21T00:47:48.2754483Z  * [new ref]         d23dccf911dc3d1285db2ca0b3275904cbd02cc3 -> pull/4/merge
2026-01-21T00:47:48.3039905Z ##[endgroup]
2026-01-21T00:47:48.3040534Z ##[group]Determining the checkout info
2026-01-21T00:47:48.3041492Z ##[endgroup]
2026-01-21T00:47:48.3052175Z [command]"C:\Program Files\Git\bin\git.exe" sparse-checkout disable
2026-01-21T00:47:48.3572090Z [command]"C:\Program Files\Git\bin\git.exe" config --local --unset-all extensions.worktreeConfig
2026-01-21T00:47:48.3879606Z ##[group]Checking out the ref
2026-01-21T00:47:48.3889998Z [command]"C:\Program Files\Git\bin\git.exe" checkout --progress --force refs/remotes/pull/4/merge
2026-01-21T00:47:48.6104797Z Note: switching to 'refs/remotes/pull/4/merge'.
2026-01-21T00:47:48.6106480Z 
2026-01-21T00:47:48.6136264Z You are in 'detached HEAD' state. You can look around, make experimental
2026-01-21T00:47:48.6140658Z changes and commit them, and you can discard any commits you make in this
2026-01-21T00:47:48.6144277Z state without impacting any branches by switching back to a branch.
2026-01-21T00:47:48.6148414Z 
2026-01-21T00:47:48.6152140Z If you want to create a new branch to retain commits you create, you may
2026-01-21T00:47:48.6154324Z do so (now or later) by using -c with the switch command. Example:
2026-01-21T00:47:48.6155308Z 
2026-01-21T00:47:48.6156231Z   git switch -c <new-branch-name>
2026-01-21T00:47:48.6160464Z 
2026-01-21T00:47:48.6161165Z Or undo this operation with:
2026-01-21T00:47:48.6161997Z 
2026-01-21T00:47:48.6162246Z   git switch -
2026-01-21T00:47:48.6162890Z 
2026-01-21T00:47:48.6163733Z Turn off this advice by setting config variable advice.detachedHead to false
2026-01-21T00:47:48.6164885Z 
2026-01-21T00:47:48.6166082Z HEAD is now at d23dccf Merge dbd6c928d70a0a7a88073e0398735ab5553ba25f into 58c8a0f31f72ecec09e363a88caa3362889bad54
2026-01-21T00:47:48.6197916Z ##[endgroup]
2026-01-21T00:47:48.7468000Z [command]"C:\Program Files\Git\bin\git.exe" log -1 --format=%H
2026-01-21T00:47:48.7808303Z d23dccf911dc3d1285db2ca0b3275904cbd02cc3
2026-01-21T00:47:48.8277157Z ##[group]Run actions/setup-go@v5
2026-01-21T00:47:48.8277494Z with:
2026-01-21T00:47:48.8277764Z   go-version: 1.24
2026-01-21T00:47:48.8277996Z   cache: true
2026-01-21T00:47:48.8278251Z   check-latest: false
2026-01-21T00:47:48.8278662Z   token: ***
2026-01-21T00:47:48.8278884Z env:
2026-01-21T00:47:48.8279153Z   GO_VERSION_STABLE: 1.24
2026-01-21T00:47:48.8279403Z   GO_VERSION_OLDSTABLE: 1.24
2026-01-21T00:47:48.8279719Z   GO_VERSION_MINIMUM: 1.24
2026-01-21T00:47:48.8279951Z ##[endgroup]
2026-01-21T00:47:49.0601708Z Setup go version spec 1.24
2026-01-21T00:47:49.1061181Z Found in cache @ C:\hostedtoolcache\windows\go\1.24.11\x64
2026-01-21T00:47:49.1070684Z Added go to the path
2026-01-21T00:47:49.1076053Z Successfully set up Go version 1.24
2026-01-21T00:47:50.9260196Z [command]C:\hostedtoolcache\windows\go\1.24.11\x64\bin\go.exe env GOMODCACHE
2026-01-21T00:47:50.9317375Z [command]C:\hostedtoolcache\windows\go\1.24.11\x64\bin\go.exe env GOCACHE
2026-01-21T00:47:50.9701050Z C:\Users\runneradmin\go\pkg\mod
2026-01-21T00:47:50.9770253Z C:\Users\runneradmin\AppData\Local\go-build
2026-01-21T00:47:51.3188850Z Cache is not found
2026-01-21T00:47:51.3213881Z go version go1.24.11 windows/amd64
2026-01-21T00:47:51.3214092Z 
2026-01-21T00:47:51.3214359Z ##[group]go env
2026-01-21T00:47:55.2482822Z set AR=ar
2026-01-21T00:47:55.2483516Z set CC=gcc
2026-01-21T00:47:55.2483798Z set CGO_CFLAGS=-O2 -g
2026-01-21T00:47:55.2484102Z set CGO_CPPFLAGS=
2026-01-21T00:47:55.2484399Z set CGO_CXXFLAGS=-O2 -g
2026-01-21T00:47:55.2484697Z set CGO_ENABLED=1
2026-01-21T00:47:55.2484988Z set CGO_FFLAGS=-O2 -g
2026-01-21T00:47:55.2485281Z set CGO_LDFLAGS=-O2 -g
2026-01-21T00:47:55.2485571Z set CXX=g++
2026-01-21T00:47:55.2485829Z set GCCGO=gccgo
2026-01-21T00:47:55.2486091Z set GO111MODULE=
2026-01-21T00:47:55.2486363Z set GOAMD64=v1
2026-01-21T00:47:55.2486638Z set GOARCH=amd64
2026-01-21T00:47:55.2486910Z set GOAUTH=netrc
2026-01-21T00:47:55.2487161Z set GOBIN=
2026-01-21T00:47:55.2487601Z set GOCACHE=C:\Users\runneradmin\AppData\Local\go-build
2026-01-21T00:47:55.2488099Z set GOCACHEPROG=
2026-01-21T00:47:55.2488367Z set GODEBUG=
2026-01-21T00:47:55.2489101Z set GOENV=C:\Users\runneradmin\AppData\Roaming\go\env
2026-01-21T00:47:55.2489585Z set GOEXE=.exe
2026-01-21T00:47:55.2489871Z set GOEXPERIMENT=
2026-01-21T00:47:55.2490191Z set GOFIPS140=off
2026-01-21T00:47:55.2490462Z set GOFLAGS=
2026-01-21T00:47:55.2491721Z set GOGCCFLAGS=-m64 -mthreads -Wl,--no-gc-sections -fmessage-length=0 -ffile-prefix-map=C:\Users\RUNNER~1\AppData\Local\Temp\go-build2779832704=/tmp/go-build -gno-record-gcc-switches
2026-01-21T00:47:55.2492982Z set GOHOSTARCH=amd64
2026-01-21T00:47:55.2493293Z set GOHOSTOS=windows
2026-01-21T00:47:55.2493554Z set GOINSECURE=
2026-01-21T00:47:55.2493886Z set GOMOD=D:\a\slurm-exporter\slurm-exporter\go.mod
2026-01-21T00:47:55.2494380Z set GOMODCACHE=C:\Users\runneradmin\go\pkg\mod
2026-01-21T00:47:55.2494765Z set GONOPROXY=
2026-01-21T00:47:55.2495000Z set GONOSUMDB=
2026-01-21T00:47:55.2495237Z set GOOS=windows
2026-01-21T00:47:55.2495532Z set GOPATH=C:\Users\runneradmin\go
2026-01-21T00:47:55.2495921Z set GOPRIVATE=
2026-01-21T00:47:55.2496348Z set GOPROXY=https://proxy.golang.org,direct
2026-01-21T00:47:55.2496878Z set GOROOT=C:\hostedtoolcache\windows\go\1.24.11\x64
2026-01-21T00:47:55.2497639Z set GOSUMDB=sum.golang.org
2026-01-21T00:47:55.2497955Z set GOTELEMETRY=local
2026-01-21T00:47:55.2498421Z set GOTELEMETRYDIR=C:\Users\runneradmin\AppData\Roaming\go\telemetry
2026-01-21T00:47:55.2499329Z set GOTMPDIR=
2026-01-21T00:47:55.2499590Z set GOTOOLCHAIN=auto
2026-01-21T00:47:55.2500092Z set GOTOOLDIR=C:\hostedtoolcache\windows\go\1.24.11\x64\pkg\tool\windows_amd64
2026-01-21T00:47:55.2500663Z set GOVCS=
2026-01-21T00:47:55.2500901Z set GOVERSION=go1.24.11
2026-01-21T00:47:55.2501179Z set GOWORK=
2026-01-21T00:47:55.2501426Z set PKG_CONFIG=pkg-config
2026-01-21T00:47:55.2502146Z 
2026-01-21T00:47:55.2502751Z ##[endgroup]
2026-01-21T00:47:55.2760049Z ##[group]Run go mod download
2026-01-21T00:47:55.2760382Z [36;1mgo mod download[0m
2026-01-21T00:47:55.3398937Z shell: C:\Program Files\PowerShell\7\pwsh.EXE -command ". '{0}'"
2026-01-21T00:47:55.3399363Z env:
2026-01-21T00:47:55.3399549Z   GO_VERSION_STABLE: 1.24
2026-01-21T00:47:55.3399788Z   GO_VERSION_OLDSTABLE: 1.24
2026-01-21T00:47:55.3400049Z   GO_VERSION_MINIMUM: 1.24
2026-01-21T00:47:55.3400274Z ##[endgroup]
2026-01-21T00:48:13.2514914Z ##[group]Run go mod verify
2026-01-21T00:48:13.2515206Z [36;1mgo mod verify[0m
2026-01-21T00:48:13.2584476Z shell: C:\Program Files\PowerShell\7\pwsh.EXE -command ". '{0}'"
2026-01-21T00:48:13.2584791Z env:
2026-01-21T00:48:13.2584944Z   GO_VERSION_STABLE: 1.24
2026-01-21T00:48:13.2585179Z   GO_VERSION_OLDSTABLE: 1.24
2026-01-21T00:48:13.2585375Z   GO_VERSION_MINIMUM: 1.24
2026-01-21T00:48:13.2585546Z ##[endgroup]
2026-01-21T00:48:14.6602290Z all modules verified
2026-01-21T00:48:14.8050537Z ##[group]Run go test -v -covermode=atomic "-coverprofile=coverage.out" ./...
2026-01-21T00:48:14.8051091Z [36;1mgo test -v -covermode=atomic "-coverprofile=coverage.out" ./...[0m
2026-01-21T00:48:14.8125271Z shell: C:\Program Files\PowerShell\7\pwsh.EXE -command ". '{0}'"
2026-01-21T00:48:14.8125580Z env:
2026-01-21T00:48:14.8125735Z   GO_VERSION_STABLE: 1.24
2026-01-21T00:48:14.8125934Z   GO_VERSION_OLDSTABLE: 1.24
2026-01-21T00:48:14.8126126Z   GO_VERSION_MINIMUM: 1.24
2026-01-21T00:48:14.8126302Z ##[endgroup]
2026-01-21T00:49:00.5169231Z === RUN   TestMainFlags
2026-01-21T00:49:00.5169961Z --- PASS: TestMainFlags (0.00s)
2026-01-21T00:49:00.5170424Z === RUN   TestMainFlagsCustomValues
2026-01-21T00:49:00.5170907Z --- PASS: TestMainFlagsCustomValues (0.00s)
2026-01-21T00:49:00.5171393Z === RUN   TestNewShutdownManager
2026-01-21T00:49:00.5171827Z --- PASS: TestNewShutdownManager (0.00s)
2026-01-21T00:49:00.5172295Z === RUN   TestAddShutdownHook
2026-01-21T00:49:00.5172789Z --- PASS: TestAddShutdownHook (0.00s)
2026-01-21T00:49:00.5173236Z === RUN   TestRemoveShutdownHook
2026-01-21T00:49:00.5173673Z --- PASS: TestRemoveShutdownHook (0.00s)
2026-01-21T00:49:00.5174142Z === RUN   TestShutdownHookExecution
2026-01-21T00:49:00.5174624Z --- PASS: TestShutdownHookExecution (0.00s)
2026-01-21T00:49:00.5175111Z === RUN   TestShutdownHookError
2026-01-21T00:49:00.5175861Z time="2026-01-21T00:49:00Z" level=error msg="Shutdown hook failed" error="hook failed" hook=failure
2026-01-21T00:49:00.5179493Z --- PASS: TestShutdownHookError (0.03s)
2026-01-21T00:49:00.5180005Z === RUN   TestShutdownHookTimeout
2026-01-21T00:49:00.5180861Z time="2026-01-21T00:49:00Z" level=error msg="Shutdown hook failed" error="shutdown hook slow timed out" hook=slow
2026-01-21T00:49:00.5181770Z --- PASS: TestShutdownHookTimeout (0.10s)
2026-01-21T00:49:00.5182252Z === RUN   TestShutdownHookPanic
2026-01-21T00:49:00.5183190Z time="2026-01-21T00:49:00Z" level=error msg="Shutdown hook failed" error="panic in shutdown hook panic: test panic" hook=panic
2026-01-21T00:49:00.5184172Z --- PASS: TestShutdownHookPanic (0.00s)
2026-01-21T00:49:00.5184632Z === RUN   TestSignalHandling
2026-01-21T00:49:00.5185519Z     shutdown_test.go:258: Skipping signal handling test on Windows - SIGUSR1 not available
2026-01-21T00:49:00.5186337Z --- SKIP: TestSignalHandling (0.00s)
2026-01-21T00:49:00.5187108Z === RUN   TestIsShuttingDown
2026-01-21T00:49:00.5187504Z --- PASS: TestIsShuttingDown (0.00s)
2026-01-21T00:49:00.5187953Z === RUN   TestConcurrentAccess
2026-01-21T00:49:00.5188382Z --- PASS: TestConcurrentAccess (0.00s)
2026-01-21T00:49:00.5188794Z PASS
2026-01-21T00:49:00.5189059Z coverage: 38.5% of statements
2026-01-21T00:49:00.5190186Z ok  	github.com/jontk/slurm-exporter/cmd/slurm-exporter	0.199s	coverage: 38.5% of statements
2026-01-21T00:49:00.7267675Z 	github.com/jontk/slurm-exporter/cmd/validate-config		coverage: 0.0% of statements
2026-01-21T00:49:01.2471170Z === RUN   TestNewCollectorScheduler_Disabled
2026-01-21T00:49:01.2471877Z --- PASS: TestNewCollectorScheduler_Disabled (0.00s)
2026-01-21T00:49:01.2500115Z === RUN   TestNewCollectorScheduler_Enabled
2026-01-21T00:49:01.2534475Z --- PASS: TestNewCollectorScheduler_Enabled (0.00s)
2026-01-21T00:49:01.2535596Z === RUN   TestNewCollectorScheduler_InvalidConfig
2026-01-21T00:49:01.2537460Z === RUN   TestNewCollectorScheduler_InvalidConfig/min_interval_zero
2026-01-21T00:49:01.2543196Z === RUN   TestNewCollectorScheduler_InvalidConfig/min_greater_than_max
2026-01-21T00:49:01.2545133Z === RUN   TestNewCollectorScheduler_InvalidConfig/base_outside_range
2026-01-21T00:49:01.2546297Z --- PASS: TestNewCollectorScheduler_InvalidConfig (0.00s)
2026-01-21T00:49:01.2547208Z     --- PASS: TestNewCollectorScheduler_InvalidConfig/min_interval_zero (0.00s)
2026-01-21T00:49:01.2548229Z     --- PASS: TestNewCollectorScheduler_InvalidConfig/min_greater_than_max (0.00s)
2026-01-21T00:49:01.2552624Z     --- PASS: TestNewCollectorScheduler_InvalidConfig/base_outside_range (0.00s)
2026-01-21T00:49:01.2553523Z === RUN   TestCollectorScheduler_RegisterCollector
2026-01-21T00:49:01.2554133Z --- PASS: TestCollectorScheduler_RegisterCollector (0.00s)
2026-01-21T00:49:01.2554797Z === RUN   TestCollectorScheduler_GetCollectionInterval_Disabled
2026-01-21T00:49:01.2555549Z --- PASS: TestCollectorScheduler_GetCollectionInterval_Disabled (0.00s)
2026-01-21T00:49:01.2556262Z === RUN   TestCollectorScheduler_UpdateActivity
2026-01-21T00:49:01.2556805Z --- PASS: TestCollectorScheduler_UpdateActivity (0.06s)
2026-01-21T00:49:01.2557410Z === RUN   TestCollectorScheduler_ActivityScoreCalculation
2026-01-21T00:49:01.2558094Z === RUN   TestCollectorScheduler_ActivityScoreCalculation/low_activity
2026-01-21T00:49:01.2558876Z === RUN   TestCollectorScheduler_ActivityScoreCalculation/high_activity
2026-01-21T00:49:01.2559684Z === RUN   TestCollectorScheduler_ActivityScoreCalculation/very_high_density
2026-01-21T00:49:01.2560478Z --- PASS: TestCollectorScheduler_ActivityScoreCalculation (0.00s)
2026-01-21T00:49:01.2561394Z     --- PASS: TestCollectorScheduler_ActivityScoreCalculation/low_activity (0.00s)
2026-01-21T00:49:01.2562411Z     --- PASS: TestCollectorScheduler_ActivityScoreCalculation/high_activity (0.00s)
2026-01-21T00:49:01.2563474Z     --- PASS: TestCollectorScheduler_ActivityScoreCalculation/very_high_density (0.00s)
2026-01-21T00:49:01.2564242Z === RUN   TestCollectorScheduler_IntervalAdaptation
2026-01-21T00:49:01.2564846Z --- PASS: TestCollectorScheduler_IntervalAdaptation (0.00s)
2026-01-21T00:49:01.2565471Z === RUN   TestCollectorScheduler_RecordCollection
2026-01-21T00:49:01.2566050Z --- PASS: TestCollectorScheduler_RecordCollection (0.00s)
2026-01-21T00:49:01.2566613Z === RUN   TestCollectorScheduler_GetStats
2026-01-21T00:49:01.2567110Z --- PASS: TestCollectorScheduler_GetStats (0.00s)
2026-01-21T00:49:01.2567666Z === RUN   TestCollectorScheduler_RegisterMetrics
2026-01-21T00:49:01.2568249Z --- PASS: TestCollectorScheduler_RegisterMetrics (0.00s)
2026-01-21T00:49:01.2568883Z === RUN   TestCollectorScheduler_RegisterMetrics_Disabled
2026-01-21T00:49:01.2569580Z --- PASS: TestCollectorScheduler_RegisterMetrics_Disabled (0.00s)
2026-01-21T00:49:01.2570216Z === RUN   TestCollectorScheduler_CompareValues
2026-01-21T00:49:01.2570811Z === RUN   TestCollectorScheduler_CompareValues/no_change_int
2026-01-21T00:49:01.2571461Z === RUN   TestCollectorScheduler_CompareValues/small_increase
2026-01-21T00:49:01.2573483Z === RUN   TestCollectorScheduler_CompareValues/large_increase
2026-01-21T00:49:01.2574152Z === RUN   TestCollectorScheduler_CompareValues/string_change
2026-01-21T00:49:01.2574829Z === RUN   TestCollectorScheduler_CompareValues/string_no_change
2026-01-21T00:49:01.2575502Z === RUN   TestCollectorScheduler_CompareValues/zero_to_value
2026-01-21T00:49:01.2576138Z --- PASS: TestCollectorScheduler_CompareValues (0.00s)
2026-01-21T00:49:01.2576954Z     --- PASS: TestCollectorScheduler_CompareValues/no_change_int (0.00s)
2026-01-21T00:49:01.2577883Z     --- PASS: TestCollectorScheduler_CompareValues/small_increase (0.00s)
2026-01-21T00:49:01.2578802Z     --- PASS: TestCollectorScheduler_CompareValues/large_increase (0.00s)
2026-01-21T00:49:01.2579685Z     --- PASS: TestCollectorScheduler_CompareValues/string_change (0.00s)
2026-01-21T00:49:01.2580599Z     --- PASS: TestCollectorScheduler_CompareValues/string_no_change (0.00s)
2026-01-21T00:49:01.2581540Z     --- PASS: TestCollectorScheduler_CompareValues/zero_to_value (0.00s)
2026-01-21T00:49:01.2582200Z === RUN   TestCollectorScheduler_TimeBasedScore
2026-01-21T00:49:01.2582767Z --- PASS: TestCollectorScheduler_TimeBasedScore (0.00s)
2026-01-21T00:49:01.2583720Z PASS
2026-01-21T00:49:01.2584012Z coverage: 46.7% of statements
2026-01-21T00:49:01.2584700Z ok  	github.com/jontk/slurm-exporter/internal/adaptive	0.116s	coverage: 46.7% of statements
2026-01-21T00:49:01.2586097Z 	github.com/jontk/slurm-exporter/internal/batch		coverage: 0.0% of statements
2026-01-21T00:49:10.4425495Z === RUN   TestAccountsSimpleCollector_Describe
2026-01-21T00:49:10.4426384Z --- PASS: TestAccountsSimpleCollector_Describe (0.00s)
2026-01-21T00:49:10.4427428Z === RUN   TestAccountsSimpleCollector_Collect_Success
2026-01-21T00:49:10.4428519Z time="2026-01-21T00:49:08Z" level=info msg="Collected account entries" collector=accounts count=2 test=true
2026-01-21T00:49:10.4429467Z --- PASS: TestAccountsSimpleCollector_Collect_Success (0.04s)
2026-01-21T00:49:10.4430100Z === RUN   TestAccountsSimpleCollector_Collect_Disabled
2026-01-21T00:49:10.4430723Z --- PASS: TestAccountsSimpleCollector_Collect_Disabled (0.00s)
2026-01-21T00:49:10.4431351Z === RUN   TestAccountsSimpleCollector_Collect_Error
2026-01-21T00:49:10.4432388Z time="2026-01-21T00:49:08Z" level=error msg="Failed to list accounts" collector=accounts error="assert.AnError general error for testing" test=true
2026-01-21T00:49:10.4433481Z --- PASS: TestAccountsSimpleCollector_Collect_Error (0.00s)
2026-01-21T00:49:10.4434093Z === RUN   TestAccountsSimpleCollector_EmptyAccountList
2026-01-21T00:49:10.4434879Z time="2026-01-21T00:49:08Z" level=info msg="Collected account entries" collector=accounts count=0 test=true
2026-01-21T00:49:10.4436469Z --- PASS: TestAccountsSimpleCollector_EmptyAccountList (0.00s)
2026-01-21T00:49:10.4437178Z === RUN   TestAssociationsSimpleCollector_Describe
2026-01-21T00:49:10.4438088Z --- PASS: TestAssociationsSimpleCollector_Describe (0.00s)
2026-01-21T00:49:10.4439255Z === RUN   TestAssociationsSimpleCollector_Collect_Success
2026-01-21T00:49:10.4440226Z time="2026-01-21T00:49:08Z" level=info msg="Collected association entries" collector=associations count=2 test=true
2026-01-21T00:49:10.4441249Z --- PASS: TestAssociationsSimpleCollector_Collect_Success (0.00s)
2026-01-21T00:49:10.4441955Z === RUN   TestAssociationsSimpleCollector_Collect_Disabled
2026-01-21T00:49:10.4442644Z --- PASS: TestAssociationsSimpleCollector_Collect_Disabled (0.00s)
2026-01-21T00:49:10.4443687Z === RUN   TestAssociationsSimpleCollector_Collect_Error
2026-01-21T00:49:10.4445462Z time="2026-01-21T00:49:08Z" level=error msg="Failed to list associations" collector=associations error="assert.AnError general error for testing" test=true
2026-01-21T00:49:10.4447345Z --- PASS: TestAssociationsSimpleCollector_Collect_Error (0.00s)
2026-01-21T00:49:10.4448031Z === RUN   TestAssociationsSimpleCollector_EmptyAssociationList
2026-01-21T00:49:10.4449356Z time="2026-01-21T00:49:08Z" level=info msg="Collected association entries" collector=associations count=0 test=true
2026-01-21T00:49:10.4450459Z --- PASS: TestAssociationsSimpleCollector_EmptyAssociationList (0.00s)
2026-01-21T00:49:10.4451456Z === RUN   TestBaseCollector
2026-01-21T00:49:10.4451813Z === RUN   TestBaseCollector/Name
2026-01-21T00:49:10.4452226Z === RUN   TestBaseCollector/EnabledState
2026-01-21T00:49:10.4452929Z time="2026-01-21T00:49:08Z" level=info msg="Collector disabled" collector=test_collector
2026-01-21T00:49:10.4454552Z time="2026-01-21T00:49:08Z" level=info msg="Collector enabled" collector=test_collector
2026-01-21T00:49:10.4455596Z === RUN   TestBaseCollector/State
2026-01-21T00:49:10.4456047Z === RUN   TestBaseCollector/CollectWithMetrics
2026-01-21T00:49:10.4456966Z time="2026-01-21T00:49:08Z" level=error msg="Collection failed" collector=test_collector error="collection failed"
2026-01-21T00:49:10.4457859Z === RUN   TestBaseCollector/RetryLogic
2026-01-21T00:49:10.4458340Z === RUN   TestBaseCollector/ErrorHandling
2026-01-21T00:49:10.4458807Z === RUN   TestBaseCollector/MetricBuilding
2026-01-21T00:49:10.4459278Z --- PASS: TestBaseCollector (0.00s)
2026-01-21T00:49:10.4459784Z     --- PASS: TestBaseCollector/Name (0.00s)
2026-01-21T00:49:10.4460839Z     --- PASS: TestBaseCollector/EnabledState (0.00s)
2026-01-21T00:49:10.4461441Z     --- PASS: TestBaseCollector/State (0.00s)
2026-01-21T00:49:10.4462073Z     --- PASS: TestBaseCollector/CollectWithMetrics (0.00s)
2026-01-21T00:49:10.4463095Z     --- PASS: TestBaseCollector/RetryLogic (0.00s)
2026-01-21T00:49:10.4464233Z     --- PASS: TestBaseCollector/ErrorHandling (0.00s)
2026-01-21T00:49:10.4465181Z     --- PASS: TestBaseCollector/MetricBuilding (0.00s)
2026-01-21T00:49:10.4466153Z === RUN   TestCollectorMetrics
2026-01-21T00:49:10.4466578Z --- PASS: TestCollectorMetrics (0.00s)
2026-01-21T00:49:10.4467041Z === RUN   TestClusterSimpleCollector_Describe
2026-01-21T00:49:10.4467597Z --- PASS: TestClusterSimpleCollector_Describe (0.00s)
2026-01-21T00:49:10.4468221Z === RUN   TestClusterSimpleCollector_Collect_Success
2026-01-21T00:49:10.4469146Z time="2026-01-21T00:49:08Z" level=info msg="Collected cluster info" cluster=test-cluster collector=cluster test=true
2026-01-21T00:49:10.4470149Z --- PASS: TestClusterSimpleCollector_Collect_Success (0.00s)
2026-01-21T00:49:10.4470781Z === RUN   TestClusterSimpleCollector_Collect_Disabled
2026-01-21T00:49:10.4471401Z --- PASS: TestClusterSimpleCollector_Collect_Disabled (0.00s)
2026-01-21T00:49:10.4471970Z === RUN   TestClusterSimpleCollector_Collect_Error
2026-01-21T00:49:10.4473023Z time="2026-01-21T00:49:08Z" level=error msg="Failed to get cluster info" collector=cluster error="assert.AnError general error for testing" test=true
2026-01-21T00:49:10.4474109Z --- PASS: TestClusterSimpleCollector_Collect_Error (0.00s)
2026-01-21T00:49:10.4474702Z === RUN   TestClusterSimpleCollector_Collect_StatsError
2026-01-21T00:49:10.4475984Z time="2026-01-21T00:49:08Z" level=warning msg="Failed to get cluster stats, continuing with info only" collector=cluster error="assert.AnError general error for testing" test=true
2026-01-21T00:49:10.4478417Z time="2026-01-21T00:49:08Z" level=info msg="Collected cluster info" cluster=test-cluster collector=cluster test=true
2026-01-21T00:49:10.4479449Z --- PASS: TestClusterSimpleCollector_Collect_StatsError (0.00s)
2026-01-21T00:49:10.4480001Z === RUN   TestClusterCollector
2026-01-21T00:49:10.4480344Z === RUN   TestClusterCollector/Name
2026-01-21T00:49:10.4480733Z === RUN   TestClusterCollector/Enabled
2026-01-21T00:49:10.4481135Z === RUN   TestClusterCollector/Describe
2026-01-21T00:49:10.4481624Z === RUN   TestClusterCollector/Collect
2026-01-21T00:49:10.4482061Z === RUN   TestClusterCollector/CollectClusterInfo
2026-01-21T00:49:10.4482539Z === RUN   TestClusterCollector/CollectNodeSummary
2026-01-21T00:49:10.4483011Z === RUN   TestClusterCollector/CollectJobSummary
2026-01-21T00:49:10.4483553Z === RUN   TestClusterCollector/CollectPartitionSummary
2026-01-21T00:49:10.4484416Z --- PASS: TestClusterCollector (0.00s)
2026-01-21T00:49:10.4484913Z     --- PASS: TestClusterCollector/Name (0.00s)
2026-01-21T00:49:10.4485440Z     --- PASS: TestClusterCollector/Enabled (0.00s)
2026-01-21T00:49:10.4485996Z     --- PASS: TestClusterCollector/Describe (0.00s)
2026-01-21T00:49:10.4486552Z     --- PASS: TestClusterCollector/Collect (0.00s)
2026-01-21T00:49:10.4487186Z     --- PASS: TestClusterCollector/CollectClusterInfo (0.00s)
2026-01-21T00:49:10.4487861Z     --- PASS: TestClusterCollector/CollectNodeSummary (0.00s)
2026-01-21T00:49:10.4488543Z     --- PASS: TestClusterCollector/CollectJobSummary (0.00s)
2026-01-21T00:49:10.4489252Z     --- PASS: TestClusterCollector/CollectPartitionSummary (0.00s)
2026-01-21T00:49:10.4489836Z === RUN   TestClusterCollectorIntegration
2026-01-21T00:49:10.4490486Z     cluster_test.go:307: Successfully collected 22 metrics
2026-01-21T00:49:10.4491067Z --- PASS: TestClusterCollectorIntegration (0.00s)
2026-01-21T00:49:10.4491577Z === RUN   TestClustersCollector_Describe
2026-01-21T00:49:10.4492079Z --- PASS: TestClustersCollector_Describe (0.00s)
2026-01-21T00:49:10.4492967Z === RUN   TestClustersCollector_Collect_Success
2026-01-21T00:49:10.4493818Z time="2026-01-21T00:49:08Z" level=debug msg="Collecting cluster metrics" collector=clusters test=true
2026-01-21T00:49:10.4495075Z time="2026-01-21T00:49:08Z" level=debug msg="Cluster metrics collected" cluster_count=2 collector=clusters test=true
2026-01-21T00:49:10.4496037Z --- PASS: TestClustersCollector_Collect_Success (0.00s)
2026-01-21T00:49:10.4496838Z === RUN   TestClustersCollector_Collect_Error
2026-01-21T00:49:10.4497675Z time="2026-01-21T00:49:08Z" level=debug msg="Collecting cluster metrics" collector=clusters test=true
2026-01-21T00:49:10.4499120Z time="2026-01-21T00:49:08Z" level=error msg="Failed to get clusters" collector=clusters error="assert.AnError general error for testing" test=true
2026-01-21T00:49:10.4500329Z --- PASS: TestClustersCollector_Collect_Error (0.00s)
2026-01-21T00:49:10.4500929Z === RUN   TestClustersCollector_EmptyClusterList
2026-01-21T00:49:10.4501768Z time="2026-01-21T00:49:08Z" level=debug msg="Collecting cluster metrics" collector=clusters test=true
2026-01-21T00:49:10.4502983Z time="2026-01-21T00:49:08Z" level=debug msg="Cluster metrics collected" cluster_count=0 collector=clusters test=true
2026-01-21T00:49:10.4503900Z --- PASS: TestClustersCollector_EmptyClusterList (0.00s)
2026-01-21T00:49:10.4504487Z === RUN   TestClustersCollector_NullClustersManager
2026-01-21T00:49:10.4505310Z time="2026-01-21T00:49:08Z" level=debug msg="Collecting cluster metrics" collector=clusters test=true
2026-01-21T00:49:10.4506439Z time="2026-01-21T00:49:08Z" level=debug msg="Clusters manager not available" collector=clusters test=true
2026-01-21T00:49:10.4507630Z --- PASS: TestClustersCollector_NullClustersManager (0.00s)
2026-01-21T00:49:10.4518734Z === RUN   TestConcurrentCollector
2026-01-21T00:49:10.4521053Z === RUN   TestConcurrentCollector/EmptyRegistry
2026-01-21T00:49:10.4543392Z === RUN   TestConcurrentCollector/ConcurrentCollection
2026-01-21T00:49:10.4544275Z time="2026-01-21T00:49:08Z" level=info msg="Collector registered" collector=a component=collector_registry
2026-01-21T00:49:10.4545397Z time="2026-01-21T00:49:08Z" level=info msg="Collector registered" collector=b component=collector_registry
2026-01-21T00:49:10.4546455Z time="2026-01-21T00:49:08Z" level=info msg="Collector registered" collector=c component=collector_registry
2026-01-21T00:49:10.4547522Z time="2026-01-21T00:49:08Z" level=info msg="Collector registered" collector=d component=collector_registry
2026-01-21T00:49:10.4548585Z time="2026-01-21T00:49:08Z" level=info msg="Collector registered" collector=e component=collector_registry
2026-01-21T00:49:10.4549374Z === RUN   TestConcurrentCollector/MaxConcurrency
2026-01-21T00:49:10.4550618Z time="2026-01-21T00:49:08Z" level=warning msg="Failed to unregister collector from prometheus" collector=a component=collector_registry
2026-01-21T00:49:10.4552170Z time="2026-01-21T00:49:08Z" level=info msg="Collector unregistered" collector=a component=collector_registry
2026-01-21T00:49:10.4553463Z time="2026-01-21T00:49:08Z" level=warning msg="Failed to unregister collector from prometheus" collector=b component=collector_registry
2026-01-21T00:49:10.4554762Z time="2026-01-21T00:49:08Z" level=info msg="Collector unregistered" collector=b component=collector_registry
2026-01-21T00:49:10.4556050Z time="2026-01-21T00:49:08Z" level=warning msg="Failed to unregister collector from prometheus" collector=c component=collector_registry
2026-01-21T00:49:10.4557297Z time="2026-01-21T00:49:08Z" level=info msg="Collector unregistered" collector=c component=collector_registry
2026-01-21T00:49:10.4558557Z time="2026-01-21T00:49:08Z" level=warning msg="Failed to unregister collector from prometheus" collector=d component=collector_registry
2026-01-21T00:49:10.4559803Z time="2026-01-21T00:49:08Z" level=info msg="Collector unregistered" collector=d component=collector_registry
2026-01-21T00:49:10.4561056Z time="2026-01-21T00:49:08Z" level=warning msg="Failed to unregister collector from prometheus" collector=e component=collector_registry
2026-01-21T00:49:10.4562302Z time="2026-01-21T00:49:08Z" level=info msg="Collector unregistered" collector=e component=collector_registry
2026-01-21T00:49:10.4563369Z time="2026-01-21T00:49:08Z" level=info msg="Collector registered" collector=a component=collector_registry
2026-01-21T00:49:10.4565285Z time="2026-01-21T00:49:08Z" level=info msg="Collector registered" collector=b component=collector_registry
2026-01-21T00:49:10.4566401Z time="2026-01-21T00:49:08Z" level=info msg="Collector registered" collector=c component=collector_registry
2026-01-21T00:49:10.4567447Z time="2026-01-21T00:49:08Z" level=info msg="Collector registered" collector=d component=collector_registry
2026-01-21T00:49:10.4568499Z time="2026-01-21T00:49:08Z" level=info msg="Collector registered" collector=e component=collector_registry
2026-01-21T00:49:10.4569289Z === RUN   TestConcurrentCollector/ErrorHandling
2026-01-21T00:49:10.4570512Z time="2026-01-21T00:49:08Z" level=warning msg="Failed to unregister collector from prometheus" collector=b component=collector_registry
2026-01-21T00:49:10.4571846Z time="2026-01-21T00:49:08Z" level=info msg="Collector unregistered" collector=b component=collector_registry
2026-01-21T00:49:10.4573124Z time="2026-01-21T00:49:08Z" level=warning msg="Failed to unregister collector from prometheus" collector=c component=collector_registry
2026-01-21T00:49:10.4574571Z time="2026-01-21T00:49:08Z" level=info msg="Collector unregistered" collector=c component=collector_registry
2026-01-21T00:49:10.4575919Z time="2026-01-21T00:49:08Z" level=warning msg="Failed to unregister collector from prometheus" collector=d component=collector_registry
2026-01-21T00:49:10.4577200Z time="2026-01-21T00:49:08Z" level=info msg="Collector unregistered" collector=d component=collector_registry
2026-01-21T00:49:10.4578489Z time="2026-01-21T00:49:08Z" level=warning msg="Failed to unregister collector from prometheus" collector=e component=collector_registry
2026-01-21T00:49:10.4579788Z time="2026-01-21T00:49:08Z" level=info msg="Collector unregistered" collector=e component=collector_registry
2026-01-21T00:49:10.4581064Z time="2026-01-21T00:49:08Z" level=warning msg="Failed to unregister collector from prometheus" collector=a component=collector_registry
2026-01-21T00:49:10.4582301Z time="2026-01-21T00:49:08Z" level=info msg="Collector unregistered" collector=a component=collector_registry
2026-01-21T00:49:10.4583410Z time="2026-01-21T00:49:08Z" level=info msg="Collector registered" collector=success component=collector_registry
2026-01-21T00:49:10.4584514Z time="2026-01-21T00:49:08Z" level=info msg="Collector registered" collector=fail component=collector_registry
2026-01-21T00:49:10.4585770Z time="2026-01-21T00:49:08Z" level=error msg="Collection failed" collector=fail component=concurrent_collector error="collection failed"
2026-01-21T00:49:10.4587726Z === RUN   TestConcurrentCollector/ContextCancellation
2026-01-21T00:49:10.4588746Z time="2026-01-21T00:49:08Z" level=warning msg="Failed to unregister collector from prometheus" collector=success component=collector_registry
2026-01-21T00:49:10.4590376Z time="2026-01-21T00:49:08Z" level=info msg="Collector unregistered" collector=success component=collector_registry
2026-01-21T00:49:10.4591766Z time="2026-01-21T00:49:08Z" level=warning msg="Failed to unregister collector from prometheus" collector=fail component=collector_registry
2026-01-21T00:49:10.4593109Z time="2026-01-21T00:49:08Z" level=info msg="Collector unregistered" collector=fail component=collector_registry
2026-01-21T00:49:10.4594205Z time="2026-01-21T00:49:08Z" level=info msg="Collector registered" collector=slow component=collector_registry
2026-01-21T00:49:10.4594964Z === RUN   TestConcurrentCollector/Metrics
2026-01-21T00:49:10.4595932Z time="2026-01-21T00:49:08Z" level=warning msg="Failed to unregister collector from prometheus" collector=slow component=collector_registry
2026-01-21T00:49:10.4597233Z time="2026-01-21T00:49:08Z" level=info msg="Collector unregistered" collector=slow component=collector_registry
2026-01-21T00:49:10.4598383Z time="2026-01-21T00:49:09Z" level=info msg="Collector registered" collector=metric_test component=collector_registry
2026-01-21T00:49:10.4599180Z --- PASS: TestConcurrentCollector (0.19s)
2026-01-21T00:49:10.4599783Z     --- PASS: TestConcurrentCollector/EmptyRegistry (0.00s)
2026-01-21T00:49:10.4601183Z     --- PASS: TestConcurrentCollector/ConcurrentCollection (0.02s)
2026-01-21T00:49:10.4601904Z     --- PASS: TestConcurrentCollector/MaxConcurrency (0.07s)
2026-01-21T00:49:10.4602555Z     --- PASS: TestConcurrentCollector/ErrorHandling (0.00s)
2026-01-21T00:49:10.4603238Z     --- PASS: TestConcurrentCollector/ContextCancellation (0.00s)
2026-01-21T00:49:10.4603907Z     --- PASS: TestConcurrentCollector/Metrics (0.10s)
2026-01-21T00:49:10.4604372Z === RUN   TestCollectionOrchestrator
2026-01-21T00:49:10.4604813Z === RUN   TestCollectionOrchestrator/SetInterval
2026-01-21T00:49:10.4605272Z === RUN   TestCollectionOrchestrator/CollectNow
2026-01-21T00:49:10.4606119Z time="2026-01-21T00:49:09Z" level=info msg="Collector registered" collector=immediate component=collector_registry
2026-01-21T00:49:10.4606998Z === RUN   TestCollectionOrchestrator/ScheduledCollection
2026-01-21T00:49:10.4607873Z time="2026-01-21T00:49:09Z" level=info msg="Collector registered" collector=scheduled component=collector_registry
2026-01-21T00:49:10.4609005Z time="2026-01-21T00:49:09Z" level=info msg="Starting collection orchestrator" component=collection_orchestrator
2026-01-21T00:49:10.4610141Z time="2026-01-21T00:49:09Z" level=info msg="Stopping collection orchestrator" component=collection_orchestrator
2026-01-21T00:49:10.4610958Z --- PASS: TestCollectionOrchestrator (0.30s)
2026-01-21T00:49:10.4611561Z     --- PASS: TestCollectionOrchestrator/SetInterval (0.00s)
2026-01-21T00:49:10.4612233Z     --- PASS: TestCollectionOrchestrator/CollectNow (0.00s)
2026-01-21T00:49:10.4612958Z     --- PASS: TestCollectionOrchestrator/ScheduledCollection (0.30s)
2026-01-21T00:49:10.4613514Z === RUN   TestCollectionResult
2026-01-21T00:49:10.4613874Z --- PASS: TestCollectionResult (0.00s)
2026-01-21T00:49:10.4614246Z === RUN   TestCircuitBreaker
2026-01-21T00:49:10.4614612Z === RUN   TestCircuitBreaker/NormalOperation
2026-01-21T00:49:10.4615104Z === RUN   TestCircuitBreaker/CircuitOpensAfterFailures
2026-01-21T00:49:10.4616184Z time="2026-01-21T00:49:09Z" level=warning msg="Circuit breaker opened due to excessive failures" component=circuit_breaker failures=3 name=test
2026-01-21T00:49:10.4617269Z === RUN   TestCircuitBreaker/CircuitTransitionsToHalfOpen
2026-01-21T00:49:10.4618325Z time="2026-01-21T00:49:09Z" level=warning msg="Circuit breaker opened due to excessive failures" component=circuit_breaker failures=2 name=test
2026-01-21T00:49:10.4619901Z time="2026-01-21T00:49:09Z" level=info msg="Circuit breaker transitioning to half-open" component=circuit_breaker name=test
2026-01-21T00:49:10.4621467Z time="2026-01-21T00:49:09Z" level=info msg="Circuit breaker closed after successful test" component=circuit_breaker name=test
2026-01-21T00:49:10.4622729Z === RUN   TestCircuitBreaker/FailureInHalfOpenReturnsToOpen
2026-01-21T00:49:10.4623824Z time="2026-01-21T00:49:09Z" level=warning msg="Circuit breaker opened due to excessive failures" component=circuit_breaker failures=2 name=test
2026-01-21T00:49:10.4625228Z time="2026-01-21T00:49:09Z" level=info msg="Circuit breaker transitioning to half-open" component=circuit_breaker name=test
2026-01-21T00:49:10.4626617Z time="2026-01-21T00:49:09Z" level=warning msg="Circuit breaker returning to open after failed test" component=circuit_breaker name=test
2026-01-21T00:49:10.4627571Z === RUN   TestCircuitBreaker/ManualReset
2026-01-21T00:49:10.4628539Z time="2026-01-21T00:49:09Z" level=warning msg="Circuit breaker opened due to excessive failures" component=circuit_breaker failures=2 name=test
2026-01-21T00:49:10.4629886Z time="2026-01-21T00:49:09Z" level=info msg="Circuit breaker manually reset" component=circuit_breaker name=test
2026-01-21T00:49:10.4630662Z --- PASS: TestCircuitBreaker (0.30s)
2026-01-21T00:49:10.4631202Z     --- PASS: TestCircuitBreaker/NormalOperation (0.00s)
2026-01-21T00:49:10.4631855Z     --- PASS: TestCircuitBreaker/CircuitOpensAfterFailures (0.00s)
2026-01-21T00:49:10.4632597Z     --- PASS: TestCircuitBreaker/CircuitTransitionsToHalfOpen (0.15s)
2026-01-21T00:49:10.4634212Z     --- PASS: TestCircuitBreaker/FailureInHalfOpenReturnsToOpen (0.15s)
2026-01-21T00:49:10.4634943Z     --- PASS: TestCircuitBreaker/ManualReset (0.00s)
2026-01-21T00:49:10.4635389Z === RUN   TestDegradationManager
2026-01-21T00:49:10.4635802Z === RUN   TestDegradationManager/SuccessfulCollection
2026-01-21T00:49:10.4636343Z === RUN   TestDegradationManager/CachedMetricsAfterFailure
2026-01-21T00:49:10.4637460Z time="2026-01-21T00:49:09Z" level=warning msg="Circuit breaker opened due to excessive failures" component=circuit_breaker failures=2 name=cache_test
2026-01-21T00:49:10.4673303Z time="2026-01-21T00:49:09Z" level=info msg="Serving cached metrics due to circuit breaker open" cached_at="2026-01-21 00:49:09.6185041 +0000 UTC m=+0.861183601" collector=cache_test component=degradation_manager
2026-01-21T00:49:10.4676191Z time="2026-01-21T00:49:09Z" level=info msg="Serving cached metrics due to circuit breaker open" cached_at="2026-01-21 00:49:09.6185041 +0000 UTC m=+0.861183601" collector=cache_test component=degradation_manager
2026-01-21T00:49:10.4677622Z === RUN   TestDegradationManager/CacheExpiry
2026-01-21T00:49:10.4678732Z time="2026-01-21T00:49:09Z" level=warning msg="Circuit breaker opened due to excessive failures" component=circuit_breaker failures=2 name=expiry_test
2026-01-21T00:49:10.4680749Z time="2026-01-21T00:49:09Z" level=info msg="Serving cached metrics due to circuit breaker open" cached_at="2026-01-21 00:49:09.6190853 +0000 UTC m=+0.861764801" collector=expiry_test component=degradation_manager
2026-01-21T00:49:10.4682621Z time="2026-01-21T00:49:09Z" level=info msg="Circuit breaker transitioning to half-open" component=circuit_breaker name=expiry_test
2026-01-21T00:49:10.4684153Z time="2026-01-21T00:49:09Z" level=warning msg="Circuit breaker returning to open after failed test" component=circuit_breaker name=expiry_test
2026-01-21T00:49:10.4685243Z === RUN   TestDegradationManager/DegradationModeTracking
2026-01-21T00:49:10.4686370Z time="2026-01-21T00:49:09Z" level=warning msg="System in degraded mode" component=degradation_manager mode=1 open_breakers=1 total_breakers=2
2026-01-21T00:49:10.4687451Z === RUN   TestDegradationManager/GetDegradationStats
2026-01-21T00:49:10.4687984Z === RUN   TestDegradationManager/ResetAllBreakers
2026-01-21T00:49:10.4688922Z time="2026-01-21T00:49:09Z" level=info msg="Circuit breaker manually reset" component=circuit_breaker name=test_collector
2026-01-21T00:49:10.4690446Z time="2026-01-21T00:49:09Z" level=info msg="Circuit breaker manually reset" component=circuit_breaker name=cache_test
2026-01-21T00:49:10.4691599Z time="2026-01-21T00:49:09Z" level=info msg="All circuit breakers reset" component=degradation_manager
2026-01-21T00:49:10.4692360Z --- PASS: TestDegradationManager (0.15s)
2026-01-21T00:49:10.4693001Z     --- PASS: TestDegradationManager/SuccessfulCollection (0.00s)
2026-01-21T00:49:10.4694475Z     --- PASS: TestDegradationManager/CachedMetricsAfterFailure (0.00s)
2026-01-21T00:49:10.4695226Z     --- PASS: TestDegradationManager/CacheExpiry (0.15s)
2026-01-21T00:49:10.4695955Z     --- PASS: TestDegradationManager/DegradationModeTracking (0.00s)
2026-01-21T00:49:10.4696753Z     --- PASS: TestDegradationManager/GetDegradationStats (0.00s)
2026-01-21T00:49:10.4697484Z     --- PASS: TestDegradationManager/ResetAllBreakers (0.00s)
2026-01-21T00:49:10.4698015Z === RUN   TestDegradationMetrics
2026-01-21T00:49:10.4698410Z --- PASS: TestDegradationMetrics (0.00s)
2026-01-21T00:49:10.4699217Z === RUN   TestDegradationConfig
2026-01-21T00:49:10.4699620Z === RUN   TestDegradationConfig/ValidConfig
2026-01-21T00:49:10.4700100Z === RUN   TestDegradationConfig/InvalidMaxFailures
2026-01-21T00:49:10.4700653Z === RUN   TestDegradationConfig/InvalidResetTimeout
2026-01-21T00:49:10.4701206Z === RUN   TestDegradationConfig/InvalidCacheTTL
2026-01-21T00:49:10.4701733Z === RUN   TestDegradationConfig/DisabledConfig
2026-01-21T00:49:10.4702208Z --- PASS: TestDegradationConfig (0.00s)
2026-01-21T00:49:10.4703009Z     --- PASS: TestDegradationConfig/ValidConfig (0.00s)
2026-01-21T00:49:10.4703720Z     --- PASS: TestDegradationConfig/InvalidMaxFailures (0.00s)
2026-01-21T00:49:10.4704475Z     --- PASS: TestDegradationConfig/InvalidResetTimeout (0.00s)
2026-01-21T00:49:10.4705212Z     --- PASS: TestDegradationConfig/InvalidCacheTTL (0.00s)
2026-01-21T00:49:10.4705902Z     --- PASS: TestDegradationConfig/DisabledConfig (0.00s)
2026-01-21T00:49:10.4706435Z === RUN   TestDegradedCollector
2026-01-21T00:49:10.4706883Z === RUN   TestDegradedCollector/SuccessfulCollection
2026-01-21T00:49:10.4707442Z === RUN   TestDegradedCollector/FailureWithCaching
2026-01-21T00:49:10.4708604Z time="2026-01-21T00:49:09Z" level=warning msg="Circuit breaker opened due to excessive failures" component=circuit_breaker failures=2 name=failing_test
2026-01-21T00:49:10.4710684Z time="2026-01-21T00:49:09Z" level=info msg="Serving cached metrics due to circuit breaker open" cached_at="2026-01-21 00:49:09.7706703 +0000 UTC m=+1.013350001" collector=failing_test component=degradation_manager
2026-01-21T00:49:10.4713085Z time="2026-01-21T00:49:09Z" level=info msg="Serving cached metrics due to circuit breaker open" cached_at="2026-01-21 00:49:09.7706703 +0000 UTC m=+1.013350001" collector=failing_test component=degradation_manager
2026-01-21T00:49:10.4714533Z === RUN   TestDegradedCollector/InterfaceMethods
2026-01-21T00:49:10.4715059Z --- PASS: TestDegradedCollector (0.00s)
2026-01-21T00:49:10.4715767Z     --- PASS: TestDegradedCollector/SuccessfulCollection (0.00s)
2026-01-21T00:49:10.4716550Z     --- PASS: TestDegradedCollector/FailureWithCaching (0.00s)
2026-01-21T00:49:10.4717288Z     --- PASS: TestDegradedCollector/InterfaceMethods (0.00s)
2026-01-21T00:49:10.4717823Z === RUN   TestDegradedRegistry
2026-01-21T00:49:10.4718244Z === RUN   TestDegradedRegistry/RegisterAndGet
2026-01-21T00:49:10.4719531Z time="2026-01-21T00:49:09Z" level=info msg="Collector registered" collector=test_collector component=collector_registry
2026-01-21T00:49:10.4721116Z time="2026-01-21T00:49:09Z" level=info msg="Registered collector with degradation support" collector=test_collector component=degraded_registry
2026-01-21T00:49:10.4722192Z === RUN   TestDegradedRegistry/List
2026-01-21T00:49:10.4722628Z === RUN   TestDegradedRegistry/Unregister
2026-01-21T00:49:10.4723738Z time="2026-01-21T00:49:09Z" level=warning msg="Failed to unregister collector from prometheus" collector=test_collector component=collector_registry
2026-01-21T00:49:10.4725526Z time="2026-01-21T00:49:09Z" level=info msg="Collector unregistered" collector=test_collector component=collector_registry
2026-01-21T00:49:10.4726750Z === RUN   TestDegradedRegistry/DegradationManagement
2026-01-21T00:49:10.4727646Z time="2026-01-21T00:49:09Z" level=info msg="All circuit breakers reset" component=degradation_manager
2026-01-21T00:49:10.4728455Z === RUN   TestDegradedRegistry/PrometheusCollector
2026-01-21T00:49:10.4728973Z === RUN   TestDegradedRegistry/CollectAll
2026-01-21T00:49:10.4729901Z time="2026-01-21T00:49:09Z" level=info msg="Collector registered" collector=collect_all_test component=collector_registry
2026-01-21T00:49:10.4731499Z time="2026-01-21T00:49:09Z" level=info msg="Registered collector with degradation support" collector=collect_all_test component=degraded_registry
2026-01-21T00:49:10.4732584Z --- PASS: TestDegradedRegistry (0.00s)
2026-01-21T00:49:10.4733202Z     --- PASS: TestDegradedRegistry/RegisterAndGet (0.00s)
2026-01-21T00:49:10.4733822Z     --- PASS: TestDegradedRegistry/List (0.00s)
2026-01-21T00:49:10.4734394Z     --- PASS: TestDegradedRegistry/Unregister (0.00s)
2026-01-21T00:49:10.4735080Z     --- PASS: TestDegradedRegistry/DegradationManagement (0.00s)
2026-01-21T00:49:10.4735794Z     --- PASS: TestDegradedRegistry/PrometheusCollector (0.00s)
2026-01-21T00:49:10.4736454Z     --- PASS: TestDegradedRegistry/CollectAll (0.00s)
2026-01-21T00:49:10.4737023Z === RUN   TestDegradedRegistryWithDisabledDegradation
2026-01-21T00:49:10.4739232Z time="2026-01-21T00:49:09Z" level=info msg="Collector registered" collector=no_degradation_test component=collector_registry
2026-01-21T00:49:10.4740359Z --- PASS: TestDegradedRegistryWithDisabledDegradation (0.00s)
2026-01-21T00:49:10.4740968Z === RUN   TestDiagnosticsCollector_Describe
2026-01-21T00:49:10.4741497Z --- PASS: TestDiagnosticsCollector_Describe (0.00s)
2026-01-21T00:49:10.4742031Z === RUN   TestDiagnosticsCollector_Collect_Success
2026-01-21T00:49:10.4742907Z time="2026-01-21T00:49:09Z" level=debug msg="Collecting diagnostics metrics" collector=diagnostics test=true
2026-01-21T00:49:10.4744078Z time="2026-01-21T00:49:09Z" level=debug msg="Diagnostics metrics collected" collector=diagnostics test=true
2026-01-21T00:49:10.4744966Z --- PASS: TestDiagnosticsCollector_Collect_Success (0.00s)
2026-01-21T00:49:10.4745867Z === RUN   TestDiagnosticsCollector_Collect_Error
2026-01-21T00:49:10.4746693Z time="2026-01-21T00:49:09Z" level=debug msg="Collecting diagnostics metrics" collector=diagnostics test=true
2026-01-21T00:49:10.4748120Z time="2026-01-21T00:49:09Z" level=debug msg="Failed to get diagnostics" collector=diagnostics error="assert.AnError general error for testing" test=true
2026-01-21T00:49:10.4749315Z --- PASS: TestDiagnosticsCollector_Collect_Error (0.00s)
2026-01-21T00:49:10.4749843Z === RUN   TestCollectionError
2026-01-21T00:49:10.4750245Z === RUN   TestCollectionError/ErrorInterface
2026-01-21T00:49:10.4750727Z === RUN   TestCollectionError/LogFields
2026-01-21T00:49:10.4751179Z --- PASS: TestCollectionError (0.00s)
2026-01-21T00:49:10.4751775Z     --- PASS: TestCollectionError/ErrorInterface (0.00s)
2026-01-21T00:49:10.4752414Z     --- PASS: TestCollectionError/LogFields (0.00s)
2026-01-21T00:49:10.4752879Z === RUN   TestErrorBuilder
2026-01-21T00:49:10.4753255Z === RUN   TestErrorBuilder/Connection
2026-01-21T00:49:10.4753676Z === RUN   TestErrorBuilder/Auth
2026-01-21T00:49:10.4754070Z === RUN   TestErrorBuilder/Timeout
2026-01-21T00:49:10.4754463Z === RUN   TestErrorBuilder/API
2026-01-21T00:49:10.4754871Z --- PASS: TestErrorBuilder (0.00s)
2026-01-21T00:49:10.4755391Z     --- PASS: TestErrorBuilder/Connection (0.00s)
2026-01-21T00:49:10.4755916Z     --- PASS: TestErrorBuilder/Auth (0.00s)
2026-01-21T00:49:10.4756418Z     --- PASS: TestErrorBuilder/Timeout (0.00s)
2026-01-21T00:49:10.4756914Z     --- PASS: TestErrorBuilder/API (0.00s)
2026-01-21T00:49:10.4757305Z === RUN   TestErrorAnalyzer
2026-01-21T00:49:10.4758026Z === RUN   TestErrorAnalyzer/ConnectionRefused
2026-01-21T00:49:10.4758495Z === RUN   TestErrorAnalyzer/Timeout
2026-01-21T00:49:10.4758914Z === RUN   TestErrorAnalyzer/Unauthorized
2026-01-21T00:49:10.4759352Z === RUN   TestErrorAnalyzer/RateLimit
2026-01-21T00:49:10.4759776Z === RUN   TestErrorAnalyzer/Permission
2026-01-21T00:49:10.4760204Z === RUN   TestErrorAnalyzer/Unknown
2026-01-21T00:49:10.4760993Z === RUN   TestErrorAnalyzer/ExistingCollectionError
2026-01-21T00:49:10.4761481Z === RUN   TestErrorAnalyzer/NilError
2026-01-21T00:49:10.4761906Z --- PASS: TestErrorAnalyzer (0.00s)
2026-01-21T00:49:10.4762463Z     --- PASS: TestErrorAnalyzer/ConnectionRefused (0.00s)
2026-01-21T00:49:10.4763073Z     --- PASS: TestErrorAnalyzer/Timeout (0.00s)
2026-01-21T00:49:10.4763653Z     --- PASS: TestErrorAnalyzer/Unauthorized (0.00s)
2026-01-21T00:49:10.4764235Z     --- PASS: TestErrorAnalyzer/RateLimit (0.00s)
2026-01-21T00:49:10.4764816Z     --- PASS: TestErrorAnalyzer/Permission (0.00s)
2026-01-21T00:49:10.4765402Z     --- PASS: TestErrorAnalyzer/Unknown (0.00s)
2026-01-21T00:49:10.4766045Z     --- PASS: TestErrorAnalyzer/ExistingCollectionError (0.00s)
2026-01-21T00:49:10.4766663Z     --- PASS: TestErrorAnalyzer/NilError (0.00s)
2026-01-21T00:49:10.4767141Z === RUN   TestErrorRecoveryHandler
2026-01-21T00:49:10.4767594Z === RUN   TestErrorRecoveryHandler/NilError
2026-01-21T00:49:10.4768109Z === RUN   TestErrorRecoveryHandler/ConnectionError
2026-01-21T00:49:10.4768907Z time="2026-01-21T00:49:09Z" level=info msg="Attempting connection error recovery" collector=test
2026-01-21T00:49:10.4769915Z === RUN   TestErrorRecoveryHandler/TimeoutError
2026-01-21T00:49:10.4770652Z time="2026-01-21T00:49:09Z" level=info msg="Attempting timeout error recovery" collector=test
2026-01-21T00:49:10.4771413Z === RUN   TestErrorRecoveryHandler/RateLimitError
2026-01-21T00:49:10.4772179Z time="2026-01-21T00:49:09Z" level=info msg="Attempting rate limit error recovery" collector=test
2026-01-21T00:49:10.4773175Z time="2026-01-21T00:49:09Z" level=info msg="Backing off due to rate limit" retry_after=100ms
2026-01-21T00:49:10.4773919Z === RUN   TestErrorRecoveryHandler/AuthError
2026-01-21T00:49:10.4774813Z time="2026-01-21T00:49:09Z" level=error msg="Authentication error requires manual intervention" collector=test
2026-01-21T00:49:10.4775702Z === RUN   TestErrorRecoveryHandler/OtherError
2026-01-21T00:49:10.4776197Z --- PASS: TestErrorRecoveryHandler (0.00s)
2026-01-21T00:49:10.4776781Z     --- PASS: TestErrorRecoveryHandler/NilError (0.00s)
2026-01-21T00:49:10.4777449Z     --- PASS: TestErrorRecoveryHandler/ConnectionError (0.00s)
2026-01-21T00:49:10.4778122Z     --- PASS: TestErrorRecoveryHandler/TimeoutError (0.00s)
2026-01-21T00:49:10.4778809Z     --- PASS: TestErrorRecoveryHandler/RateLimitError (0.00s)
2026-01-21T00:49:10.4779468Z     --- PASS: TestErrorRecoveryHandler/AuthError (0.00s)
2026-01-21T00:49:10.4780111Z     --- PASS: TestErrorRecoveryHandler/OtherError (0.00s)
2026-01-21T00:49:10.4780630Z === RUN   TestErrorClassification
2026-01-21T00:49:10.4783036Z === RUN   TestErrorClassification/ConnectionRefused
2026-01-21T00:49:10.4783645Z === RUN   TestErrorClassification/ConnectionReset
2026-01-21T00:49:10.4784139Z === RUN   TestErrorClassification/NoSuchHost
2026-01-21T00:49:10.4784650Z === RUN   TestErrorClassification/NetworkUnreachable
2026-01-21T00:49:10.4785146Z === RUN   TestErrorClassification/DialTCP
2026-01-21T00:49:10.4785613Z === RUN   TestErrorClassification/NotConnection
2026-01-21T00:49:10.4786078Z === RUN   TestErrorClassification/Timeout
2026-01-21T00:49:10.4786552Z === RUN   TestErrorClassification/DeadlineExceeded
2026-01-21T00:49:10.4787071Z === RUN   TestErrorClassification/RequestTimeout
2026-01-21T00:49:10.4787557Z === RUN   TestErrorClassification/NotTimeout
2026-01-21T00:49:10.4788053Z === RUN   TestErrorClassification/Unauthorized
2026-01-21T00:49:10.4788511Z === RUN   TestErrorClassification/AuthFailed
2026-01-21T00:49:10.4788961Z === RUN   TestErrorClassification/InvalidToken
2026-01-21T00:49:10.4789736Z === RUN   TestErrorClassification/TokenExpired
2026-01-21T00:49:10.4790218Z === RUN   TestErrorClassification/NotAuth
2026-01-21T00:49:10.4790686Z === RUN   TestErrorClassification/RateLimit
2026-01-21T00:49:10.4791186Z === RUN   TestErrorClassification/TooManyRequests
2026-01-21T00:49:10.4791712Z === RUN   TestErrorClassification/QuotaExceeded
2026-01-21T00:49:10.4792199Z === RUN   TestErrorClassification/Throttle
2026-01-21T00:49:10.4792683Z === RUN   TestErrorClassification/NotRateLimit
2026-01-21T00:49:10.4793210Z === RUN   TestErrorClassification/PermissionDenied
2026-01-21T00:49:10.4793725Z === RUN   TestErrorClassification/Forbidden
2026-01-21T00:49:10.4794203Z === RUN   TestErrorClassification/AccessDenied
2026-01-21T00:49:10.4794705Z === RUN   TestErrorClassification/NotAuthorized
2026-01-21T00:49:10.4795197Z === RUN   TestErrorClassification/NotPermission
2026-01-21T00:49:10.4795664Z --- PASS: TestErrorClassification (0.00s)
2026-01-21T00:49:10.4796337Z     --- PASS: TestErrorClassification/ConnectionRefused (0.00s)
2026-01-21T00:49:10.4797094Z     --- PASS: TestErrorClassification/ConnectionReset (0.00s)
2026-01-21T00:49:10.4797791Z     --- PASS: TestErrorClassification/NoSuchHost (0.00s)
2026-01-21T00:49:10.4798533Z     --- PASS: TestErrorClassification/NetworkUnreachable (0.00s)
2026-01-21T00:49:10.4799241Z     --- PASS: TestErrorClassification/DialTCP (0.00s)
2026-01-21T00:49:10.4799913Z     --- PASS: TestErrorClassification/NotConnection (0.00s)
2026-01-21T00:49:10.4800798Z     --- PASS: TestErrorClassification/Timeout (0.00s)
2026-01-21T00:49:10.4801940Z     --- PASS: TestErrorClassification/DeadlineExceeded (0.00s)
2026-01-21T00:49:10.4802717Z     --- PASS: TestErrorClassification/RequestTimeout (0.00s)
2026-01-21T00:49:10.4803433Z     --- PASS: TestErrorClassification/NotTimeout (0.00s)
2026-01-21T00:49:10.4804116Z     --- PASS: TestErrorClassification/Unauthorized (0.00s)
2026-01-21T00:49:10.4804789Z     --- PASS: TestErrorClassification/AuthFailed (0.00s)
2026-01-21T00:49:10.4805477Z     --- PASS: TestErrorClassification/InvalidToken (0.00s)
2026-01-21T00:49:10.4806156Z     --- PASS: TestErrorClassification/TokenExpired (0.00s)
2026-01-21T00:49:10.4806820Z     --- PASS: TestErrorClassification/NotAuth (0.00s)
2026-01-21T00:49:10.4807457Z     --- PASS: TestErrorClassification/RateLimit (0.00s)
2026-01-21T00:49:10.4808154Z     --- PASS: TestErrorClassification/TooManyRequests (0.00s)
2026-01-21T00:49:10.4808867Z     --- PASS: TestErrorClassification/QuotaExceeded (0.00s)
2026-01-21T00:49:10.4809543Z     --- PASS: TestErrorClassification/Throttle (0.00s)
2026-01-21T00:49:10.4810218Z     --- PASS: TestErrorClassification/NotRateLimit (0.00s)
2026-01-21T00:49:10.4810935Z     --- PASS: TestErrorClassification/PermissionDenied (0.00s)
2026-01-21T00:49:10.4811637Z     --- PASS: TestErrorClassification/Forbidden (0.00s)
2026-01-21T00:49:10.4812299Z     --- PASS: TestErrorClassification/AccessDenied (0.00s)
2026-01-21T00:49:10.4812999Z     --- PASS: TestErrorClassification/NotAuthorized (0.00s)
2026-01-21T00:49:10.4813690Z     --- PASS: TestErrorClassification/NotPermission (0.00s)
2026-01-21T00:49:10.4814220Z === RUN   TestContainsHelper
2026-01-21T00:49:10.4814683Z === RUN   TestContainsHelper/hello_world_contains_hello
2026-01-21T00:49:10.4815253Z === RUN   TestContainsHelper/hello_world_contains_world
2026-01-21T00:49:10.4815817Z === RUN   TestContainsHelper/hello_world_contains_lo_wo
2026-01-21T00:49:10.4816368Z === RUN   TestContainsHelper/hello_world_contains_xyz
2026-01-21T00:49:10.4816935Z === RUN   TestContainsHelper/timeout_contains_timeout
2026-01-21T00:49:10.4817553Z === RUN   TestContainsHelper/connection_timeout_contains_timeout
2026-01-21T00:49:10.4818163Z === RUN   TestContainsHelper/_contains_timeout
2026-01-21T00:49:10.4818661Z === RUN   TestContainsHelper/timeout_contains_
2026-01-21T00:49:10.4819145Z --- PASS: TestContainsHelper (0.00s)
2026-01-21T00:49:10.4819806Z     --- PASS: TestContainsHelper/hello_world_contains_hello (0.00s)
2026-01-21T00:49:10.4820808Z     --- PASS: TestContainsHelper/hello_world_contains_world (0.00s)
2026-01-21T00:49:10.4821925Z     --- PASS: TestContainsHelper/hello_world_contains_lo_wo (0.00s)
2026-01-21T00:49:10.4822680Z     --- PASS: TestContainsHelper/hello_world_contains_xyz (0.00s)
2026-01-21T00:49:10.4823448Z     --- PASS: TestContainsHelper/timeout_contains_timeout (0.00s)
2026-01-21T00:49:10.4824270Z     --- PASS: TestContainsHelper/connection_timeout_contains_timeout (0.00s)
2026-01-21T00:49:10.4825030Z     --- PASS: TestContainsHelper/_contains_timeout (0.00s)
2026-01-21T00:49:10.4825659Z     --- PASS: TestContainsHelper/timeout_contains_ (0.00s)
2026-01-21T00:49:10.4826126Z === RUN   TestJobCollector
2026-01-21T00:49:10.4826459Z === RUN   TestJobCollector/Name
2026-01-21T00:49:10.4826826Z === RUN   TestJobCollector/Enabled
2026-01-21T00:49:10.4827227Z === RUN   TestJobCollector/Describe
2026-01-21T00:49:10.4827595Z === RUN   TestJobCollector/Collect
2026-01-21T00:49:10.4827997Z === RUN   TestJobCollector/CollectActiveJobs
2026-01-21T00:49:10.4828455Z === RUN   TestJobCollector/CollectJobQueueStats
2026-01-21T00:49:10.4828937Z === RUN   TestJobCollector/CollectJobStatesSummary
2026-01-21T00:49:10.4829398Z --- PASS: TestJobCollector (0.00s)
2026-01-21T00:49:10.4829828Z     --- PASS: TestJobCollector/Name (0.00s)
2026-01-21T00:49:10.4830325Z     --- PASS: TestJobCollector/Enabled (0.00s)
2026-01-21T00:49:10.4830830Z     --- PASS: TestJobCollector/Describe (0.00s)
2026-01-21T00:49:10.4831542Z     --- PASS: TestJobCollector/Collect (0.00s)
2026-01-21T00:49:10.4832127Z     --- PASS: TestJobCollector/CollectActiveJobs (0.00s)
2026-01-21T00:49:10.4832775Z     --- PASS: TestJobCollector/CollectJobQueueStats (0.00s)
2026-01-21T00:49:10.4833447Z     --- PASS: TestJobCollector/CollectJobStatesSummary (0.00s)
2026-01-21T00:49:10.4833961Z === RUN   TestJobCollectorUtilities
2026-01-21T00:49:10.4834407Z === RUN   TestJobCollectorUtilities/ParseJobState
2026-01-21T00:49:10.4834897Z --- PASS: TestJobCollectorUtilities (0.00s)
2026-01-21T00:49:10.4835494Z     --- PASS: TestJobCollectorUtilities/ParseJobState (0.00s)
2026-01-21T00:49:10.4836026Z === RUN   TestJobCollectorIntegration
2026-01-21T00:49:10.4836610Z     job_test.go:335: Successfully collected 34 metrics
2026-01-21T00:49:10.4837478Z     job_test.go:336: Metric breakdown: map[allocations:9 info:3 requests:9 scheduling:7 states:6]
2026-01-21T00:49:10.4838212Z --- PASS: TestJobCollectorIntegration (0.00s)
2026-01-21T00:49:10.4838679Z === RUN   TestJobsSimpleCollector_Describe
2026-01-21T00:49:10.4839150Z --- PASS: TestJobsSimpleCollector_Describe (0.00s)
2026-01-21T00:49:10.4839643Z === RUN   TestJobsSimpleCollector_Collect_Success
2026-01-21T00:49:10.4840371Z time="2026-01-21T00:49:09Z" level=info msg="Collected job entries" collector=jobs count=5 test=true
2026-01-21T00:49:10.4841161Z --- PASS: TestJobsSimpleCollector_Collect_Success (0.00s)
2026-01-21T00:49:10.4841969Z === RUN   TestJobsSimpleCollector_Collect_Disabled
2026-01-21T00:49:10.4842492Z --- PASS: TestJobsSimpleCollector_Collect_Disabled (0.00s)
2026-01-21T00:49:10.4843022Z === RUN   TestJobsSimpleCollector_Collect_Error
2026-01-21T00:49:10.4843950Z time="2026-01-21T00:49:09Z" level=error msg="Failed to list jobs" collector=jobs error="assert.AnError general error for testing" test=true
2026-01-21T00:49:10.4844927Z --- PASS: TestJobsSimpleCollector_Collect_Error (0.00s)
2026-01-21T00:49:10.4845412Z === RUN   TestJobsSimpleCollector_Filtering
2026-01-21T00:49:10.4846124Z time="2026-01-21T00:49:09Z" level=info msg="Collected job entries" collector=jobs count=5 test=true
2026-01-21T00:49:10.4846913Z --- PASS: TestJobsSimpleCollector_Filtering (0.00s)
2026-01-21T00:49:10.4847384Z === RUN   TestJobsSimpleCollector_CustomLabels
2026-01-21T00:49:10.4848085Z time="2026-01-21T00:49:09Z" level=info msg="Collected job entries" collector=jobs count=5 test=true
2026-01-21T00:49:10.4848874Z --- PASS: TestJobsSimpleCollector_CustomLabels (0.00s)
2026-01-21T00:49:10.4849571Z === RUN   TestJobsSimpleCollector_EmptyJobList
2026-01-21T00:49:10.4850250Z time="2026-01-21T00:49:09Z" level=info msg="Collected job entries" collector=jobs count=0 test=true
2026-01-21T00:49:10.4851014Z --- PASS: TestJobsSimpleCollector_EmptyJobList (0.00s)
2026-01-21T00:49:10.4851474Z === RUN   TestLabelHelper
2026-01-21T00:49:10.4851845Z === RUN   TestLabelHelper/ValidateAndBuildMetric
2026-01-21T00:49:10.4852467Z === RUN   TestLabelHelper/ValidateAndBuildMetricLabelMismatch
2026-01-21T00:49:10.4853016Z --- PASS: TestLabelHelper (0.00s)
2026-01-21T00:49:10.4853598Z     --- PASS: TestLabelHelper/ValidateAndBuildMetric (0.00s)
2026-01-21T00:49:10.4854411Z     --- PASS: TestLabelHelper/ValidateAndBuildMetricLabelMismatch (0.00s)
2026-01-21T00:49:10.4855046Z === RUN   TestStandardLabelSets
2026-01-21T00:49:10.4855462Z === RUN   TestStandardLabelSets/ClusterLabels
2026-01-21T00:49:10.4855932Z === RUN   TestStandardLabelSets/NodeLabels
2026-01-21T00:49:10.4856472Z === RUN   TestStandardLabelSets/JobLabels
2026-01-21T00:49:10.4856939Z === RUN   TestStandardLabelSets/PartitionLabels
2026-01-21T00:49:10.4857417Z === RUN   TestStandardLabelSets/UserLabels
2026-01-21T00:49:10.4857859Z === RUN   TestStandardLabelSets/StateLabels
2026-01-21T00:49:10.4858310Z --- PASS: TestStandardLabelSets (0.00s)
2026-01-21T00:49:10.4858881Z     --- PASS: TestStandardLabelSets/ClusterLabels (0.00s)
2026-01-21T00:49:10.4859520Z     --- PASS: TestStandardLabelSets/NodeLabels (0.00s)
2026-01-21T00:49:10.4860124Z     --- PASS: TestStandardLabelSets/JobLabels (0.00s)
2026-01-21T00:49:10.4860929Z     --- PASS: TestStandardLabelSets/PartitionLabels (0.00s)
2026-01-21T00:49:10.4861589Z     --- PASS: TestStandardLabelSets/UserLabels (0.00s)
2026-01-21T00:49:10.4862458Z     --- PASS: TestStandardLabelSets/StateLabels (0.00s)
2026-01-21T00:49:10.4862946Z === RUN   TestLabelSetBuilder
2026-01-21T00:49:10.4863342Z === RUN   TestLabelSetBuilder/FluentInterface
2026-01-21T00:49:10.4863805Z === RUN   TestLabelSetBuilder/WithJob
2026-01-21T00:49:10.4864222Z === RUN   TestLabelSetBuilder/WithCustom
2026-01-21T00:49:10.4864659Z === RUN   TestLabelSetBuilder/BuildSlice
2026-01-21T00:49:10.4865089Z --- PASS: TestLabelSetBuilder (0.00s)
2026-01-21T00:49:10.4865650Z     --- PASS: TestLabelSetBuilder/FluentInterface (0.00s)
2026-01-21T00:49:10.4866261Z     --- PASS: TestLabelSetBuilder/WithJob (0.00s)
2026-01-21T00:49:10.4866838Z     --- PASS: TestLabelSetBuilder/WithCustom (0.00s)
2026-01-21T00:49:10.4867430Z     --- PASS: TestLabelSetBuilder/BuildSlice (0.00s)
2026-01-21T00:49:10.4867928Z === RUN   TestDimensionalAnalysisReporter
2026-01-21T00:49:10.4868557Z === RUN   TestDimensionalAnalysisReporter/LogCardinalityAnalysis
2026-01-21T00:49:10.4869291Z === RUN   TestDimensionalAnalysisReporter/LogHighCardinalityWarnings
2026-01-21T00:49:10.4870023Z === RUN   TestDimensionalAnalysisReporter/LogRecommendations
2026-01-21T00:49:10.4870650Z --- PASS: TestDimensionalAnalysisReporter (0.00s)
2026-01-21T00:49:10.4871480Z     --- PASS: TestDimensionalAnalysisReporter/LogCardinalityAnalysis (0.00s)
2026-01-21T00:49:10.4872528Z     --- PASS: TestDimensionalAnalysisReporter/LogHighCardinalityWarnings (0.00s)
2026-01-21T00:49:10.4873524Z     --- PASS: TestDimensionalAnalysisReporter/LogRecommendations (0.00s)
2026-01-21T00:49:10.4874137Z === RUN   TestGetLabelNames
2026-01-21T00:49:10.4874482Z === RUN   TestGetLabelNames/GetLabelNames
2026-01-21T00:49:10.4874909Z --- PASS: TestGetLabelNames (0.00s)
2026-01-21T00:49:10.4875422Z     --- PASS: TestGetLabelNames/GetLabelNames (0.00s)
2026-01-21T00:49:10.4875918Z === RUN   TestLicensesCollector_Describe
2026-01-21T00:49:10.4876380Z --- PASS: TestLicensesCollector_Describe (0.00s)
2026-01-21T00:49:10.4876890Z === RUN   TestLicensesCollector_Collect_Success
2026-01-21T00:49:10.4877668Z time="2026-01-21T00:49:09Z" level=debug msg="Collecting license metrics" collector=licenses test=true
2026-01-21T00:49:10.4878837Z time="2026-01-21T00:49:09Z" level=debug msg="License metrics collected" collector=licenses license_count=2 test=true
2026-01-21T00:49:10.4880848Z --- PASS: TestLicensesCollector_Collect_Success (0.00s)
2026-01-21T00:49:10.4881382Z === RUN   TestLicensesCollector_Collect_Error
2026-01-21T00:49:10.4882453Z time="2026-01-21T00:49:09Z" level=debug msg="Collecting license metrics" collector=licenses test=true
2026-01-21T00:49:10.4883851Z time="2026-01-21T00:49:09Z" level=error msg="Failed to get licenses" collector=licenses error="assert.AnError general error for testing" test=true
2026-01-21T00:49:10.4884973Z --- PASS: TestLicensesCollector_Collect_Error (0.00s)
2026-01-21T00:49:10.4885529Z === RUN   TestLicensesCollector_EmptyLicenseList
2026-01-21T00:49:10.4886342Z time="2026-01-21T00:49:09Z" level=debug msg="Collecting license metrics" collector=licenses test=true
2026-01-21T00:49:10.4887574Z time="2026-01-21T00:49:09Z" level=debug msg="License metrics collected" collector=licenses license_count=0 test=true
2026-01-21T00:49:10.4888562Z --- PASS: TestLicensesCollector_EmptyLicenseList (0.00s)
2026-01-21T00:49:10.4889076Z === RUN   TestLoggingCollector
2026-01-21T00:49:10.4889497Z === RUN   TestLoggingCollector/SuccessfulCollection
2026-01-21T00:49:10.4889990Z === RUN   TestLoggingCollector/FailedCollection
2026-01-21T00:49:10.4890473Z === RUN   TestLoggingCollector/DisabledCollector
2026-01-21T00:49:10.4890973Z === RUN   TestLoggingCollector/SetEnabled
2026-01-21T00:49:10.4891386Z === RUN   TestLoggingCollector/Describe
2026-01-21T00:49:10.4891797Z --- PASS: TestLoggingCollector (0.00s)
2026-01-21T00:49:10.4892596Z     --- PASS: TestLoggingCollector/SuccessfulCollection (0.00s)
2026-01-21T00:49:10.4893310Z     --- PASS: TestLoggingCollector/FailedCollection (0.00s)
2026-01-21T00:49:10.4893963Z     --- PASS: TestLoggingCollector/DisabledCollector (0.00s)
2026-01-21T00:49:10.4894580Z     --- PASS: TestLoggingCollector/SetEnabled (0.00s)
2026-01-21T00:49:10.4895165Z     --- PASS: TestLoggingCollector/Describe (0.00s)
2026-01-21T00:49:10.4895616Z === RUN   TestCollectorLogger
2026-01-21T00:49:10.4895975Z === RUN   TestCollectorLogger/LogCollection
2026-01-21T00:49:10.4896382Z === RUN   TestCollectorLogger/LogError
2026-01-21T00:49:10.4896805Z === RUN   TestCollectorLogger/LogMetric
2026-01-21T00:49:10.4897220Z === RUN   TestCollectorLogger/LogPerformance
2026-01-21T00:49:10.4897655Z --- PASS: TestCollectorLogger (0.00s)
2026-01-21T00:49:10.4898184Z     --- PASS: TestCollectorLogger/LogCollection (0.00s)
2026-01-21T00:49:10.4898766Z     --- PASS: TestCollectorLogger/LogError (0.00s)
2026-01-21T00:49:10.4899315Z     --- PASS: TestCollectorLogger/LogMetric (0.00s)
2026-01-21T00:49:10.4899903Z     --- PASS: TestCollectorLogger/LogPerformance (0.00s)
2026-01-21T00:49:10.4900388Z === RUN   TestStructuredLogger
2026-01-21T00:49:10.4900777Z === RUN   TestStructuredLogger/WithCollector
2026-01-21T00:49:10.4901240Z === RUN   TestStructuredLogger/WithOperation
2026-01-21T00:49:10.4901699Z === RUN   TestStructuredLogger/WithDuration
2026-01-21T00:49:10.4902449Z === RUN   TestStructuredLogger/WithError
2026-01-21T00:49:10.4902886Z === RUN   TestStructuredLogger/WithContext
2026-01-21T00:49:10.4903296Z === RUN   TestStructuredLogger/LogEntry
2026-01-21T00:49:10.4903708Z --- PASS: TestStructuredLogger (0.00s)
2026-01-21T00:49:10.4904239Z     --- PASS: TestStructuredLogger/WithCollector (0.00s)
2026-01-21T00:49:10.4904844Z     --- PASS: TestStructuredLogger/WithOperation (0.00s)
2026-01-21T00:49:10.4905461Z     --- PASS: TestStructuredLogger/WithDuration (0.00s)
2026-01-21T00:49:10.4906039Z     --- PASS: TestStructuredLogger/WithError (0.00s)
2026-01-21T00:49:10.4906589Z     --- PASS: TestStructuredLogger/WithContext (0.00s)
2026-01-21T00:49:10.4907151Z     --- PASS: TestStructuredLogger/LogEntry (0.00s)
2026-01-21T00:49:10.4907562Z === RUN   TestNodeCollector
2026-01-21T00:49:10.4907900Z === RUN   TestNodeCollector/Name
2026-01-21T00:49:10.4908254Z === RUN   TestNodeCollector/Enabled
2026-01-21T00:49:10.4908622Z === RUN   TestNodeCollector/Describe
2026-01-21T00:49:10.4909700Z === RUN   TestNodeCollector/Collect
2026-01-21T00:49:10.4910121Z === RUN   TestNodeCollector/CollectNodeInfo
2026-01-21T00:49:10.4910599Z === RUN   TestNodeCollector/CollectNodeStates
2026-01-21T00:49:10.4911069Z === RUN   TestNodeCollector/CollectNodeUtilization
2026-01-21T00:49:10.4911541Z === RUN   TestNodeCollector/CollectNodeHealth
2026-01-21T00:49:10.4911963Z --- PASS: TestNodeCollector (0.00s)
2026-01-21T00:49:10.4912698Z     --- PASS: TestNodeCollector/Name (0.00s)
2026-01-21T00:49:10.4913217Z     --- PASS: TestNodeCollector/Enabled (0.00s)
2026-01-21T00:49:10.4913734Z     --- PASS: TestNodeCollector/Describe (0.00s)
2026-01-21T00:49:10.4914228Z     --- PASS: TestNodeCollector/Collect (0.00s)
2026-01-21T00:49:10.4914760Z     --- PASS: TestNodeCollector/CollectNodeInfo (0.00s)
2026-01-21T00:49:10.4915352Z     --- PASS: TestNodeCollector/CollectNodeStates (0.00s)
2026-01-21T00:49:10.4915997Z     --- PASS: TestNodeCollector/CollectNodeUtilization (0.00s)
2026-01-21T00:49:10.4916621Z     --- PASS: TestNodeCollector/CollectNodeHealth (0.00s)
2026-01-21T00:49:10.4917092Z === RUN   TestNodeCollectorIntegration
2026-01-21T00:49:10.4917862Z     node_test.go:365: Successfully collected 65 metrics
2026-01-21T00:49:10.4918953Z     node_test.go:366: Metric breakdown: map[hardware:8 health:15 info:3 state:24 utilization:6]
2026-01-21T00:49:10.4919655Z --- PASS: TestNodeCollectorIntegration (0.00s)
2026-01-21T00:49:10.4920106Z === RUN   TestNodesSimpleCollector_Describe
2026-01-21T00:49:10.4920774Z --- PASS: TestNodesSimpleCollector_Describe (0.00s)
2026-01-21T00:49:10.4921265Z === RUN   TestNodesSimpleCollector_Collect_Success
2026-01-21T00:49:10.4922021Z time="2026-01-21T00:49:09Z" level=info msg="Collected node entries" collector=nodes count=6 test=true
2026-01-21T00:49:10.4922793Z --- PASS: TestNodesSimpleCollector_Collect_Success (0.00s)
2026-01-21T00:49:10.4923333Z === RUN   TestNodesSimpleCollector_Collect_Disabled
2026-01-21T00:49:10.4923875Z --- PASS: TestNodesSimpleCollector_Collect_Disabled (0.00s)
2026-01-21T00:49:10.4924439Z === RUN   TestNodesSimpleCollector_Collect_Error
2026-01-21T00:49:10.4925419Z time="2026-01-21T00:49:09Z" level=error msg="Failed to list nodes" collector=nodes error="assert.AnError general error for testing" test=true
2026-01-21T00:49:10.4926431Z --- PASS: TestNodesSimpleCollector_Collect_Error (0.00s)
2026-01-21T00:49:10.4926942Z === RUN   TestNodesSimpleCollector_CustomLabels
2026-01-21T00:49:10.4927696Z time="2026-01-21T00:49:09Z" level=info msg="Collected node entries" collector=nodes count=6 test=true
2026-01-21T00:49:10.4928513Z --- PASS: TestNodesSimpleCollector_CustomLabels (0.00s)
2026-01-21T00:49:10.4929006Z === RUN   TestNodesSimpleCollector_EmptyNodeList
2026-01-21T00:49:10.4929767Z time="2026-01-21T00:49:09Z" level=info msg="Collected node entries" collector=nodes count=0 test=true
2026-01-21T00:49:10.4930550Z --- PASS: TestNodesSimpleCollector_EmptyNodeList (0.00s)
2026-01-21T00:49:10.4931138Z === RUN   TestNodesSimpleCollector_StateDistribution
2026-01-21T00:49:10.4931909Z time="2026-01-21T00:49:09Z" level=info msg="Collected node entries" collector=nodes count=6 test=true
2026-01-21T00:49:10.4932723Z --- PASS: TestNodesSimpleCollector_StateDistribution (0.00s)
2026-01-21T00:49:10.4933264Z === RUN   TestNodesSimpleCollector_ResourceMetrics
2026-01-21T00:49:10.4933969Z time="2026-01-21T00:49:09Z" level=info msg="Collected node entries" collector=nodes count=6 test=true
2026-01-21T00:49:10.4934746Z --- PASS: TestNodesSimpleCollector_ResourceMetrics (0.00s)
2026-01-21T00:49:10.4935241Z === RUN   TestPartitionCollector
2026-01-21T00:49:10.4935607Z === RUN   TestPartitionCollector/Name
2026-01-21T00:49:10.4936010Z === RUN   TestPartitionCollector/Enabled
2026-01-21T00:49:10.4936412Z === RUN   TestPartitionCollector/Describe
2026-01-21T00:49:10.4936800Z === RUN   TestPartitionCollector/Collect
2026-01-21T00:49:10.4937249Z === RUN   TestPartitionCollector/CollectPartitionInfo
2026-01-21T00:49:10.4938861Z === RUN   TestPartitionCollector/CollectPartitionUtilization
2026-01-21T00:49:10.4939460Z === RUN   TestPartitionCollector/CollectPartitionPolicies
2026-01-21T00:49:10.4939938Z --- PASS: TestPartitionCollector (0.00s)
2026-01-21T00:49:10.4940428Z     --- PASS: TestPartitionCollector/Name (0.00s)
2026-01-21T00:49:10.4940945Z     --- PASS: TestPartitionCollector/Enabled (0.00s)
2026-01-21T00:49:10.4941500Z     --- PASS: TestPartitionCollector/Describe (0.00s)
2026-01-21T00:49:10.4942040Z     --- PASS: TestPartitionCollector/Collect (0.00s)
2026-01-21T00:49:10.4942676Z     --- PASS: TestPartitionCollector/CollectPartitionInfo (0.00s)
2026-01-21T00:49:10.4943481Z     --- PASS: TestPartitionCollector/CollectPartitionUtilization (0.00s)
2026-01-21T00:49:10.4944274Z     --- PASS: TestPartitionCollector/CollectPartitionPolicies (0.00s)
2026-01-21T00:49:10.4944832Z === RUN   TestPartitionCollectorDataTypes
2026-01-21T00:49:10.4945338Z === RUN   TestPartitionCollectorDataTypes/PartitionInfo
2026-01-21T00:49:10.4945907Z === RUN   TestPartitionCollectorDataTypes/PartitionLimits
2026-01-21T00:49:10.4946500Z === RUN   TestPartitionCollectorDataTypes/PartitionPolicies
2026-01-21T00:49:10.4947037Z --- PASS: TestPartitionCollectorDataTypes (0.00s)
2026-01-21T00:49:10.4947675Z     --- PASS: TestPartitionCollectorDataTypes/PartitionInfo (0.00s)
2026-01-21T00:49:10.4948421Z     --- PASS: TestPartitionCollectorDataTypes/PartitionLimits (0.00s)
2026-01-21T00:49:10.4949196Z     --- PASS: TestPartitionCollectorDataTypes/PartitionPolicies (0.00s)
2026-01-21T00:49:10.4949978Z === RUN   TestPartitionCollectorIntegration
2026-01-21T00:49:10.4950722Z     partition_test.go:423: Successfully collected 85 metrics
2026-01-21T00:49:10.4951662Z     partition_test.go:424: Metric breakdown: map[info:5 policies:15 resources:25 state:20 utilization:20]
2026-01-21T00:49:10.4952449Z --- PASS: TestPartitionCollectorIntegration (0.00s)
2026-01-21T00:49:10.4952958Z === RUN   TestPartitionsSimpleCollector_Describe
2026-01-21T00:49:10.4953507Z --- PASS: TestPartitionsSimpleCollector_Describe (0.00s)
2026-01-21T00:49:10.4954113Z === RUN   TestPartitionsSimpleCollector_Collect_Success
2026-01-21T00:49:10.4955039Z time="2026-01-21T00:49:09Z" level=info msg="Collected partition entries" collector=partitions count=5 test=true
2026-01-21T00:49:10.4956044Z --- PASS: TestPartitionsSimpleCollector_Collect_Success (0.00s)
2026-01-21T00:49:10.4956719Z === RUN   TestPartitionsSimpleCollector_Collect_Disabled
2026-01-21T00:49:10.4957388Z --- PASS: TestPartitionsSimpleCollector_Collect_Disabled (0.00s)
2026-01-21T00:49:10.4958304Z === RUN   TestPartitionsSimpleCollector_Collect_Error
2026-01-21T00:49:10.4959498Z time="2026-01-21T00:49:09Z" level=error msg="Failed to list partitions" collector=partitions error="assert.AnError general error for testing" test=true
2026-01-21T00:49:10.4960651Z --- PASS: TestPartitionsSimpleCollector_Collect_Error (0.00s)
2026-01-21T00:49:10.4961262Z === RUN   TestPartitionsSimpleCollector_StateMetrics
2026-01-21T00:49:10.4962147Z time="2026-01-21T00:49:09Z" level=info msg="Collected partition entries" collector=partitions count=5 test=true
2026-01-21T00:49:10.4963079Z --- PASS: TestPartitionsSimpleCollector_StateMetrics (0.00s)
2026-01-21T00:49:10.4963696Z === RUN   TestPartitionsSimpleCollector_ResourceMetrics
2026-01-21T00:49:10.4964531Z time="2026-01-21T00:49:09Z" level=info msg="Collected partition entries" collector=partitions count=5 test=true
2026-01-21T00:49:10.4965422Z --- PASS: TestPartitionsSimpleCollector_ResourceMetrics (0.00s)
2026-01-21T00:49:10.4966019Z === RUN   TestPartitionsSimpleCollector_LimitMetrics
2026-01-21T00:49:10.4966850Z time="2026-01-21T00:49:09Z" level=info msg="Collected partition entries" collector=partitions count=5 test=true
2026-01-21T00:49:10.4967733Z --- PASS: TestPartitionsSimpleCollector_LimitMetrics (0.00s)
2026-01-21T00:49:10.4968350Z === RUN   TestPartitionsSimpleCollector_EmptyPartitionList
2026-01-21T00:49:10.4969230Z time="2026-01-21T00:49:09Z" level=info msg="Collected partition entries" collector=partitions count=0 test=true
2026-01-21T00:49:10.4970339Z --- PASS: TestPartitionsSimpleCollector_EmptyPartitionList (0.00s)
2026-01-21T00:49:10.4970979Z === RUN   TestPartitionsSimpleCollector_QOSMetrics
2026-01-21T00:49:10.4971806Z time="2026-01-21T00:49:09Z" level=info msg="Collected partition entries" collector=partitions count=5 test=true
2026-01-21T00:49:10.4972707Z --- PASS: TestPartitionsSimpleCollector_QOSMetrics (0.00s)
2026-01-21T00:49:10.4973288Z === RUN   TestPartitionsSimpleCollector_ActivePartitions
2026-01-21T00:49:10.4974152Z time="2026-01-21T00:49:09Z" level=info msg="Collected partition entries" collector=partitions count=4 test=true
2026-01-21T00:49:10.4975088Z --- PASS: TestPartitionsSimpleCollector_ActivePartitions (0.00s)
2026-01-21T00:49:10.4975711Z === RUN   TestPerformanceSimpleCollector_Describe
2026-01-21T00:49:10.4976249Z --- PASS: TestPerformanceSimpleCollector_Describe (0.00s)
2026-01-21T00:49:10.4976827Z === RUN   TestPerformanceSimpleCollector_Collect_Success
2026-01-21T00:49:10.4978061Z time="2026-01-21T00:49:09Z" level=info msg="Collected performance data" collector=performance jobs=1 nodes=1 partitions=1 test=true
2026-01-21T00:49:10.4979065Z --- PASS: TestPerformanceSimpleCollector_Collect_Success (0.00s)
2026-01-21T00:49:10.4979675Z === RUN   TestPerformanceSimpleCollector_Collect_Disabled
2026-01-21T00:49:10.4980277Z --- PASS: TestPerformanceSimpleCollector_Collect_Disabled (0.00s)
2026-01-21T00:49:10.4980807Z === RUN   TestProfiledCollector
2026-01-21T00:49:10.4981988Z === RUN   TestProfiledCollector/NewProfiledCollector
2026-01-21T00:49:10.4982494Z === RUN   TestProfiledCollector/NilCollector
2026-01-21T00:49:10.4982912Z === RUN   TestProfiledCollector/Collect
2026-01-21T00:49:10.4983391Z === RUN   TestProfiledCollector/CollectWithError
2026-01-21T00:49:10.4984176Z time="2026-01-21T00:49:09Z" level=error msg="Collection failed" collector=error_collector error="test error"
2026-01-21T00:49:10.4984950Z === RUN   TestProfiledCollector/SlowCollection
2026-01-21T00:49:10.4985416Z === RUN   TestProfiledCollector/ProfilingDisabled
2026-01-21T00:49:10.4985886Z --- PASS: TestProfiledCollector (0.10s)
2026-01-21T00:49:10.4986504Z     --- PASS: TestProfiledCollector/NewProfiledCollector (0.00s)
2026-01-21T00:49:10.4987189Z     --- PASS: TestProfiledCollector/NilCollector (0.00s)
2026-01-21T00:49:10.4987733Z     --- PASS: TestProfiledCollector/Collect (0.02s)
2026-01-21T00:49:10.4988334Z     --- PASS: TestProfiledCollector/CollectWithError (0.00s)
2026-01-21T00:49:10.4988953Z     --- PASS: TestProfiledCollector/SlowCollection (0.08s)
2026-01-21T00:49:10.4989578Z     --- PASS: TestProfiledCollector/ProfilingDisabled (0.00s)
2026-01-21T00:49:10.4990074Z === RUN   TestProfiledCollectorManager
2026-01-21T00:49:10.4990523Z === RUN   TestProfiledCollectorManager/WrapCollector
2026-01-21T00:49:10.4991120Z === RUN   TestProfiledCollectorManager/SetProfilingEnabled
2026-01-21T00:49:10.4991706Z === RUN   TestProfiledCollectorManager/SetProfilingEnabledAll
2026-01-21T00:49:10.4992309Z === RUN   TestProfiledCollectorManager/GetCollectorProfiles
2026-01-21T00:49:10.4992862Z === RUN   TestProfiledCollectorManager/GetAllProfiles
2026-01-21T00:49:10.4993361Z === RUN   TestProfiledCollectorManager/GetStats
2026-01-21T00:49:10.4993831Z --- PASS: TestProfiledCollectorManager (0.12s)
2026-01-21T00:49:10.4994444Z     --- PASS: TestProfiledCollectorManager/WrapCollector (0.00s)
2026-01-21T00:49:10.4995188Z     --- PASS: TestProfiledCollectorManager/SetProfilingEnabled (0.00s)
2026-01-21T00:49:10.4996007Z     --- PASS: TestProfiledCollectorManager/SetProfilingEnabledAll (0.00s)
2026-01-21T00:49:10.4996812Z     --- PASS: TestProfiledCollectorManager/GetCollectorProfiles (0.12s)
2026-01-21T00:49:10.4997553Z     --- PASS: TestProfiledCollectorManager/GetAllProfiles (0.00s)
2026-01-21T00:49:10.4998478Z     --- PASS: TestProfiledCollectorManager/GetStats (0.00s)
2026-01-21T00:49:10.4998967Z === RUN   TestQoSCollector_Describe
2026-01-21T00:49:10.4999533Z --- PASS: TestQoSCollector_Describe (0.00s)
2026-01-21T00:49:10.4999941Z === RUN   TestQoSCollector_Collect_Success
2026-01-21T00:49:10.5000599Z time="2026-01-21T00:49:10Z" level=debug msg="Collected QoS entries" collector=qos count=2 test=true
2026-01-21T00:49:10.5001334Z --- PASS: TestQoSCollector_Collect_Success (0.00s)
2026-01-21T00:49:10.5001771Z === RUN   TestQoSCollector_Collect_Disabled
2026-01-21T00:49:10.5002210Z --- PASS: TestQoSCollector_Collect_Disabled (0.00s)
2026-01-21T00:49:10.5002656Z === RUN   TestQoSCollector_Collect_Error
2026-01-21T00:49:10.5003556Z time="2026-01-21T00:49:10Z" level=error msg="Failed to list QoS" collector=qos error="assert.AnError general error for testing" test=true
2026-01-21T00:49:10.5004538Z --- PASS: TestQoSCollector_Collect_Error (0.00s)
2026-01-21T00:49:10.5004990Z === RUN   TestQoSCollector_EmptyQoSList
2026-01-21T00:49:10.5005677Z time="2026-01-21T00:49:10Z" level=debug msg="Collected QoS entries" collector=qos count=0 test=true
2026-01-21T00:49:10.5006430Z --- PASS: TestQoSCollector_EmptyQoSList (0.00s)
2026-01-21T00:49:10.5006852Z === RUN   TestRegistry
2026-01-21T00:49:10.5007165Z === RUN   TestRegistry/RegisterAndGet
2026-01-21T00:49:10.5007908Z time="2026-01-21T00:49:10Z" level=info msg="Collector registered" collector=test component=collector_registry
2026-01-21T00:49:10.5008659Z === RUN   TestRegistry/List
2026-01-21T00:49:10.5009569Z time="2026-01-21T00:49:10Z" level=warning msg="Failed to unregister collector from prometheus" collector=test component=collector_registry
2026-01-21T00:49:10.5011564Z time="2026-01-21T00:49:10Z" level=info msg="Collector unregistered" collector=test component=collector_registry
2026-01-21T00:49:10.5012710Z time="2026-01-21T00:49:10Z" level=info msg="Collector registered" collector=a component=collector_registry
2026-01-21T00:49:10.5013719Z time="2026-01-21T00:49:10Z" level=info msg="Collector registered" collector=b component=collector_registry
2026-01-21T00:49:10.5014720Z time="2026-01-21T00:49:10Z" level=info msg="Collector registered" collector=c component=collector_registry
2026-01-21T00:49:10.5015423Z === RUN   TestRegistry/EnableDisable
2026-01-21T00:49:10.5016131Z time="2026-01-21T00:49:10Z" level=info msg="Collector registered" collector=toggle component=collector_registry
2026-01-21T00:49:10.5017200Z time="2026-01-21T00:49:10Z" level=info msg="Collector disabled" collector=toggle component=collector_registry
2026-01-21T00:49:10.5018520Z time="2026-01-21T00:49:10Z" level=info msg="Collector enabled" collector=toggle component=collector_registry
2026-01-21T00:49:10.5019222Z === RUN   TestRegistry/Unregister
2026-01-21T00:49:10.5019913Z time="2026-01-21T00:49:10Z" level=info msg="Collector registered" collector=temp component=collector_registry
2026-01-21T00:49:10.5021139Z time="2026-01-21T00:49:10Z" level=warning msg="Failed to unregister collector from prometheus" collector=temp component=collector_registry
2026-01-21T00:49:10.5022392Z time="2026-01-21T00:49:10Z" level=info msg="Collector unregistered" collector=temp component=collector_registry
2026-01-21T00:49:10.5023120Z === RUN   TestRegistry/CollectAll
2026-01-21T00:49:10.5023989Z time="2026-01-21T00:49:10Z" level=warning msg="Failed to unregister collector from prometheus" collector=toggle component=collector_registry
2026-01-21T00:49:10.5025239Z time="2026-01-21T00:49:10Z" level=info msg="Collector unregistered" collector=toggle component=collector_registry
2026-01-21T00:49:10.5026526Z time="2026-01-21T00:49:10Z" level=warning msg="Failed to unregister collector from prometheus" collector=a component=collector_registry
2026-01-21T00:49:10.5027753Z time="2026-01-21T00:49:10Z" level=info msg="Collector unregistered" collector=a component=collector_registry
2026-01-21T00:49:10.5028955Z time="2026-01-21T00:49:10Z" level=warning msg="Failed to unregister collector from prometheus" collector=b component=collector_registry
2026-01-21T00:49:10.5030156Z time="2026-01-21T00:49:10Z" level=info msg="Collector unregistered" collector=b component=collector_registry
2026-01-21T00:49:10.5031585Z time="2026-01-21T00:49:10Z" level=warning msg="Failed to unregister collector from prometheus" collector=c component=collector_registry
2026-01-21T00:49:10.5032885Z time="2026-01-21T00:49:10Z" level=info msg="Collector unregistered" collector=c component=collector_registry
2026-01-21T00:49:10.5034002Z time="2026-01-21T00:49:10Z" level=info msg="Collector registered" collector=success component=collector_registry
2026-01-21T00:49:10.5035155Z time="2026-01-21T00:49:10Z" level=info msg="Collector registered" collector=fail component=collector_registry
2026-01-21T00:49:10.5036302Z time="2026-01-21T00:49:10Z" level=info msg="Collector registered" collector=disabled component=collector_registry
2026-01-21T00:49:10.5037047Z === RUN   TestRegistry/GetStats
2026-01-21T00:49:10.5037948Z time="2026-01-21T00:49:10Z" level=warning msg="Failed to unregister collector from prometheus" collector=success component=collector_registry
2026-01-21T00:49:10.5039549Z time="2026-01-21T00:49:10Z" level=info msg="Collector unregistered" collector=success component=collector_registry
2026-01-21T00:49:10.5040872Z time="2026-01-21T00:49:10Z" level=warning msg="Failed to unregister collector from prometheus" collector=fail component=collector_registry
2026-01-21T00:49:10.5042135Z time="2026-01-21T00:49:10Z" level=info msg="Collector unregistered" collector=fail component=collector_registry
2026-01-21T00:49:10.5044292Z time="2026-01-21T00:49:10Z" level=warning msg="Failed to unregister collector from prometheus" collector=disabled component=collector_registry
2026-01-21T00:49:10.5045702Z time="2026-01-21T00:49:10Z" level=info msg="Collector unregistered" collector=disabled component=collector_registry
2026-01-21T00:49:10.5046809Z time="2026-01-21T00:49:10Z" level=info msg="Collector registered" collector=mock component=collector_registry
2026-01-21T00:49:10.5047931Z time="2026-01-21T00:49:10Z" level=info msg="Collector registered" collector=base component=collector_registry
2026-01-21T00:49:10.5048674Z --- PASS: TestRegistry (0.00s)
2026-01-21T00:49:10.5049109Z     --- PASS: TestRegistry/RegisterAndGet (0.00s)
2026-01-21T00:49:10.5049588Z     --- PASS: TestRegistry/List (0.00s)
2026-01-21T00:49:10.5050051Z     --- PASS: TestRegistry/EnableDisable (0.00s)
2026-01-21T00:49:10.5050531Z     --- PASS: TestRegistry/Unregister (0.00s)
2026-01-21T00:49:10.5050991Z     --- PASS: TestRegistry/CollectAll (0.00s)
2026-01-21T00:49:10.5051438Z     --- PASS: TestRegistry/GetStats (0.00s)
2026-01-21T00:49:10.5051822Z === RUN   TestCollectorAdapter
2026-01-21T00:49:10.5052175Z === RUN   TestCollectorAdapter/Describe
2026-01-21T00:49:10.5052571Z === RUN   TestCollectorAdapter/Collect
2026-01-21T00:49:10.5052973Z === RUN   TestCollectorAdapter/CollectWithError
2026-01-21T00:49:10.5053723Z time="2026-01-21T00:49:10Z" level=error msg="Collection failed" collector=error_test error="collection error"
2026-01-21T00:49:10.5054461Z --- PASS: TestCollectorAdapter (0.00s)
2026-01-21T00:49:10.5054953Z     --- PASS: TestCollectorAdapter/Describe (0.00s)
2026-01-21T00:49:10.5055475Z     --- PASS: TestCollectorAdapter/Collect (0.00s)
2026-01-21T00:49:10.5056056Z     --- PASS: TestCollectorAdapter/CollectWithError (0.00s)
2026-01-21T00:49:10.5056523Z === RUN   TestCollectorFactory
2026-01-21T00:49:10.5056862Z --- PASS: TestCollectorFactory (0.00s)
2026-01-21T00:49:10.5057269Z === RUN   TestReservationCollector_Describe
2026-01-21T00:49:10.5057720Z --- PASS: TestReservationCollector_Describe (0.00s)
2026-01-21T00:49:10.5058220Z === RUN   TestReservationCollector_Collect_Success
2026-01-21T00:49:10.5059287Z time="2026-01-21T00:49:10Z" level=debug msg="Collected reservation entries" collector=reservation count=2 test=true
2026-01-21T00:49:10.5060151Z --- PASS: TestReservationCollector_Collect_Success (0.00s)
2026-01-21T00:49:10.5060671Z === RUN   TestReservationCollector_Collect_Disabled
2026-01-21T00:49:10.5061198Z --- PASS: TestReservationCollector_Collect_Disabled (0.00s)
2026-01-21T00:49:10.5061905Z === RUN   TestReservationCollector_Collect_Error
2026-01-21T00:49:10.5062950Z time="2026-01-21T00:49:10Z" level=error msg="Failed to list reservations" collector=reservation error="assert.AnError general error for testing" test=true
2026-01-21T00:49:10.5064029Z --- PASS: TestReservationCollector_Collect_Error (0.00s)
2026-01-21T00:49:10.5064574Z === RUN   TestReservationCollector_EmptyReservationList
2026-01-21T00:49:10.5065413Z time="2026-01-21T00:49:10Z" level=debug msg="Collected reservation entries" collector=reservation count=0 test=true
2026-01-21T00:49:10.5066338Z --- PASS: TestReservationCollector_EmptyReservationList (0.00s)
2026-01-21T00:49:10.5066816Z === RUN   TestScheduler
2026-01-21T00:49:10.5067478Z time="2026-01-21T00:49:10Z" level=info msg="Collector registered" collector=cluster component=collector_registry
2026-01-21T00:49:10.5068577Z time="2026-01-21T00:49:10Z" level=info msg="Collector registered" collector=nodes component=collector_registry
2026-01-21T00:49:10.5069860Z time="2026-01-21T00:49:10Z" level=info msg="Collector registered" collector=jobs component=collector_registry
2026-01-21T00:49:10.5070624Z === RUN   TestScheduler/InitializeSchedules
2026-01-21T00:49:10.5071698Z time="2026-01-21T00:49:10Z" level=info msg="Initialized collection schedule" collector=performance component=scheduler enabled=false interval=100ms timeout=50ms
2026-01-21T00:49:10.5073372Z time="2026-01-21T00:49:10Z" level=info msg="Initialized collection schedule" collector=system component=scheduler enabled=false interval=100ms timeout=50ms
2026-01-21T00:49:10.5075159Z time="2026-01-21T00:49:10Z" level=info msg="Initialized collection schedule" collector=cluster component=scheduler enabled=true interval=50ms timeout=25ms
2026-01-21T00:49:10.5076747Z time="2026-01-21T00:49:10Z" level=info msg="Initialized collection schedule" collector=nodes component=scheduler enabled=true interval=75ms timeout=25ms
2026-01-21T00:49:10.5078325Z time="2026-01-21T00:49:10Z" level=info msg="Initialized collection schedule" collector=jobs component=scheduler enabled=false interval=100ms timeout=50ms
2026-01-21T00:49:10.5080072Z time="2026-01-21T00:49:10Z" level=info msg="Initialized collection schedule" collector=users component=scheduler enabled=false interval=100ms timeout=50ms
2026-01-21T00:49:10.5081770Z time="2026-01-21T00:49:10Z" level=info msg="Initialized collection schedule" collector=partitions component=scheduler enabled=false interval=100ms timeout=50ms
2026-01-21T00:49:10.5082854Z === RUN   TestScheduler/ScheduledCollection
2026-01-21T00:49:10.5083570Z time="2026-01-21T00:49:10Z" level=info msg="Starting collection scheduler" component=scheduler
2026-01-21T00:49:10.5084634Z time="2026-01-21T00:49:10Z" level=info msg="Starting collection orchestrator" component=collection_orchestrator
2026-01-21T00:49:10.5085617Z time="2026-01-21T00:49:10Z" level=info msg="Stopping collection scheduler" component=scheduler
2026-01-21T00:49:10.5086686Z time="2026-01-21T00:49:10Z" level=info msg="Stopping collection orchestrator" component=collection_orchestrator
2026-01-21T00:49:10.5087498Z === RUN   TestScheduler/UpdateSchedule
2026-01-21T00:49:10.5088289Z time="2026-01-21T00:49:10Z" level=info msg="Collector registered" collector=cluster component=collector_registry
2026-01-21T00:49:10.5090015Z time="2026-01-21T00:49:10Z" level=info msg="Initialized collection schedule" collector=users component=scheduler enabled=false interval=100ms timeout=50ms
2026-01-21T00:49:10.5091821Z time="2026-01-21T00:49:10Z" level=info msg="Initialized collection schedule" collector=partitions component=scheduler enabled=false interval=100ms timeout=50ms
2026-01-21T00:49:10.5093653Z time="2026-01-21T00:49:10Z" level=info msg="Initialized collection schedule" collector=performance component=scheduler enabled=false interval=100ms timeout=50ms
2026-01-21T00:49:10.5095450Z time="2026-01-21T00:49:10Z" level=info msg="Initialized collection schedule" collector=system component=scheduler enabled=false interval=100ms timeout=50ms
2026-01-21T00:49:10.5097421Z time="2026-01-21T00:49:10Z" level=info msg="Initialized collection schedule" collector=cluster component=scheduler enabled=true interval=50ms timeout=25ms
2026-01-21T00:49:10.5099156Z time="2026-01-21T00:49:10Z" level=info msg="Initialized collection schedule" collector=nodes component=scheduler enabled=true interval=75ms timeout=25ms
2026-01-21T00:49:10.5100838Z time="2026-01-21T00:49:10Z" level=info msg="Initialized collection schedule" collector=jobs component=scheduler enabled=false interval=100ms timeout=50ms
2026-01-21T00:49:10.5102330Z time="2026-01-21T00:49:10Z" level=info msg="Updated collection schedule" collector=cluster component=scheduler interval=150ms timeout=50ms
2026-01-21T00:49:10.5103290Z === RUN   TestScheduler/EnableDisableSchedule
2026-01-21T00:49:10.5104094Z time="2026-01-21T00:49:10Z" level=info msg="Collector registered" collector=cluster component=collector_registry
2026-01-21T00:49:10.5105523Z time="2026-01-21T00:49:10Z" level=info msg="Initialized collection schedule" collector=system component=scheduler enabled=false interval=100ms timeout=50ms
2026-01-21T00:49:10.5107206Z time="2026-01-21T00:49:10Z" level=info msg="Initialized collection schedule" collector=cluster component=scheduler enabled=true interval=50ms timeout=25ms
2026-01-21T00:49:10.5108875Z time="2026-01-21T00:49:10Z" level=info msg="Initialized collection schedule" collector=nodes component=scheduler enabled=true interval=75ms timeout=25ms
2026-01-21T00:49:10.5112652Z time="2026-01-21T00:49:10Z" level=info msg="Initialized collection schedule" collector=jobs component=scheduler enabled=false interval=100ms timeout=50ms
2026-01-21T00:49:10.5114402Z time="2026-01-21T00:49:10Z" level=info msg="Initialized collection schedule" collector=users component=scheduler enabled=false interval=100ms timeout=50ms
2026-01-21T00:49:10.5116186Z time="2026-01-21T00:49:10Z" level=info msg="Initialized collection schedule" collector=partitions component=scheduler enabled=false interval=100ms timeout=50ms
2026-01-21T00:49:10.5118022Z time="2026-01-21T00:49:10Z" level=info msg="Initialized collection schedule" collector=performance component=scheduler enabled=false interval=100ms timeout=50ms
2026-01-21T00:49:10.5119470Z time="2026-01-21T00:49:10Z" level=info msg="Disabled collection schedule" collector=cluster component=scheduler
2026-01-21T00:49:10.5120578Z time="2026-01-21T00:49:10Z" level=info msg="Enabled collection schedule" collector=cluster component=scheduler
2026-01-21T00:49:10.5121341Z === RUN   TestScheduler/ScheduleStats
2026-01-21T00:49:10.5122100Z time="2026-01-21T00:49:10Z" level=info msg="Collector registered" collector=cluster component=collector_registry
2026-01-21T00:49:10.5123526Z time="2026-01-21T00:49:10Z" level=info msg="Initialized collection schedule" collector=cluster component=scheduler enabled=true interval=50ms timeout=25ms
2026-01-21T00:49:10.5125137Z time="2026-01-21T00:49:10Z" level=info msg="Initialized collection schedule" collector=nodes component=scheduler enabled=true interval=75ms timeout=25ms
2026-01-21T00:49:10.5126767Z time="2026-01-21T00:49:10Z" level=info msg="Initialized collection schedule" collector=jobs component=scheduler enabled=false interval=100ms timeout=50ms
2026-01-21T00:49:10.5128405Z time="2026-01-21T00:49:10Z" level=info msg="Initialized collection schedule" collector=users component=scheduler enabled=false interval=100ms timeout=50ms
2026-01-21T00:49:10.5130341Z time="2026-01-21T00:49:10Z" level=info msg="Initialized collection schedule" collector=partitions component=scheduler enabled=false interval=100ms timeout=50ms
2026-01-21T00:49:10.5132090Z time="2026-01-21T00:49:10Z" level=info msg="Initialized collection schedule" collector=performance component=scheduler enabled=false interval=100ms timeout=50ms
2026-01-21T00:49:10.5133847Z time="2026-01-21T00:49:10Z" level=info msg="Initialized collection schedule" collector=system component=scheduler enabled=false interval=100ms timeout=50ms
2026-01-21T00:49:10.5135043Z --- PASS: TestScheduler (0.21s)
2026-01-21T00:49:10.5135540Z     --- PASS: TestScheduler/InitializeSchedules (0.00s)
2026-01-21T00:49:10.5136148Z     --- PASS: TestScheduler/ScheduledCollection (0.21s)
2026-01-21T00:49:10.5136713Z     --- PASS: TestScheduler/UpdateSchedule (0.00s)
2026-01-21T00:49:10.5137305Z     --- PASS: TestScheduler/EnableDisableSchedule (0.00s)
2026-01-21T00:49:10.5137850Z     --- PASS: TestScheduler/ScheduleStats (0.00s)
2026-01-21T00:49:10.5138310Z === RUN   TestSchedulerErrorHandling
2026-01-21T00:49:10.5139070Z time="2026-01-21T00:49:10Z" level=info msg="Collector registered" collector=cluster component=collector_registry
2026-01-21T00:49:10.5140464Z time="2026-01-21T00:49:10Z" level=info msg="Initialized collection schedule" collector=jobs component=scheduler enabled=false interval=50ms timeout=25ms
2026-01-21T00:49:10.5142095Z time="2026-01-21T00:49:10Z" level=info msg="Initialized collection schedule" collector=users component=scheduler enabled=false interval=50ms timeout=25ms
2026-01-21T00:49:10.5143791Z time="2026-01-21T00:49:10Z" level=info msg="Initialized collection schedule" collector=partitions component=scheduler enabled=false interval=50ms timeout=25ms
2026-01-21T00:49:10.5145576Z time="2026-01-21T00:49:10Z" level=info msg="Initialized collection schedule" collector=performance component=scheduler enabled=false interval=50ms timeout=25ms
2026-01-21T00:49:10.5147332Z time="2026-01-21T00:49:10Z" level=info msg="Initialized collection schedule" collector=system component=scheduler enabled=false interval=50ms timeout=25ms
2026-01-21T00:49:10.5149200Z time="2026-01-21T00:49:10Z" level=info msg="Initialized collection schedule" collector=cluster component=scheduler enabled=true interval=50ms timeout=25ms
2026-01-21T00:49:10.5151155Z time="2026-01-21T00:49:10Z" level=info msg="Initialized collection schedule" collector=nodes component=scheduler enabled=false interval=50ms timeout=25ms
2026-01-21T00:49:10.5152464Z time="2026-01-21T00:49:10Z" level=info msg="Starting collection scheduler" component=scheduler
2026-01-21T00:49:10.5153530Z time="2026-01-21T00:49:10Z" level=info msg="Starting collection orchestrator" component=collection_orchestrator
2026-01-21T00:49:10.5154856Z time="2026-01-21T00:49:10Z" level=error msg="Collection failed" collector=cluster component=concurrent_collector error="collection failed"
2026-01-21T00:49:10.5156444Z time="2026-01-21T00:49:10Z" level=error msg="Scheduled collection failed" collector=cluster component=collection_orchestrator error="collection failed"
2026-01-21T00:49:10.5158061Z time="2026-01-21T00:49:10Z" level=error msg="Scheduled collection failed" collector=cluster component=scheduler error="collection failed"
2026-01-21T00:49:10.5159574Z time="2026-01-21T00:49:10Z" level=error msg="Scheduled collection failed" collector=cluster component=collection_orchestrator error="collection failed"
2026-01-21T00:49:10.5161074Z time="2026-01-21T00:49:10Z" level=error msg="Collection failed" collector=cluster component=concurrent_collector error="collection failed"
2026-01-21T00:49:10.5162549Z time="2026-01-21T00:49:10Z" level=error msg="Scheduled collection failed" collector=cluster component=scheduler error="collection failed"
2026-01-21T00:49:10.5163666Z time="2026-01-21T00:49:10Z" level=info msg="Stopping collection scheduler" component=scheduler
2026-01-21T00:49:10.5164698Z time="2026-01-21T00:49:10Z" level=info msg="Stopping collection orchestrator" component=collection_orchestrator
2026-01-21T00:49:10.5165494Z --- PASS: TestSchedulerErrorHandling (0.15s)
2026-01-21T00:49:10.5165908Z === RUN   TestScheduleHealthCheck
2026-01-21T00:49:10.5166632Z time="2026-01-21T00:49:10Z" level=info msg="Collector registered" collector=cluster component=collector_registry
2026-01-21T00:49:10.5167994Z time="2026-01-21T00:49:10Z" level=info msg="Initialized collection schedule" collector=users component=scheduler enabled=false interval=50ms timeout=25ms
2026-01-21T00:49:10.5169932Z time="2026-01-21T00:49:10Z" level=info msg="Initialized collection schedule" collector=partitions component=scheduler enabled=false interval=50ms timeout=25ms
2026-01-21T00:49:10.5171808Z time="2026-01-21T00:49:10Z" level=info msg="Initialized collection schedule" collector=performance component=scheduler enabled=false interval=50ms timeout=25ms
2026-01-21T00:49:10.5173478Z time="2026-01-21T00:49:10Z" level=info msg="Initialized collection schedule" collector=system component=scheduler enabled=false interval=50ms timeout=25ms
2026-01-21T00:49:10.5175130Z time="2026-01-21T00:49:10Z" level=info msg="Initialized collection schedule" collector=cluster component=scheduler enabled=true interval=50ms timeout=25ms
2026-01-21T00:49:10.5176796Z time="2026-01-21T00:49:10Z" level=info msg="Initialized collection schedule" collector=nodes component=scheduler enabled=false interval=50ms timeout=25ms
2026-01-21T00:49:10.5178424Z time="2026-01-21T00:49:10Z" level=info msg="Initialized collection schedule" collector=jobs component=scheduler enabled=false interval=50ms timeout=25ms
2026-01-21T00:49:10.5180371Z time="2026-01-21T00:49:10Z" level=warning msg="Schedule is running behind" collector=cluster component=scheduler error_count=0 interval=50ms next_run="2026-01-21 00:49:10.1875355 +0000 UTC m=+1.430216101" run_count=0
2026-01-21T00:49:10.5181719Z --- PASS: TestScheduleHealthCheck (0.00s)
2026-01-21T00:49:10.5182151Z === RUN   TestSchedulerMetrics
2026-01-21T00:49:10.5182526Z --- PASS: TestSchedulerMetrics (0.00s)
2026-01-21T00:49:10.5182923Z === RUN   TestSharesCollector_Describe
2026-01-21T00:49:10.5183401Z --- PASS: TestSharesCollector_Describe (0.00s)
2026-01-21T00:49:10.5184018Z === RUN   TestSharesCollector_Collect_Success
2026-01-21T00:49:10.5184764Z time="2026-01-21T00:49:10Z" level=debug msg="Collecting fairshare metrics" collector=shares test=true
2026-01-21T00:49:10.5185848Z time="2026-01-21T00:49:10Z" level=debug msg="Fairshare metrics collected" collector=shares share_count=2 test=true
2026-01-21T00:49:10.5186693Z --- PASS: TestSharesCollector_Collect_Success (0.00s)
2026-01-21T00:49:10.5187195Z === RUN   TestSharesCollector_Collect_Error
2026-01-21T00:49:10.5187895Z time="2026-01-21T00:49:10Z" level=debug msg="Collecting fairshare metrics" collector=shares test=true
2026-01-21T00:49:10.5189119Z time="2026-01-21T00:49:10Z" level=error msg="Failed to get shares" collector=shares error="assert.AnError general error for testing" test=true
2026-01-21T00:49:10.5190368Z --- PASS: TestSharesCollector_Collect_Error (0.00s)
2026-01-21T00:49:10.5190814Z === RUN   TestSharesCollector_EmptySharesList
2026-01-21T00:49:10.5191554Z time="2026-01-21T00:49:10Z" level=debug msg="Collecting fairshare metrics" collector=shares test=true
2026-01-21T00:49:10.5192655Z time="2026-01-21T00:49:10Z" level=debug msg="Fairshare metrics collected" collector=shares share_count=0 test=true
2026-01-21T00:49:10.5193557Z --- PASS: TestSharesCollector_EmptySharesList (0.00s)
2026-01-21T00:49:10.5194101Z === RUN   TestSystemSimpleCollector_Describe
2026-01-21T00:49:10.5194583Z --- PASS: TestSystemSimpleCollector_Describe (0.00s)
2026-01-21T00:49:10.5195100Z === RUN   TestSystemSimpleCollector_Collect_Success
2026-01-21T00:49:10.5195805Z time="2026-01-21T00:49:10Z" level=info msg="Collected system metrics" collector=system test=true
2026-01-21T00:49:10.5196559Z --- PASS: TestSystemSimpleCollector_Collect_Success (0.00s)
2026-01-21T00:49:10.5197097Z === RUN   TestSystemSimpleCollector_Collect_Disabled
2026-01-21T00:49:10.5197655Z --- PASS: TestSystemSimpleCollector_Collect_Disabled (0.00s)
2026-01-21T00:49:10.5198142Z === RUN   TestTRESCollector_Describe
2026-01-21T00:49:10.5198560Z --- PASS: TestTRESCollector_Describe (0.00s)
2026-01-21T00:49:10.5198995Z === RUN   TestTRESCollector_Collect_Success
2026-01-21T00:49:10.5199646Z time="2026-01-21T00:49:10Z" level=debug msg="Collecting TRES metrics" collector=tres test=true
2026-01-21T00:49:10.5200659Z time="2026-01-21T00:49:10Z" level=debug msg="TRES metrics collected" collector=tres test=true tres_count=4
2026-01-21T00:49:10.5201450Z --- PASS: TestTRESCollector_Collect_Success (0.00s)
2026-01-21T00:49:10.5202118Z === RUN   TestTRESCollector_Collect_Error
2026-01-21T00:49:10.5202795Z time="2026-01-21T00:49:10Z" level=debug msg="Collecting TRES metrics" collector=tres test=true
2026-01-21T00:49:10.5203933Z time="2026-01-21T00:49:10Z" level=error msg="Failed to get TRES" collector=tres error="assert.AnError general error for testing" test=true
2026-01-21T00:49:10.5205027Z --- PASS: TestTRESCollector_Collect_Error (0.00s)
2026-01-21T00:49:10.5205471Z === RUN   TestTRESCollector_EmptyTRESList
2026-01-21T00:49:10.5206141Z time="2026-01-21T00:49:10Z" level=debug msg="Collecting TRES metrics" collector=tres test=true
2026-01-21T00:49:10.5207085Z time="2026-01-21T00:49:10Z" level=debug msg="TRES metrics collected" collector=tres test=true tres_count=0
2026-01-21T00:49:10.5207850Z --- PASS: TestTRESCollector_EmptyTRESList (0.00s)
2026-01-21T00:49:10.5208288Z === RUN   TestUserCollector
2026-01-21T00:49:10.5208629Z === RUN   TestUserCollector/Name
2026-01-21T00:49:10.5209009Z === RUN   TestUserCollector/Enabled
2026-01-21T00:49:10.5209387Z === RUN   TestUserCollector/Describe
2026-01-21T00:49:10.5209758Z === RUN   TestUserCollector/Collect
2026-01-21T00:49:10.5210438Z === RUN   TestUserCollector/CollectUserStats
2026-01-21T00:49:10.5210885Z === RUN   TestUserCollector/CollectAccountStats
2026-01-21T00:49:10.5211322Z --- PASS: TestUserCollector (0.00s)
2026-01-21T00:49:10.5211765Z     --- PASS: TestUserCollector/Name (0.00s)
2026-01-21T00:49:10.5212237Z     --- PASS: TestUserCollector/Enabled (0.00s)
2026-01-21T00:49:10.5212914Z     --- PASS: TestUserCollector/Describe (0.00s)
2026-01-21T00:49:10.5213412Z     --- PASS: TestUserCollector/Collect (0.00s)
2026-01-21T00:49:10.5213951Z     --- PASS: TestUserCollector/CollectUserStats (0.00s)
2026-01-21T00:49:10.5214546Z     --- PASS: TestUserCollector/CollectAccountStats (0.00s)
2026-01-21T00:49:10.5215027Z === RUN   TestUserCollectorIntegration
2026-01-21T00:49:10.5215600Z     user_test.go:298: Successfully collected 56 metrics
2026-01-21T00:49:10.5216251Z     user_test.go:299: Metric breakdown: map[account:32 user:56]
2026-01-21T00:49:10.5216798Z --- PASS: TestUserCollectorIntegration (0.00s)
2026-01-21T00:49:10.5217256Z === RUN   TestUsersSimpleCollector_Describe
2026-01-21T00:49:10.5217722Z --- PASS: TestUsersSimpleCollector_Describe (0.00s)
2026-01-21T00:49:10.5218224Z === RUN   TestUsersSimpleCollector_Collect_Success
2026-01-21T00:49:10.5218975Z time="2026-01-21T00:49:10Z" level=info msg="Collected user entries" collector=users count=2 test=true
2026-01-21T00:49:10.5219819Z --- PASS: TestUsersSimpleCollector_Collect_Success (0.00s)
2026-01-21T00:49:10.5220345Z === RUN   TestUsersSimpleCollector_Collect_Disabled
2026-01-21T00:49:10.5220890Z --- PASS: TestUsersSimpleCollector_Collect_Disabled (0.00s)
2026-01-21T00:49:10.5221427Z === RUN   TestUsersSimpleCollector_Collect_Error
2026-01-21T00:49:10.5222446Z time="2026-01-21T00:49:10Z" level=error msg="Failed to list users" collector=users error="assert.AnError general error for testing" test=true
2026-01-21T00:49:10.5223478Z --- PASS: TestUsersSimpleCollector_Collect_Error (0.00s)
2026-01-21T00:49:10.5223989Z === RUN   TestUsersSimpleCollector_EmptyUserList
2026-01-21T00:49:10.5224719Z time="2026-01-21T00:49:10Z" level=info msg="Collected user entries" collector=users count=0 test=true
2026-01-21T00:49:10.5225502Z --- PASS: TestUsersSimpleCollector_EmptyUserList (0.00s)
2026-01-21T00:49:10.5226003Z === RUN   TestWCKeysCollector_Describe
2026-01-21T00:49:10.5226404Z --- PASS: TestWCKeysCollector_Describe (0.00s)
2026-01-21T00:49:10.5226848Z === RUN   TestWCKeysCollector_Collect_Success
2026-01-21T00:49:10.5227840Z time="2026-01-21T00:49:10Z" level=debug msg="Collecting WCKeys metrics" collector=wckeys test=true
2026-01-21T00:49:10.5228887Z time="2026-01-21T00:49:10Z" level=debug msg="WCKeys metrics collected" collector=wckeys test=true wckey_count=2
2026-01-21T00:49:10.5229728Z --- PASS: TestWCKeysCollector_Collect_Success (0.00s)
2026-01-21T00:49:10.5230375Z === RUN   TestWCKeysCollector_Collect_Error
2026-01-21T00:49:10.5231063Z time="2026-01-21T00:49:10Z" level=debug msg="Collecting WCKeys metrics" collector=wckeys test=true
2026-01-21T00:49:10.5232302Z time="2026-01-21T00:49:10Z" level=error msg="Failed to get WCKeys" collector=wckeys error="assert.AnError general error for testing" test=true
2026-01-21T00:49:10.5233286Z --- PASS: TestWCKeysCollector_Collect_Error (0.00s)
2026-01-21T00:49:10.5233780Z === RUN   TestWCKeysCollector_EmptyWCKeyList
2026-01-21T00:49:10.5234460Z time="2026-01-21T00:49:10Z" level=debug msg="Collecting WCKeys metrics" collector=wckeys test=true
2026-01-21T00:49:10.5235536Z time="2026-01-21T00:49:10Z" level=debug msg="WCKeys metrics collected" collector=wckeys test=true wckey_count=0
2026-01-21T00:49:10.5236399Z --- PASS: TestWCKeysCollector_EmptyWCKeyList (0.00s)
2026-01-21T00:49:10.5236815Z PASS
2026-01-21T00:49:10.5237055Z coverage: 16.9% of statements
2026-01-21T00:49:10.5237703Z ok  	github.com/jontk/slurm-exporter/internal/collector	1.873s	coverage: 16.9% of statements
2026-01-21T00:49:10.7574358Z === RUN   TestLoadDefaults
2026-01-21T00:49:10.7574815Z --- PASS: TestLoadDefaults (0.00s)
2026-01-21T00:49:10.7575631Z === RUN   TestServerConfig
2026-01-21T00:49:10.7575984Z --- PASS: TestServerConfig (0.00s)
2026-01-21T00:49:10.7576362Z === RUN   TestSLURMConfig
2026-01-21T00:49:10.7576725Z --- PASS: TestSLURMConfig (0.00s)
2026-01-21T00:49:10.7577125Z === RUN   TestCollectorsConfig
2026-01-21T00:49:10.7577543Z --- PASS: TestCollectorsConfig (0.00s)
2026-01-21T00:49:10.7578310Z === RUN   TestMetricsConfig
2026-01-21T00:49:10.7578773Z --- PASS: TestMetricsConfig (0.00s)
2026-01-21T00:49:10.7579197Z === RUN   TestConfigStructures
2026-01-21T00:49:10.7579585Z --- PASS: TestConfigStructures (0.00s)
2026-01-21T00:49:10.7580370Z === RUN   TestLoadFromYAMLFile
2026-01-21T00:49:10.7580780Z --- PASS: TestLoadFromYAMLFile (0.00s)
2026-01-21T00:49:10.7581213Z === RUN   TestLoadNonExistentFile
2026-01-21T00:49:10.7581673Z --- PASS: TestLoadNonExistentFile (0.00s)
2026-01-21T00:49:10.7582204Z === RUN   TestLoadInvalidYAML
2026-01-21T00:49:10.7582577Z --- PASS: TestLoadInvalidYAML (0.00s)
2026-01-21T00:49:10.7583225Z === RUN   TestValidateServerConfig
2026-01-21T00:49:10.7583919Z === RUN   TestValidateServerConfig/valid_config
2026-01-21T00:49:10.7584716Z === RUN   TestValidateServerConfig/empty_address
2026-01-21T00:49:10.7585319Z === RUN   TestValidateServerConfig/negative_timeout
2026-01-21T00:49:10.7585856Z --- PASS: TestValidateServerConfig (0.00s)
2026-01-21T00:49:10.7586516Z     --- PASS: TestValidateServerConfig/valid_config (0.00s)
2026-01-21T00:49:10.7587840Z     --- PASS: TestValidateServerConfig/empty_address (0.00s)
2026-01-21T00:49:10.7589555Z     --- PASS: TestValidateServerConfig/negative_timeout (0.00s)
2026-01-21T00:49:10.7590277Z === RUN   TestValidateAuthConfig
2026-01-21T00:49:10.7591210Z === RUN   TestValidateAuthConfig/none_auth
2026-01-21T00:49:10.7592118Z === RUN   TestValidateAuthConfig/jwt_with_token
2026-01-21T00:49:10.7593045Z === RUN   TestValidateAuthConfig/jwt_without_token
2026-01-21T00:49:10.7593768Z === RUN   TestValidateAuthConfig/basic_auth_with_credentials
2026-01-21T00:49:10.7594534Z === RUN   TestValidateAuthConfig/basic_auth_without_username
2026-01-21T00:49:10.7595213Z === RUN   TestValidateAuthConfig/invalid_auth_type
2026-01-21T00:49:10.7595912Z --- PASS: TestValidateAuthConfig (0.00s)
2026-01-21T00:49:10.7596563Z     --- PASS: TestValidateAuthConfig/none_auth (0.00s)
2026-01-21T00:49:10.7597387Z     --- PASS: TestValidateAuthConfig/jwt_with_token (0.00s)
2026-01-21T00:49:10.7598192Z     --- PASS: TestValidateAuthConfig/jwt_without_token (0.00s)
2026-01-21T00:49:10.7599101Z     --- PASS: TestValidateAuthConfig/basic_auth_with_credentials (0.00s)
2026-01-21T00:49:10.7600652Z     --- PASS: TestValidateAuthConfig/basic_auth_without_username (0.00s)
2026-01-21T00:49:10.7601548Z     --- PASS: TestValidateAuthConfig/invalid_auth_type (0.00s)
2026-01-21T00:49:10.7602888Z === RUN   TestValidateLoggingConfig
2026-01-21T00:49:10.7603456Z === RUN   TestValidateLoggingConfig/valid_logging_config
2026-01-21T00:49:10.7604482Z === RUN   TestValidateLoggingConfig/invalid_log_level
2026-01-21T00:49:10.7605202Z === RUN   TestValidateLoggingConfig/invalid_log_format
2026-01-21T00:49:10.7606570Z === RUN   TestValidateLoggingConfig/file_output_without_file
2026-01-21T00:49:10.7607434Z === RUN   TestValidateLoggingConfig/file_output_with_file
2026-01-21T00:49:10.7608134Z --- PASS: TestValidateLoggingConfig (0.00s)
2026-01-21T00:49:10.7609012Z     --- PASS: TestValidateLoggingConfig/valid_logging_config (0.00s)
2026-01-21T00:49:10.7623909Z     --- PASS: TestValidateLoggingConfig/invalid_log_level (0.00s)
2026-01-21T00:49:10.7624819Z     --- PASS: TestValidateLoggingConfig/invalid_log_format (0.00s)
2026-01-21T00:49:10.7625708Z     --- PASS: TestValidateLoggingConfig/file_output_without_file (0.00s)
2026-01-21T00:49:10.7626918Z     --- PASS: TestValidateLoggingConfig/file_output_with_file (0.00s)
2026-01-21T00:49:10.7627559Z === RUN   TestValidateCollectorConfig
2026-01-21T00:49:10.7628108Z === RUN   TestValidateCollectorConfig/disabled_collector
2026-01-21T00:49:10.7628827Z === RUN   TestValidateCollectorConfig/enabled_collector_with_valid_config
2026-01-21T00:49:10.7629679Z === RUN   TestValidateCollectorConfig/enabled_collector_with_invalid_interval
2026-01-21T00:49:10.7630546Z === RUN   TestValidateCollectorConfig/enabled_collector_with_invalid_timeout
2026-01-21T00:49:10.7631267Z --- PASS: TestValidateCollectorConfig (0.00s)
2026-01-21T00:49:10.7632251Z     --- PASS: TestValidateCollectorConfig/disabled_collector (0.00s)
2026-01-21T00:49:10.7633252Z     --- PASS: TestValidateCollectorConfig/enabled_collector_with_valid_config (0.00s)
2026-01-21T00:49:10.7634393Z     --- PASS: TestValidateCollectorConfig/enabled_collector_with_invalid_interval (0.00s)
2026-01-21T00:49:10.7635538Z     --- PASS: TestValidateCollectorConfig/enabled_collector_with_invalid_timeout (0.00s)
2026-01-21T00:49:10.7636266Z === RUN   TestDefault
2026-01-21T00:49:10.7636587Z --- PASS: TestDefault (0.00s)
2026-01-21T00:49:10.7636955Z === RUN   TestEnvOverrides
2026-01-21T00:49:10.7637315Z --- PASS: TestEnvOverrides (0.00s)
2026-01-21T00:49:10.7637741Z === RUN   TestEnvOverridesPrecedence
2026-01-21T00:49:10.7638208Z --- PASS: TestEnvOverridesPrecedence (0.00s)
2026-01-21T00:49:10.7638675Z === RUN   TestInvalidEnvOverrides
2026-01-21T00:49:10.7639170Z === RUN   TestInvalidEnvOverrides/invalid_server_timeout
2026-01-21T00:49:10.7639755Z === RUN   TestInvalidEnvOverrides/invalid_TLS_enabled
2026-01-21T00:49:10.7640342Z === RUN   TestInvalidEnvOverrides/invalid_retry_attempts
2026-01-21T00:49:10.7640989Z === RUN   TestInvalidEnvOverrides/invalid_requests_per_second
2026-01-21T00:49:10.7641638Z === RUN   TestInvalidEnvOverrides/invalid_collector_enabled
2026-01-21T00:49:10.7642261Z === RUN   TestInvalidEnvOverrides/invalid_collector_interval
2026-01-21T00:49:10.7642839Z --- PASS: TestInvalidEnvOverrides (0.00s)
2026-01-21T00:49:10.7643538Z     --- PASS: TestInvalidEnvOverrides/invalid_server_timeout (0.00s)
2026-01-21T00:49:10.7644301Z     --- PASS: TestInvalidEnvOverrides/invalid_TLS_enabled (0.00s)
2026-01-21T00:49:10.7645080Z     --- PASS: TestInvalidEnvOverrides/invalid_retry_attempts (0.00s)
2026-01-21T00:49:10.7645929Z     --- PASS: TestInvalidEnvOverrides/invalid_requests_per_second (0.00s)
2026-01-21T00:49:10.7647196Z     --- PASS: TestInvalidEnvOverrides/invalid_collector_enabled (0.00s)
2026-01-21T00:49:10.7648101Z     --- PASS: TestInvalidEnvOverrides/invalid_collector_interval (0.00s)
2026-01-21T00:49:10.7648712Z === RUN   TestApplyEnvOverrides
2026-01-21T00:49:10.7649128Z --- PASS: TestApplyEnvOverrides (0.00s)
2026-01-21T00:49:10.7649577Z === RUN   TestEnhancedValidation_Functional
2026-01-21T00:49:10.7650222Z === RUN   TestEnhancedValidation_Functional/validation_system_is_working
2026-01-21T00:49:10.7651080Z === RUN   TestEnhancedValidation_Functional/invalid_server_address_should_fail
2026-01-21T00:49:10.7652303Z === RUN   TestEnhancedValidation_Functional/missing_metrics_path_should_fail
2026-01-21T00:49:10.7653185Z === RUN   TestEnhancedValidation_Functional/invalid_metrics_path_should_fail
2026-01-21T00:49:10.7654059Z === RUN   TestEnhancedValidation_Functional/missing_SLURM_base_URL_should_fail
2026-01-21T00:49:10.7654945Z === RUN   TestEnhancedValidation_Functional/invalid_auth_type_should_fail
2026-01-21T00:49:10.7655819Z === RUN   TestEnhancedValidation_Functional/short_collector_timeout_should_fail
2026-01-21T00:49:10.7657230Z === RUN   TestEnhancedValidation_Functional/TLS_enabled_without_cert_should_fail
2026-01-21T00:49:10.7658196Z === RUN   TestEnhancedValidation_Functional/conflicting_metric_filters_should_fail
2026-01-21T00:49:10.7658991Z --- PASS: TestEnhancedValidation_Functional (0.00s)
2026-01-21T00:49:10.7660003Z     --- PASS: TestEnhancedValidation_Functional/validation_system_is_working (0.00s)
2026-01-21T00:49:10.7661143Z     --- PASS: TestEnhancedValidation_Functional/invalid_server_address_should_fail (0.00s)
2026-01-21T00:49:10.7662288Z     --- PASS: TestEnhancedValidation_Functional/missing_metrics_path_should_fail (0.00s)
2026-01-21T00:49:10.7663428Z     --- PASS: TestEnhancedValidation_Functional/invalid_metrics_path_should_fail (0.00s)
2026-01-21T00:49:10.7664957Z     --- PASS: TestEnhancedValidation_Functional/missing_SLURM_base_URL_should_fail (0.00s)
2026-01-21T00:49:10.7666182Z     --- PASS: TestEnhancedValidation_Functional/invalid_auth_type_should_fail (0.00s)
2026-01-21T00:49:10.7667671Z     --- PASS: TestEnhancedValidation_Functional/short_collector_timeout_should_fail (0.00s)
2026-01-21T00:49:10.7668981Z     --- PASS: TestEnhancedValidation_Functional/TLS_enabled_without_cert_should_fail (0.00s)
2026-01-21T00:49:10.7670283Z     --- PASS: TestEnhancedValidation_Functional/conflicting_metric_filters_should_fail (0.00s)
2026-01-21T00:49:10.7671095Z === RUN   TestWatcher_New
2026-01-21T00:49:10.7671922Z time="2026-01-21T00:49:08Z" level=info msg="Stopping configuration watcher" component=config-watcher test=true
2026-01-21T00:49:10.7672786Z --- PASS: TestWatcher_New (0.04s)
2026-01-21T00:49:10.7673219Z === RUN   TestWatcher_Start_Stop
2026-01-21T00:49:10.7674644Z time="2026-01-21T00:49:08Z" level=info msg="Starting configuration watcher" component=config-watcher file="C:\\Users\\RUNNER~1\\AppData\\Local\\Temp\\watcher_test3883834012\\config.yaml" test=true
2026-01-21T00:49:10.7676504Z time="2026-01-21T00:49:08Z" level=info msg="Stopping configuration watcher" component=config-watcher test=true
2026-01-21T00:49:10.7677799Z time="2026-01-21T00:49:08Z" level=info msg="Configuration watcher stopped" component=config-watcher test=true
2026-01-21T00:49:10.7678716Z --- PASS: TestWatcher_Start_Stop (0.10s)
2026-01-21T00:49:10.7679182Z === RUN   TestWatcher_ConfigChange
2026-01-21T00:49:10.7680958Z time="2026-01-21T00:49:08Z" level=info msg="Starting configuration watcher" component=config-watcher file="C:\\Users\\RUNNER~1\\AppData\\Local\\Temp\\watcher_test1358772118\\config.yaml" test=true
2026-01-21T00:49:10.7683509Z time="2026-01-21T00:49:08Z" level=debug msg="Configuration file changed" component=config-watcher file="C:\\Users\\RUNNER~1\\AppData\\Local\\Temp\\watcher_test1358772118\\config.yaml" operation=WRITE test=true
2026-01-21T00:49:10.7686086Z time="2026-01-21T00:49:08Z" level=debug msg="Configuration file changed" component=config-watcher file="C:\\Users\\RUNNER~1\\AppData\\Local\\Temp\\watcher_test1358772118\\config.yaml" operation=WRITE test=true
2026-01-21T00:49:10.7687954Z time="2026-01-21T00:49:09Z" level=info msg="Reloading configuration" component=config-watcher test=true
2026-01-21T00:49:10.7689243Z time="2026-01-21T00:49:09Z" level=info msg="Configuration reloaded successfully" component=config-watcher test=true
2026-01-21T00:49:10.7690949Z time="2026-01-21T00:49:09Z" level=info msg="Stopping configuration watcher" component=config-watcher test=true
2026-01-21T00:49:10.7692523Z time="2026-01-21T00:49:09Z" level=info msg="Configuration watcher stopped" component=config-watcher test=true
2026-01-21T00:49:10.7693438Z --- PASS: TestWatcher_ConfigChange (0.50s)
2026-01-21T00:49:10.7693936Z === RUN   TestWatcher_InvalidConfig
2026-01-21T00:49:10.7695364Z time="2026-01-21T00:49:09Z" level=info msg="Starting configuration watcher" component=config-watcher file="C:\\Users\\RUNNER~1\\AppData\\Local\\Temp\\watcher_test1793367478\\config.yaml" test=true
2026-01-21T00:49:10.7697817Z time="2026-01-21T00:49:09Z" level=debug msg="Configuration file changed" component=config-watcher file="C:\\Users\\RUNNER~1\\AppData\\Local\\Temp\\watcher_test1793367478\\config.yaml" operation=WRITE test=true
2026-01-21T00:49:10.7700361Z time="2026-01-21T00:49:09Z" level=debug msg="Configuration file changed" component=config-watcher file="C:\\Users\\RUNNER~1\\AppData\\Local\\Temp\\watcher_test1793367478\\config.yaml" operation=WRITE test=true
2026-01-21T00:49:10.7702198Z time="2026-01-21T00:49:09Z" level=info msg="Reloading configuration" component=config-watcher test=true
2026-01-21T00:49:10.7704203Z time="2026-01-21T00:49:09Z" level=error msg="Failed to load new configuration, keeping current" component=config-watcher error="failed to parse YAML configuration: yaml: line 8: did not find expected node content" test=true
2026-01-21T00:49:10.7706193Z time="2026-01-21T00:49:09Z" level=info msg="Stopping configuration watcher" component=config-watcher test=true
2026-01-21T00:49:10.7707479Z time="2026-01-21T00:49:09Z" level=info msg="Configuration watcher stopped" component=config-watcher test=true
2026-01-21T00:49:10.7708604Z --- PASS: TestWatcher_InvalidConfig (0.50s)
2026-01-21T00:49:10.7709119Z === RUN   TestWatcher_NonExistentFile
2026-01-21T00:49:10.7709602Z --- PASS: TestWatcher_NonExistentFile (0.00s)
2026-01-21T00:49:10.7710086Z === RUN   TestWatcher_GetConfig
2026-01-21T00:49:10.7711856Z time="2026-01-21T00:49:09Z" level=info msg="Starting configuration watcher" component=config-watcher file="C:\\Users\\RUNNER~1\\AppData\\Local\\Temp\\watcher_test1972383186\\config.yaml" test=true
2026-01-21T00:49:10.7713662Z time="2026-01-21T00:49:09Z" level=info msg="Stopping configuration watcher" component=config-watcher test=true
2026-01-21T00:49:10.7714921Z time="2026-01-21T00:49:09Z" level=info msg="Configuration watcher stopped" component=config-watcher test=true
2026-01-21T00:49:10.7715780Z --- PASS: TestWatcher_GetConfig (0.26s)
2026-01-21T00:49:10.7716265Z === RUN   TestWatcher_DebounceMultipleChanges
2026-01-21T00:49:10.7717771Z time="2026-01-21T00:49:10Z" level=info msg="Starting configuration watcher" component=config-watcher file="C:\\Users\\RUNNER~1\\AppData\\Local\\Temp\\watcher_test1761157662\\config.yaml" test=true
2026-01-21T00:49:10.7720179Z time="2026-01-21T00:49:10Z" level=debug msg="Configuration file changed" component=config-watcher file="C:\\Users\\RUNNER~1\\AppData\\Local\\Temp\\watcher_test1761157662\\config.yaml" operation=WRITE test=true
2026-01-21T00:49:10.7722661Z time="2026-01-21T00:49:10Z" level=debug msg="Configuration file changed" component=config-watcher file="C:\\Users\\RUNNER~1\\AppData\\Local\\Temp\\watcher_test1761157662\\config.yaml" operation=WRITE test=true
2026-01-21T00:49:10.7725152Z time="2026-01-21T00:49:10Z" level=debug msg="Configuration file changed" component=config-watcher file="C:\\Users\\RUNNER~1\\AppData\\Local\\Temp\\watcher_test1761157662\\config.yaml" operation=WRITE test=true
2026-01-21T00:49:10.7727634Z time="2026-01-21T00:49:10Z" level=debug msg="Configuration file changed" component=config-watcher file="C:\\Users\\RUNNER~1\\AppData\\Local\\Temp\\watcher_test1761157662\\config.yaml" operation=WRITE test=true
2026-01-21T00:49:10.7730095Z time="2026-01-21T00:49:10Z" level=debug msg="Configuration file changed" component=config-watcher file="C:\\Users\\RUNNER~1\\AppData\\Local\\Temp\\watcher_test1761157662\\config.yaml" operation=WRITE test=true
2026-01-21T00:49:10.7733047Z time="2026-01-21T00:49:10Z" level=debug msg="Configuration file changed" component=config-watcher file="C:\\Users\\RUNNER~1\\AppData\\Local\\Temp\\watcher_test1761157662\\config.yaml" operation=WRITE test=true
2026-01-21T00:49:10.7735834Z time="2026-01-21T00:49:10Z" level=debug msg="Configuration file changed" component=config-watcher file="C:\\Users\\RUNNER~1\\AppData\\Local\\Temp\\watcher_test1761157662\\config.yaml" operation=WRITE test=true
2026-01-21T00:49:10.7738363Z time="2026-01-21T00:49:10Z" level=debug msg="Configuration file changed" component=config-watcher file="C:\\Users\\RUNNER~1\\AppData\\Local\\Temp\\watcher_test1761157662\\config.yaml" operation=WRITE test=true
2026-01-21T00:49:10.7740915Z time="2026-01-21T00:49:10Z" level=debug msg="Configuration file changed" component=config-watcher file="C:\\Users\\RUNNER~1\\AppData\\Local\\Temp\\watcher_test1761157662\\config.yaml" operation=WRITE test=true
2026-01-21T00:49:10.7743500Z time="2026-01-21T00:49:10Z" level=debug msg="Configuration file changed" component=config-watcher file="C:\\Users\\RUNNER~1\\AppData\\Local\\Temp\\watcher_test1761157662\\config.yaml" operation=WRITE test=true
2026-01-21T00:49:10.7745400Z time="2026-01-21T00:49:10Z" level=info msg="Reloading configuration" component=config-watcher test=true
2026-01-21T00:49:10.7746699Z time="2026-01-21T00:49:10Z" level=info msg="Configuration reloaded successfully" component=config-watcher test=true
2026-01-21T00:49:10.7748008Z time="2026-01-21T00:49:10Z" level=info msg="Stopping configuration watcher" component=config-watcher test=true
2026-01-21T00:49:10.7749510Z time="2026-01-21T00:49:10Z" level=info msg="Configuration watcher stopped" component=config-watcher test=true
2026-01-21T00:49:10.7750493Z --- PASS: TestWatcher_DebounceMultipleChanges (0.61s)
2026-01-21T00:49:10.7751047Z === RUN   TestWatcher_ConcurrentAccess
2026-01-21T00:49:10.7752840Z time="2026-01-21T00:49:10Z" level=info msg="Starting configuration watcher" component=config-watcher file="C:\\Users\\RUNNER~1\\AppData\\Local\\Temp\\watcher_test4138118587\\config.yaml" test=true
2026-01-21T00:49:10.7754698Z time="2026-01-21T00:49:10Z" level=info msg="Stopping configuration watcher" component=config-watcher test=true
2026-01-21T00:49:10.7755969Z time="2026-01-21T00:49:10Z" level=info msg="Configuration watcher stopped" component=config-watcher test=true
2026-01-21T00:49:10.7756892Z --- PASS: TestWatcher_ConcurrentAccess (0.10s)
2026-01-21T00:49:10.7757350Z PASS
2026-01-21T00:49:10.7757629Z coverage: 54.2% of statements
2026-01-21T00:49:10.7758319Z ok  	github.com/jontk/slurm-exporter/internal/config	2.189s	coverage: 54.2% of statements
2026-01-21T00:49:10.7759087Z === RUN   TestNewSmartFilter_Disabled
2026-01-21T00:49:10.7759573Z --- PASS: TestNewSmartFilter_Disabled (0.00s)
2026-01-21T00:49:10.7760052Z === RUN   TestNewSmartFilter_Enabled
2026-01-21T00:49:10.7760518Z --- PASS: TestNewSmartFilter_Enabled (0.00s)
2026-01-21T00:49:10.7761002Z === RUN   TestNewSmartFilter_InvalidConfig
2026-01-21T00:49:10.7761606Z === RUN   TestNewSmartFilter_InvalidConfig/negative_noise_threshold
2026-01-21T00:49:10.7762310Z === RUN   TestNewSmartFilter_InvalidConfig/zero_cache_size
2026-01-21T00:49:10.7762971Z === RUN   TestNewSmartFilter_InvalidConfig/zero_learning_window
2026-01-21T00:49:10.7763608Z --- PASS: TestNewSmartFilter_InvalidConfig (0.00s)
2026-01-21T00:49:10.7764432Z     --- PASS: TestNewSmartFilter_InvalidConfig/negative_noise_threshold (0.00s)
2026-01-21T00:49:10.7765364Z     --- PASS: TestNewSmartFilter_InvalidConfig/zero_cache_size (0.00s)
2026-01-21T00:49:10.7766261Z     --- PASS: TestNewSmartFilter_InvalidConfig/zero_learning_window (0.00s)
2026-01-21T00:49:10.7766961Z === RUN   TestSmartFilter_ProcessMetrics_Disabled
2026-01-21T00:49:10.7767558Z --- PASS: TestSmartFilter_ProcessMetrics_Disabled (0.00s)
2026-01-21T00:49:10.7768196Z === RUN   TestSmartFilter_ProcessMetrics_LearningPhase
2026-01-21T00:49:10.7768864Z --- PASS: TestSmartFilter_ProcessMetrics_LearningPhase (0.00s)
2026-01-21T00:49:10.7769445Z === RUN   TestSmartFilter_CreateMetricKey
2026-01-21T00:49:10.7769956Z === RUN   TestSmartFilter_CreateMetricKey/no_labels
2026-01-21T00:49:10.7770801Z === RUN   TestSmartFilter_CreateMetricKey/with_labels
2026-01-21T00:49:10.7771382Z --- PASS: TestSmartFilter_CreateMetricKey (0.00s)
2026-01-21T00:49:10.7772472Z     --- PASS: TestSmartFilter_CreateMetricKey/no_labels (0.00s)
2026-01-21T00:49:10.7773286Z     --- PASS: TestSmartFilter_CreateMetricKey/with_labels (0.00s)
2026-01-21T00:49:10.7773895Z === RUN   TestSmartFilter_ExtractValue
2026-01-21T00:49:10.7774381Z === RUN   TestSmartFilter_ExtractValue/gauge
2026-01-21T00:49:10.7774902Z === RUN   TestSmartFilter_ExtractValue/counter
2026-01-21T00:49:10.7775406Z === RUN   TestSmartFilter_ExtractValue/untyped
2026-01-21T00:49:10.7775916Z === RUN   TestSmartFilter_ExtractValue/histogram
2026-01-21T00:49:10.7776419Z --- PASS: TestSmartFilter_ExtractValue (0.00s)
2026-01-21T00:49:10.7777051Z     --- PASS: TestSmartFilter_ExtractValue/gauge (0.00s)
2026-01-21T00:49:10.7777715Z     --- PASS: TestSmartFilter_ExtractValue/counter (0.00s)
2026-01-21T00:49:10.7778409Z     --- PASS: TestSmartFilter_ExtractValue/untyped (0.00s)
2026-01-21T00:49:10.7779100Z     --- PASS: TestSmartFilter_ExtractValue/histogram (0.00s)
2026-01-21T00:49:10.7779658Z === RUN   TestSmartFilter_CalculateStatistics
2026-01-21T00:49:10.7780202Z --- PASS: TestSmartFilter_CalculateStatistics (0.00s)
2026-01-21T00:49:10.7780751Z === RUN   TestSmartFilter_CalculateCorrelation
2026-01-21T00:49:10.7781426Z === RUN   TestSmartFilter_CalculateCorrelation/perfect_positive_correlation
2026-01-21T00:49:10.7782545Z === RUN   TestSmartFilter_CalculateCorrelation/perfect_negative_correlation
2026-01-21T00:49:10.7783363Z === RUN   TestSmartFilter_CalculateCorrelation/no_correlation
2026-01-21T00:49:10.7784004Z --- PASS: TestSmartFilter_CalculateCorrelation (0.00s)
2026-01-21T00:49:10.7784926Z     --- PASS: TestSmartFilter_CalculateCorrelation/perfect_positive_correlation (0.00s)
2026-01-21T00:49:10.7786063Z     --- PASS: TestSmartFilter_CalculateCorrelation/perfect_negative_correlation (0.00s)
2026-01-21T00:49:10.7787087Z     --- PASS: TestSmartFilter_CalculateCorrelation/no_correlation (0.00s)
2026-01-21T00:49:10.7787712Z === RUN   TestSmartFilter_Cache
2026-01-21T00:49:10.7788107Z --- PASS: TestSmartFilter_Cache (0.00s)
2026-01-21T00:49:10.7788504Z === RUN   TestSmartFilter_RegisterMetrics
2026-01-21T00:49:10.7788931Z --- PASS: TestSmartFilter_RegisterMetrics (0.00s)
2026-01-21T00:49:10.7789388Z === RUN   TestSmartFilter_GetStats
2026-01-21T00:49:10.7789819Z --- PASS: TestSmartFilter_GetStats (0.00s)
2026-01-21T00:49:10.7790285Z === RUN   TestSmartFilter_GetPatterns
2026-01-21T00:49:10.7790763Z --- PASS: TestSmartFilter_GetPatterns (0.00s)
2026-01-21T00:49:10.7791266Z === RUN   TestSmartFilter_FilterAction_String
2026-01-21T00:49:10.7792137Z === RUN   TestSmartFilter_FilterAction_String/keep
2026-01-21T00:49:10.7792705Z === RUN   TestSmartFilter_FilterAction_String/filter
2026-01-21T00:49:10.7793281Z === RUN   TestSmartFilter_FilterAction_String/reduce
2026-01-21T00:49:10.7793848Z === RUN   TestSmartFilter_FilterAction_String/unknown
2026-01-21T00:49:10.7794442Z --- PASS: TestSmartFilter_FilterAction_String (0.00s)
2026-01-21T00:49:10.7795192Z     --- PASS: TestSmartFilter_FilterAction_String/keep (0.00s)
2026-01-21T00:49:10.7795975Z     --- PASS: TestSmartFilter_FilterAction_String/filter (0.00s)
2026-01-21T00:49:10.7796763Z     --- PASS: TestSmartFilter_FilterAction_String/reduce (0.00s)
2026-01-21T00:49:10.7797570Z     --- PASS: TestSmartFilter_FilterAction_String/unknown (0.00s)
2026-01-21T00:49:10.7798202Z === RUN   TestSmartFilter_NoiseScoreCalculation
2026-01-21T00:49:10.7798795Z === RUN   TestSmartFilter_NoiseScoreCalculation/low_noise
2026-01-21T00:49:10.7799420Z === RUN   TestSmartFilter_NoiseScoreCalculation/high_noise
2026-01-21T00:49:10.7800048Z --- PASS: TestSmartFilter_NoiseScoreCalculation (0.00s)
2026-01-21T00:49:10.7800817Z     --- PASS: TestSmartFilter_NoiseScoreCalculation/low_noise (0.00s)
2026-01-21T00:49:10.7801671Z     --- PASS: TestSmartFilter_NoiseScoreCalculation/high_noise (0.00s)
2026-01-21T00:49:10.7802497Z PASS
2026-01-21T00:49:10.7802771Z coverage: 47.3% of statements
2026-01-21T00:49:10.7803470Z ok  	github.com/jontk/slurm-exporter/internal/filtering	0.179s	coverage: 47.3% of statements
2026-01-21T00:49:10.7804265Z === RUN   TestSLURMAPIHealthCheck_Healthy
2026-01-21T00:49:10.7804781Z --- PASS: TestSLURMAPIHealthCheck_Healthy (0.04s)
2026-01-21T00:49:10.7805309Z === RUN   TestSLURMAPIHealthCheck_PingFails
2026-01-21T00:49:10.7805830Z --- PASS: TestSLURMAPIHealthCheck_PingFails (0.00s)
2026-01-21T00:49:10.7806368Z === RUN   TestSLURMAPIHealthCheck_InfoFails
2026-01-21T00:49:10.7806894Z --- PASS: TestSLURMAPIHealthCheck_InfoFails (0.00s)
2026-01-21T00:49:10.7807437Z === RUN   TestCollectorsHealthCheck_AllHealthy
2026-01-21T00:49:10.7807998Z --- PASS: TestCollectorsHealthCheck_AllHealthy (0.00s)
2026-01-21T00:49:10.7808593Z === RUN   TestCollectorsHealthCheck_StaleCollector
2026-01-21T00:49:10.7809203Z --- PASS: TestCollectorsHealthCheck_StaleCollector (0.00s)
2026-01-21T00:49:10.7809849Z === RUN   TestCollectorsHealthCheck_ConsecutiveErrors
2026-01-21T00:49:10.7810501Z --- PASS: TestCollectorsHealthCheck_ConsecutiveErrors (0.00s)
2026-01-21T00:49:10.7811160Z === RUN   TestCollectorsHealthCheck_DisabledCollectors
2026-01-21T00:49:10.7811793Z --- PASS: TestCollectorsHealthCheck_DisabledCollectors (0.00s)
2026-01-21T00:49:10.7812789Z === RUN   TestMemoryHealthCheck_Normal
2026-01-21T00:49:10.7813283Z --- PASS: TestMemoryHealthCheck_Normal (0.00s)
2026-01-21T00:49:10.7814042Z === RUN   TestMemoryHealthCheck_NoThreshold
2026-01-21T00:49:10.7814643Z --- PASS: TestMemoryHealthCheck_NoThreshold (0.00s)
2026-01-21T00:49:10.7815182Z === RUN   TestDiskHealthCheck_Normal
2026-01-21T00:49:10.7815657Z --- PASS: TestDiskHealthCheck_Normal (0.00s)
2026-01-21T00:49:10.7816156Z === RUN   TestDiskHealthCheck_InvalidPath
2026-01-21T00:49:10.7816699Z --- PASS: TestDiskHealthCheck_InvalidPath (0.00s)
2026-01-21T00:49:10.7817227Z === RUN   TestNetworkHealthCheck_Normal
2026-01-21T00:49:10.7817778Z --- PASS: TestNetworkHealthCheck_Normal (0.00s)
2026-01-21T00:49:10.7818318Z === RUN   TestCircuitBreakerHealthCheck_AllClosed
2026-01-21T00:49:10.7818938Z --- PASS: TestCircuitBreakerHealthCheck_AllClosed (0.00s)
2026-01-21T00:49:10.7819553Z === RUN   TestCircuitBreakerHealthCheck_SomeOpen
2026-01-21T00:49:10.7820132Z --- PASS: TestCircuitBreakerHealthCheck_SomeOpen (0.00s)
2026-01-21T00:49:10.7820730Z === RUN   TestCircuitBreakerHealthCheck_HalfOpen
2026-01-21T00:49:10.7821311Z --- PASS: TestCircuitBreakerHealthCheck_HalfOpen (0.00s)
2026-01-21T00:49:10.7821797Z PASS
2026-01-21T00:49:10.7822047Z coverage: 53.8% of statements
2026-01-21T00:49:10.7822722Z ok  	github.com/jontk/slurm-exporter/internal/health	0.183s	coverage: 53.8% of statements
2026-01-21T00:49:10.7823483Z === RUN   TestFullCollectorIntegration
2026-01-21T00:49:10.7824515Z     integration_test.go:24: TODO: Implement dependency injection for SLURM client in collector registry
2026-01-21T00:49:10.7825434Z --- SKIP: TestFullCollectorIntegration (0.00s)
2026-01-21T00:49:10.7825928Z === RUN   TestHTTPMetricsEndpoint
2026-01-21T00:49:10.7827235Z     integration_test.go:102: TODO: Implement dependency injection for SLURM client in collector registry
2026-01-21T00:49:10.7828138Z --- SKIP: TestHTTPMetricsEndpoint (0.00s)
2026-01-21T00:49:10.7828605Z === RUN   TestCollectorFiltering
2026-01-21T00:49:10.7829586Z     integration_test.go:150: TODO: Implement dependency injection for SLURM client in collector registry
2026-01-21T00:49:10.7830468Z --- SKIP: TestCollectorFiltering (0.00s)
2026-01-21T00:49:10.7830946Z === RUN   TestCollectorCustomLabels
2026-01-21T00:49:10.7831910Z     integration_test.go:196: TODO: Implement dependency injection for SLURM client in collector registry
2026-01-21T00:49:10.7833187Z --- SKIP: TestCollectorCustomLabels (0.00s)
2026-01-21T00:49:10.7833677Z === RUN   TestCollectorTimeout
2026-01-21T00:49:10.7834685Z     integration_test.go:242: TODO: Implement dependency injection for SLURM client in collector registry
2026-01-21T00:49:10.7835871Z --- SKIP: TestCollectorTimeout (0.00s)
2026-01-21T00:49:10.7836386Z === RUN   TestPerformanceMonitoringIntegration
2026-01-21T00:49:10.7837454Z     integration_test.go:284: TODO: Implement dependency injection for SLURM client in collector registry
2026-01-21T00:49:10.7838415Z --- SKIP: TestPerformanceMonitoringIntegration (0.00s)
2026-01-21T00:49:10.7838989Z === RUN   TestCardinalityLimiting
2026-01-21T00:49:10.7839941Z     integration_test.go:336: TODO: Implement dependency injection for SLURM client in collector registry
2026-01-21T00:49:10.7840813Z --- SKIP: TestCardinalityLimiting (0.00s)
2026-01-21T00:49:10.7841228Z PASS
2026-01-21T00:49:10.7841484Z coverage: [no statements]
2026-01-21T00:49:10.7842176Z ok  	github.com/jontk/slurm-exporter/internal/integration	0.045s	coverage: [no statements]
2026-01-21T00:49:10.7842931Z === RUN   TestNewLogger
2026-01-21T00:49:10.7843290Z === RUN   TestNewLogger/WithValidConfig
2026-01-21T00:49:10.7843744Z === RUN   TestNewLogger/WithNilConfig
2026-01-21T00:49:10.7844189Z === RUN   TestNewLogger/WithInvalidLevel
2026-01-21T00:49:10.7844659Z === RUN   TestNewLogger/WithTextFormatter
2026-01-21T00:49:10.7845125Z === RUN   TestNewLogger/WithConstantFields
2026-01-21T00:49:10.7845576Z --- PASS: TestNewLogger (0.04s)
2026-01-21T00:49:10.7846100Z     --- PASS: TestNewLogger/WithValidConfig (0.00s)
2026-01-21T00:49:10.7846706Z     --- PASS: TestNewLogger/WithNilConfig (0.00s)
2026-01-21T00:49:10.7847904Z     --- PASS: TestNewLogger/WithInvalidLevel (0.00s)
2026-01-21T00:49:10.7848603Z     --- PASS: TestNewLogger/WithTextFormatter (0.00s)
2026-01-21T00:49:10.7849246Z     --- PASS: TestNewLogger/WithConstantFields (0.04s)
2026-01-21T00:49:10.7849757Z === RUN   TestLoggerFileOutput
2026-01-21T00:49:10.7850177Z === RUN   TestLoggerFileOutput/WithValidFile
2026-01-21T00:49:10.7850720Z === RUN   TestLoggerFileOutput/WithFileOutputNoPath
2026-01-21T00:49:10.7851300Z === RUN   TestLoggerFileOutput/WithNestedDirectory
2026-01-21T00:49:10.7851800Z --- PASS: TestLoggerFileOutput (0.00s)
2026-01-21T00:49:10.7852407Z     --- PASS: TestLoggerFileOutput/WithValidFile (0.00s)
2026-01-21T00:49:10.7853474Z     --- PASS: TestLoggerFileOutput/WithFileOutputNoPath (0.00s)
2026-01-21T00:49:10.7854269Z     --- PASS: TestLoggerFileOutput/WithNestedDirectory (0.00s)
2026-01-21T00:49:10.7854817Z === RUN   TestLoggerMethods
2026-01-21T00:49:10.7855212Z === RUN   TestLoggerMethods/WithComponent
2026-01-21T00:49:10.7855675Z === RUN   TestLoggerMethods/WithCollector
2026-01-21T00:49:10.7856139Z === RUN   TestLoggerMethods/WithRequest
2026-01-21T00:49:10.7856582Z === RUN   TestLoggerMethods/WithError
2026-01-21T00:49:10.7857022Z === RUN   TestLoggerMethods/WithDuration
2026-01-21T00:49:10.7857504Z === RUN   TestLoggerMethods/IsHTTPSuppressed
2026-01-21T00:49:10.7857953Z === RUN   TestLoggerMethods/SetLevel
2026-01-21T00:49:10.7858365Z --- PASS: TestLoggerMethods (0.00s)
2026-01-21T00:49:10.7858935Z     --- PASS: TestLoggerMethods/WithComponent (0.00s)
2026-01-21T00:49:10.7859589Z     --- PASS: TestLoggerMethods/WithCollector (0.00s)
2026-01-21T00:49:10.7860168Z     --- PASS: TestLoggerMethods/WithRequest (0.00s)
2026-01-21T00:49:10.7860676Z     --- PASS: TestLoggerMethods/WithError (0.00s)
2026-01-21T00:49:10.7861214Z     --- PASS: TestLoggerMethods/WithDuration (0.00s)
2026-01-21T00:49:10.7861766Z     --- PASS: TestLoggerMethods/IsHTTPSuppressed (0.00s)
2026-01-21T00:49:10.7862310Z     --- PASS: TestLoggerMethods/SetLevel (0.00s)
2026-01-21T00:49:10.7862708Z === RUN   TestLogLevels
2026-01-21T00:49:10.7863010Z === RUN   TestLogLevels/Level_debug
2026-01-21T00:49:10.7863361Z === RUN   TestLogLevels/Level_info
2026-01-21T00:49:10.7863731Z === RUN   TestLogLevels/Level_warn
2026-01-21T00:49:10.7864079Z === RUN   TestLogLevels/Level_error
2026-01-21T00:49:10.7864429Z --- PASS: TestLogLevels (0.00s)
2026-01-21T00:49:10.7864877Z     --- PASS: TestLogLevels/Level_debug (0.00s)
2026-01-21T00:49:10.7865606Z     --- PASS: TestLogLevels/Level_info (0.00s)
2026-01-21T00:49:10.7866087Z     --- PASS: TestLogLevels/Level_warn (0.00s)
2026-01-21T00:49:10.7866579Z     --- PASS: TestLogLevels/Level_error (0.00s)
2026-01-21T00:49:10.7866982Z === RUN   TestLogFormats
2026-01-21T00:49:10.7867301Z === RUN   TestLogFormats/Format_json
2026-01-21T00:49:10.7867681Z === RUN   TestLogFormats/Format_text
2026-01-21T00:49:10.7868080Z === RUN   TestLogFormats/Format_invalid
2026-01-21T00:49:10.7868470Z --- PASS: TestLogFormats (0.00s)
2026-01-21T00:49:10.7868920Z     --- PASS: TestLogFormats/Format_json (0.00s)
2026-01-21T00:49:10.7869422Z     --- PASS: TestLogFormats/Format_text (0.00s)
2026-01-21T00:49:10.7869940Z     --- PASS: TestLogFormats/Format_invalid (0.00s)
2026-01-21T00:49:10.7870338Z === RUN   TestClose
2026-01-21T00:49:10.7870593Z === RUN   TestClose/FileOutput
2026-01-21T00:49:10.7870907Z === RUN   TestClose/StdoutOutput
2026-01-21T00:49:10.7871243Z --- PASS: TestClose (0.00s)
2026-01-21T00:49:10.7871641Z     --- PASS: TestClose/FileOutput (0.00s)
2026-01-21T00:49:10.7872111Z     --- PASS: TestClose/StdoutOutput (0.00s)
2026-01-21T00:49:10.7872479Z PASS
2026-01-21T00:49:10.7872710Z coverage: 72.7% of statements
2026-01-21T00:49:10.7873624Z ok  	github.com/jontk/slurm-exporter/internal/logging	0.084s	coverage: 72.7% of statements
2026-01-21T00:49:11.0030396Z === RUN   TestCardinalityManager
2026-01-21T00:49:11.0031688Z === RUN   TestCardinalityManager/NewCardinalityManager
2026-01-21T00:49:11.0032433Z === RUN   TestCardinalityManager/SetLimit
2026-01-21T00:49:11.0033239Z === RUN   TestCardinalityManager/ShouldCollectMetric
2026-01-21T00:49:11.0033785Z === RUN   TestCardinalityManager/SamplingLogic
2026-01-21T00:49:11.0034300Z === RUN   TestCardinalityManager/PatternMatching
2026-01-21T00:49:11.0034806Z === RUN   TestCardinalityManager/UsageTracking
2026-01-21T00:49:11.0035913Z === RUN   TestCardinalityManager/HashConsistency
2026-01-21T00:49:11.0036852Z === RUN   TestCardinalityManager/GetCardinalityReport
2026-01-21T00:49:11.0037714Z === RUN   TestCardinalityManager/ViolationDetection
2026-01-21T00:49:11.0038324Z === RUN   TestCardinalityManager/RecommendationGeneration
2026-01-21T00:49:11.0039173Z === RUN   TestCardinalityManager/RegisterMetrics
2026-01-21T00:49:11.0039706Z === RUN   TestCardinalityManager/MonitoringStart
2026-01-21T00:49:11.0040267Z === RUN   TestCardinalityManager/DefaultLimitsConfiguration
2026-01-21T00:49:11.0040828Z === RUN   TestCardinalityManager/LabelValueLimits
2026-01-21T00:49:11.0041331Z --- PASS: TestCardinalityManager (0.05s)
2026-01-21T00:49:11.0042024Z     --- PASS: TestCardinalityManager/NewCardinalityManager (0.00s)
2026-01-21T00:49:11.0042731Z     --- PASS: TestCardinalityManager/SetLimit (0.00s)
2026-01-21T00:49:11.0043414Z     --- PASS: TestCardinalityManager/ShouldCollectMetric (0.00s)
2026-01-21T00:49:11.0044141Z     --- PASS: TestCardinalityManager/SamplingLogic (0.00s)
2026-01-21T00:49:11.0044815Z     --- PASS: TestCardinalityManager/PatternMatching (0.00s)
2026-01-21T00:49:11.0045539Z     --- PASS: TestCardinalityManager/UsageTracking (0.00s)
2026-01-21T00:49:11.0046214Z     --- PASS: TestCardinalityManager/HashConsistency (0.00s)
2026-01-21T00:49:11.0046946Z     --- PASS: TestCardinalityManager/GetCardinalityReport (0.00s)
2026-01-21T00:49:11.0048051Z     --- PASS: TestCardinalityManager/ViolationDetection (0.00s)
2026-01-21T00:49:11.0048867Z     --- PASS: TestCardinalityManager/RecommendationGeneration (0.00s)
2026-01-21T00:49:11.0049901Z     --- PASS: TestCardinalityManager/RegisterMetrics (0.00s)
2026-01-21T00:49:11.0050595Z     --- PASS: TestCardinalityManager/MonitoringStart (0.05s)
2026-01-21T00:49:11.0051429Z     --- PASS: TestCardinalityManager/DefaultLimitsConfiguration (0.00s)
2026-01-21T00:49:11.0052265Z     --- PASS: TestCardinalityManager/LabelValueLimits (0.00s)
2026-01-21T00:49:11.0052851Z === RUN   TestCardinalityLimitPriorities
2026-01-21T00:49:11.0053456Z === RUN   TestCardinalityLimitPriorities/PriorityEnforcement
2026-01-21T00:49:11.0054398Z --- PASS: TestCardinalityLimitPriorities (0.00s)
2026-01-21T00:49:11.0055173Z     --- PASS: TestCardinalityLimitPriorities/PriorityEnforcement (0.00s)
2026-01-21T00:49:11.0056163Z === RUN   TestFilterStrategies
2026-01-21T00:49:11.0056656Z === RUN   TestFilterStrategies/FilterConfiguration
2026-01-21T00:49:11.0057233Z === RUN   TestFilterStrategies/FilterStrategiesEnum
2026-01-21T00:49:11.0057768Z --- PASS: TestFilterStrategies (0.00s)
2026-01-21T00:49:11.0058411Z     --- PASS: TestFilterStrategies/FilterConfiguration (0.00s)
2026-01-21T00:49:11.0059204Z     --- PASS: TestFilterStrategies/FilterStrategiesEnum (0.00s)
2026-01-21T00:49:11.0059775Z === RUN   TestCardinalityReport
2026-01-21T00:49:11.0060203Z === RUN   TestCardinalityReport/ReportStructure
2026-01-21T00:49:11.0060741Z === RUN   TestCardinalityReport/ReportSorting
2026-01-21T00:49:11.0061235Z --- PASS: TestCardinalityReport (0.00s)
2026-01-21T00:49:11.0061875Z     --- PASS: TestCardinalityReport/ReportStructure (0.00s)
2026-01-21T00:49:11.0062603Z     --- PASS: TestCardinalityReport/ReportSorting (0.00s)
2026-01-21T00:49:11.0063131Z === RUN   TestLabelManager
2026-01-21T00:49:11.0063515Z === RUN   TestLabelManager/ValidateLabels
2026-01-21T00:49:11.0063979Z === RUN   TestLabelManager/ValidateInvalidLabels
2026-01-21T00:49:11.0064401Z === RUN   TestLabelManager/ValidateLabel
2026-01-21T00:49:11.0064784Z === RUN   TestLabelManager/SanitizeLabels
2026-01-21T00:49:11.0065224Z === RUN   TestLabelManager/TrackLabelUsage
2026-01-21T00:49:11.0065939Z === RUN   TestLabelManager/GetDimensionalAnalysis
2026-01-21T00:49:11.0067172Z === RUN   TestLabelManager/GetHighCardinalityLabels
2026-01-21T00:49:11.0067689Z === RUN   TestLabelManager/BuildLabelSet
2026-01-21T00:49:11.0068167Z === RUN   TestLabelManager/GetLabelRecommendations
2026-01-21T00:49:11.0068647Z --- PASS: TestLabelManager (0.01s)
2026-01-21T00:49:11.0069174Z     --- PASS: TestLabelManager/ValidateLabels (0.00s)
2026-01-21T00:49:11.0069865Z     --- PASS: TestLabelManager/ValidateInvalidLabels (0.00s)
2026-01-21T00:49:11.0070509Z     --- PASS: TestLabelManager/ValidateLabel (0.00s)
2026-01-21T00:49:11.0071087Z     --- PASS: TestLabelManager/SanitizeLabels (0.00s)
2026-01-21T00:49:11.0072033Z     --- PASS: TestLabelManager/TrackLabelUsage (0.00s)
2026-01-21T00:49:11.0072742Z     --- PASS: TestLabelManager/GetDimensionalAnalysis (0.00s)
2026-01-21T00:49:11.0073524Z     --- PASS: TestLabelManager/GetHighCardinalityLabels (0.00s)
2026-01-21T00:49:11.0074215Z     --- PASS: TestLabelManager/BuildLabelSet (0.00s)
2026-01-21T00:49:11.0074907Z     --- PASS: TestLabelManager/GetLabelRecommendations (0.00s)
2026-01-21T00:49:11.0075443Z === RUN   TestLabelDimension
2026-01-21T00:49:11.0075818Z === RUN   TestLabelDimension/StandardLabels
2026-01-21T00:49:11.0076227Z === RUN   TestLabelDimension/LabelTypes
2026-01-21T00:49:11.0076657Z --- PASS: TestLabelDimension (0.00s)
2026-01-21T00:49:11.0077245Z     --- PASS: TestLabelDimension/StandardLabels (0.00s)
2026-01-21T00:49:11.0077864Z     --- PASS: TestLabelDimension/LabelTypes (0.00s)
2026-01-21T00:49:11.0078591Z === RUN   TestLabelValidation
2026-01-21T00:49:11.0079044Z === RUN   TestLabelValidation/ClusterNameValidation
2026-01-21T00:49:11.0079585Z === RUN   TestLabelValidation/JobIDValidation
2026-01-21T00:49:11.0080069Z === RUN   TestLabelValidation/StateValidation
2026-01-21T00:49:11.0080549Z --- PASS: TestLabelValidation (0.00s)
2026-01-21T00:49:11.0081202Z     --- PASS: TestLabelValidation/ClusterNameValidation (0.00s)
2026-01-21T00:49:11.0081935Z     --- PASS: TestLabelValidation/JobIDValidation (0.00s)
2026-01-21T00:49:11.0082627Z     --- PASS: TestLabelValidation/StateValidation (0.00s)
2026-01-21T00:49:11.0083127Z === RUN   TestLabelSanitization
2026-01-21T00:49:11.0083559Z === RUN   TestLabelSanitization/ValueSanitization
2026-01-21T00:49:11.0084031Z === RUN   TestLabelSanitization/SensitiveLabelHandling
2026-01-21T00:49:11.0084510Z --- PASS: TestLabelSanitization (0.00s)
2026-01-21T00:49:11.0085344Z     --- PASS: TestLabelSanitization/ValueSanitization (0.00s)
2026-01-21T00:49:11.0086109Z     --- PASS: TestLabelSanitization/SensitiveLabelHandling (0.00s)
2026-01-21T00:49:11.0086703Z === RUN   TestDimensionalAnalysisReport
2026-01-21T00:49:11.0087261Z === RUN   TestDimensionalAnalysisReport/ExportDimensionalAnalysis
2026-01-21T00:49:11.0087889Z --- PASS: TestDimensionalAnalysisReport (0.00s)
2026-01-21T00:49:11.0088931Z     --- PASS: TestDimensionalAnalysisReport/ExportDimensionalAnalysis (0.00s)
2026-01-21T00:49:11.0089664Z === RUN   TestCardinalityInfo
2026-01-21T00:49:11.0090088Z === RUN   TestCardinalityInfo/CardinalityInfoFields
2026-01-21T00:49:11.0090827Z --- PASS: TestCardinalityInfo (0.00s)
2026-01-21T00:49:11.0091440Z     --- PASS: TestCardinalityInfo/CardinalityInfoFields (0.00s)
2026-01-21T00:49:11.0091938Z === RUN   TestLabelRecommendations
2026-01-21T00:49:11.0092367Z === RUN   TestLabelRecommendations/RecommendationTypes
2026-01-21T00:49:11.0093199Z === RUN   TestLabelRecommendations/SeverityLevels
2026-01-21T00:49:11.0093690Z --- PASS: TestLabelRecommendations (0.00s)
2026-01-21T00:49:11.0094340Z     --- PASS: TestLabelRecommendations/RecommendationTypes (0.00s)
2026-01-21T00:49:11.0095078Z     --- PASS: TestLabelRecommendations/SeverityLevels (0.00s)
2026-01-21T00:49:11.0095592Z === RUN   TestMetricMetadata
2026-01-21T00:49:11.0096008Z === RUN   TestMetricMetadata/GetMetricMetadata
2026-01-21T00:49:11.0096513Z === RUN   TestMetricMetadata/GetMetricsByCategory
2026-01-21T00:49:11.0097265Z === RUN   TestMetricMetadata/GetMetricsByStability
2026-01-21T00:49:11.0097776Z === RUN   TestMetricMetadata/ValidateMetricMetadata
2026-01-21T00:49:11.0098569Z === RUN   TestMetricMetadata/GetMetricCount
2026-01-21T00:49:11.0099067Z === RUN   TestMetricMetadata/GetCategoryCount
2026-01-21T00:49:11.0099519Z --- PASS: TestMetricMetadata (0.00s)
2026-01-21T00:49:11.0100088Z     --- PASS: TestMetricMetadata/GetMetricMetadata (0.00s)
2026-01-21T00:49:11.0100831Z     --- PASS: TestMetricMetadata/GetMetricsByCategory (0.00s)
2026-01-21T00:49:11.0101594Z     --- PASS: TestMetricMetadata/GetMetricsByStability (0.00s)
2026-01-21T00:49:11.0102377Z     --- PASS: TestMetricMetadata/ValidateMetricMetadata (0.00s)
2026-01-21T00:49:11.0103110Z     --- PASS: TestMetricMetadata/GetMetricCount (0.00s)
2026-01-21T00:49:11.0103713Z     --- PASS: TestMetricMetadata/GetCategoryCount (0.00s)
2026-01-21T00:49:11.0104167Z === RUN   TestMetricTypes
2026-01-21T00:49:11.0104542Z === RUN   TestMetricTypes/MetricType
2026-01-21T00:49:11.0105003Z === RUN   TestMetricTypes/MetricCategory
2026-01-21T00:49:11.0105447Z === RUN   TestMetricTypes/StabilityLevel
2026-01-21T00:49:11.0105891Z --- PASS: TestMetricTypes (0.00s)
2026-01-21T00:49:11.0106411Z     --- PASS: TestMetricTypes/MetricType (0.00s)
2026-01-21T00:49:11.0107024Z     --- PASS: TestMetricTypes/MetricCategory (0.00s)
2026-01-21T00:49:11.0107640Z     --- PASS: TestMetricTypes/StabilityLevel (0.00s)
2026-01-21T00:49:11.0108145Z === RUN   TestDocumentationGeneration
2026-01-21T00:49:11.0108694Z === RUN   TestDocumentationGeneration/GenerateDocumentation
2026-01-21T00:49:11.0109397Z === RUN   TestDocumentationGeneration/GeneratePrometheusConfig
2026-01-21T00:49:11.0110107Z === RUN   TestDocumentationGeneration/GenerateGrafanaDashboard
2026-01-21T00:49:11.0110693Z --- PASS: TestDocumentationGeneration (0.00s)
2026-01-21T00:49:11.0111405Z     --- PASS: TestDocumentationGeneration/GenerateDocumentation (0.00s)
2026-01-21T00:49:11.0112272Z     --- PASS: TestDocumentationGeneration/GeneratePrometheusConfig (0.00s)
2026-01-21T00:49:11.0113162Z     --- PASS: TestDocumentationGeneration/GenerateGrafanaDashboard (0.00s)
2026-01-21T00:49:11.0113784Z === RUN   TestMetricMetadataStructure
2026-01-21T00:49:11.0114293Z === RUN   TestMetricMetadataStructure/RequiredFields
2026-01-21T00:49:11.0114853Z === RUN   TestMetricMetadataStructure/ExampleValues
2026-01-21T00:49:11.0115415Z === RUN   TestMetricMetadataStructure/RelatedMetrics
2026-01-21T00:49:11.0116220Z === RUN   TestMetricMetadataStructure/LabelConsistency
2026-01-21T00:49:11.0116723Z --- PASS: TestMetricMetadataStructure (0.00s)
2026-01-21T00:49:11.0117335Z     --- PASS: TestMetricMetadataStructure/RequiredFields (0.00s)
2026-01-21T00:49:11.0118012Z     --- PASS: TestMetricMetadataStructure/ExampleValues (0.00s)
2026-01-21T00:49:11.0118745Z     --- PASS: TestMetricMetadataStructure/RelatedMetrics (0.00s)
2026-01-21T00:49:11.0119440Z     --- PASS: TestMetricMetadataStructure/LabelConsistency (0.00s)
2026-01-21T00:49:11.0119976Z === RUN   TestDocumentationQuality
2026-01-21T00:49:11.0120385Z === RUN   TestDocumentationQuality/HelpTextQuality
2026-01-21T00:49:11.0120870Z === RUN   TestDocumentationQuality/UseCaseCompleness
2026-01-21T00:49:11.0121332Z --- PASS: TestDocumentationQuality (0.00s)
2026-01-21T00:49:11.0121912Z     --- PASS: TestDocumentationQuality/HelpTextQuality (0.00s)
2026-01-21T00:49:11.0122576Z     --- PASS: TestDocumentationQuality/UseCaseCompleness (0.00s)
2026-01-21T00:49:11.0123082Z === RUN   TestCategoryDistribution
2026-01-21T00:49:11.0123845Z === RUN   TestCategoryDistribution/CategoryBalance
2026-01-21T00:49:11.0124543Z     metadata_test.go:350: Metric distribution by category:
2026-01-21T00:49:11.0125157Z     metadata_test.go:352:   partition: 1 metrics
2026-01-21T00:49:11.0125650Z     metadata_test.go:352:   user: 1 metrics
2026-01-21T00:49:11.0126174Z     metadata_test.go:352:   performance: 1 metrics
2026-01-21T00:49:11.0126696Z     metadata_test.go:352:   exporter: 1 metrics
2026-01-21T00:49:11.0127367Z     metadata_test.go:352:   cluster: 3 metrics
2026-01-21T00:49:11.0127850Z     metadata_test.go:352:   node: 2 metrics
2026-01-21T00:49:11.0128302Z     metadata_test.go:352:   job: 2 metrics
2026-01-21T00:49:11.0128703Z --- PASS: TestCategoryDistribution (0.00s)
2026-01-21T00:49:11.0129303Z     --- PASS: TestCategoryDistribution/CategoryBalance (0.00s)
2026-01-21T00:49:11.0129830Z === RUN   TestPerformanceMetrics
2026-01-21T00:49:11.0130230Z     performance_test.go:39: 
2026-01-21T00:49:11.0131106Z         	Error Trace:	D:/a/slurm-exporter/slurm-exporter/internal/metrics/performance_test.go:39
2026-01-21T00:49:11.0131927Z         	Error:      	"0s" is not greater than "0s"
2026-01-21T00:49:11.0132460Z         	Test:       	TestPerformanceMetrics
2026-01-21T00:49:11.0132891Z --- FAIL: TestPerformanceMetrics (0.06s)
2026-01-21T00:49:11.0133335Z === RUN   TestCacheMetricsRecorder
2026-01-21T00:49:11.0133723Z --- PASS: TestCacheMetricsRecorder (0.00s)
2026-01-21T00:49:11.0134188Z === RUN   TestCardinalityTracker
2026-01-21T00:49:11.0134596Z --- PASS: TestCardinalityTracker (0.17s)
2026-01-21T00:49:11.0135032Z === RUN   TestTimerZeroDuration
2026-01-21T00:49:11.0135421Z --- PASS: TestTimerZeroDuration (0.00s)
2026-01-21T00:49:11.0135854Z === RUN   TestMetricsDoubleRegistration
2026-01-21T00:49:11.0136349Z --- PASS: TestMetricsDoubleRegistration (0.00s)
2026-01-21T00:49:11.0136842Z === RUN   TestUpdateFunctions
2026-01-21T00:49:11.0137240Z --- PASS: TestUpdateFunctions (0.00s)
2026-01-21T00:49:11.0137607Z FAIL
2026-01-21T00:49:11.0137851Z coverage: 56.1% of statements
2026-01-21T00:49:11.0138349Z FAIL	github.com/jontk/slurm-exporter/internal/metrics	0.346s
2026-01-21T00:49:12.4215692Z === RUN   TestNewBatchProcessor
2026-01-21T00:49:12.4216515Z === RUN   TestNewBatchProcessor/default_values
2026-01-21T00:49:12.4217191Z time="2026-01-21T00:49:11Z" level=info msg="Stopping batch processor"
2026-01-21T00:49:12.4217935Z time="2026-01-21T00:49:11Z" level=info msg="Batch processor stopped"
2026-01-21T00:49:12.4218618Z === RUN   TestNewBatchProcessor/custom_values
2026-01-21T00:49:12.4219234Z time="2026-01-21T00:49:11Z" level=info msg="Stopping batch processor"
2026-01-21T00:49:12.4219989Z time="2026-01-21T00:49:11Z" level=info msg="Batch processor stopped"
2026-01-21T00:49:12.4220575Z --- PASS: TestNewBatchProcessor (0.05s)
2026-01-21T00:49:12.4221183Z     --- PASS: TestNewBatchProcessor/default_values (0.05s)
2026-01-21T00:49:12.4222231Z     --- PASS: TestNewBatchProcessor/custom_values (0.00s)
2026-01-21T00:49:12.4222749Z === RUN   TestBatchProcessor_Add
2026-01-21T00:49:12.4223293Z time="2026-01-21T00:49:11Z" level=info msg="Stopping batch processor"
2026-01-21T00:49:12.4224301Z time="2026-01-21T00:49:11Z" level=warning msg="No processor registered for batch type during flush" batch_type=test
2026-01-21T00:49:12.4225322Z time="2026-01-21T00:49:11Z" level=info msg="Batch processor stopped"
2026-01-21T00:49:12.4225925Z --- PASS: TestBatchProcessor_Add (0.00s)
2026-01-21T00:49:12.4226406Z === RUN   TestBatchProcessor_Deduplication
2026-01-21T00:49:12.4226970Z time="2026-01-21T00:49:11Z" level=info msg="Stopping batch processor"
2026-01-21T00:49:12.4227947Z time="2026-01-21T00:49:11Z" level=warning msg="No processor registered for batch type during flush" batch_type=test
2026-01-21T00:49:12.4228952Z time="2026-01-21T00:49:11Z" level=info msg="Batch processor stopped"
2026-01-21T00:49:12.4229510Z --- PASS: TestBatchProcessor_Deduplication (0.00s)
2026-01-21T00:49:12.4230003Z === RUN   TestBatchProcessor_AutoFlush
2026-01-21T00:49:12.4230515Z time="2026-01-21T00:49:11Z" level=info msg="Stopping batch processor"
2026-01-21T00:49:12.4231240Z time="2026-01-21T00:49:11Z" level=info msg="Batch processor stopped"
2026-01-21T00:49:12.4232164Z --- PASS: TestBatchProcessor_AutoFlush (0.20s)
2026-01-21T00:49:12.4232683Z === RUN   TestBatchProcessor_TimeBasedFlush
2026-01-21T00:49:12.4233320Z time="2026-01-21T00:49:11Z" level=info msg="Stopping batch processor"
2026-01-21T00:49:12.4234323Z time="2026-01-21T00:49:11Z" level=info msg="Batch processor stopped"
2026-01-21T00:49:12.4235030Z --- PASS: TestBatchProcessor_TimeBasedFlush (0.10s)
2026-01-21T00:49:12.4235568Z === RUN   TestBatchProcessor_RetryLogic
2026-01-21T00:49:12.4236579Z time="2026-01-21T00:49:11Z" level=warning msg="Batch processing failed, retrying" attempt=1 batch_type=test error="simulated error" items=1
2026-01-21T00:49:12.4238181Z time="2026-01-21T00:49:11Z" level=warning msg="Batch processing failed, retrying" attempt=2 batch_type=test error="simulated error" items=1
2026-01-21T00:49:12.4239376Z time="2026-01-21T00:49:11Z" level=info msg="Stopping batch processor"
2026-01-21T00:49:12.4240122Z time="2026-01-21T00:49:11Z" level=info msg="Batch processor stopped"
2026-01-21T00:49:12.4240751Z --- PASS: TestBatchProcessor_RetryLogic (0.03s)
2026-01-21T00:49:12.4241267Z === RUN   TestBatchProcessor_ConcurrentAdd
2026-01-21T00:49:12.4242224Z time="2026-01-21T00:49:11Z" level=info msg="Stopping batch processor"
2026-01-21T00:49:12.4243166Z time="2026-01-21T00:49:11Z" level=warning msg="No processor registered for batch type during flush" batch_type=test
2026-01-21T00:49:12.4243928Z time="2026-01-21T00:49:11Z" level=info msg="Batch processor stopped"
2026-01-21T00:49:12.4244291Z --- PASS: TestBatchProcessor_ConcurrentAdd (0.00s)
2026-01-21T00:49:12.4244665Z === RUN   TestBatchProcessor_FlushAll
2026-01-21T00:49:12.4245247Z time="2026-01-21T00:49:11Z" level=warning msg="No processor registered for batch type during flush" batch_type=type1
2026-01-21T00:49:12.4246112Z time="2026-01-21T00:49:11Z" level=warning msg="No processor registered for batch type during flush" batch_type=type2
2026-01-21T00:49:12.4247387Z time="2026-01-21T00:49:11Z" level=warning msg="No processor registered for batch type during flush" batch_type=type3
2026-01-21T00:49:12.4248369Z time="2026-01-21T00:49:11Z" level=info msg="Stopping batch processor"
2026-01-21T00:49:12.4249059Z time="2026-01-21T00:49:11Z" level=info msg="Batch processor stopped"
2026-01-21T00:49:12.4249613Z --- PASS: TestBatchProcessor_FlushAll (0.10s)
2026-01-21T00:49:12.4250057Z === RUN   TestBatchProcessor_GetStats
2026-01-21T00:49:12.4250591Z time="2026-01-21T00:49:11Z" level=info msg="Stopping batch processor"
2026-01-21T00:49:12.4252079Z time="2026-01-21T00:49:11Z" level=warning msg="No processor registered for batch type during flush" batch_type=test
2026-01-21T00:49:12.4253401Z time="2026-01-21T00:49:11Z" level=info msg="Batch processor stopped"
2026-01-21T00:49:12.4254023Z --- PASS: TestBatchProcessor_GetStats (0.00s)
2026-01-21T00:49:12.4254510Z === RUN   TestBatchProcessor_Stop
2026-01-21T00:49:12.4255049Z time="2026-01-21T00:49:11Z" level=info msg="Stopping batch processor"
2026-01-21T00:49:12.4256061Z time="2026-01-21T00:49:11Z" level=warning msg="No processor registered for batch type during flush" batch_type=test
2026-01-21T00:49:12.4257004Z time="2026-01-21T00:49:11Z" level=info msg="Batch processor stopped"
2026-01-21T00:49:12.4257555Z --- PASS: TestBatchProcessor_Stop (0.00s)
2026-01-21T00:49:12.4258032Z === RUN   TestBatchProcessor_RegisterMetrics
2026-01-21T00:49:12.4258675Z time="2026-01-21T00:49:11Z" level=info msg="Stopping batch processor"
2026-01-21T00:49:12.4259354Z time="2026-01-21T00:49:11Z" level=info msg="Batch processor stopped"
2026-01-21T00:49:12.4259949Z --- PASS: TestBatchProcessor_RegisterMetrics (0.00s)
2026-01-21T00:49:12.4260444Z === RUN   TestNewIntelligentCache
2026-01-21T00:49:12.4260883Z --- PASS: TestNewIntelligentCache (0.00s)
2026-01-21T00:49:12.4261387Z === RUN   TestIntelligentCache_BasicOperations
2026-01-21T00:49:12.4261994Z --- PASS: TestIntelligentCache_BasicOperations (0.00s)
2026-01-21T00:49:12.4262551Z === RUN   TestIntelligentCache_AdaptiveTTL
2026-01-21T00:49:12.4263068Z --- PASS: TestIntelligentCache_AdaptiveTTL (0.24s)
2026-01-21T00:49:12.4263618Z === RUN   TestIntelligentCache_StabilityScore
2026-01-21T00:49:12.4264170Z --- PASS: TestIntelligentCache_StabilityScore (0.00s)
2026-01-21T00:49:12.4264958Z === RUN   TestIntelligentCache_ChangeDetection
2026-01-21T00:49:12.4265547Z --- PASS: TestIntelligentCache_ChangeDetection (0.00s)
2026-01-21T00:49:12.4266108Z === RUN   TestIntelligentCache_SizeEstimation
2026-01-21T00:49:12.4266654Z --- PASS: TestIntelligentCache_SizeEstimation (0.00s)
2026-01-21T00:49:12.4267186Z === RUN   TestIntelligentCache_LRUEviction
2026-01-21T00:49:12.4267707Z --- PASS: TestIntelligentCache_LRUEviction (0.07s)
2026-01-21T00:49:12.4268221Z === RUN   TestIntelligentCache_TTLExpiration
2026-01-21T00:49:12.4268723Z --- PASS: TestIntelligentCache_TTLExpiration (0.15s)
2026-01-21T00:49:12.4269260Z === RUN   TestIntelligentCache_CachedFunction
2026-01-21T00:49:12.4269807Z --- PASS: TestIntelligentCache_CachedFunction (0.00s)
2026-01-21T00:49:12.4270320Z === RUN   TestIntelligentCache_GetStats
2026-01-21T00:49:12.4270806Z --- PASS: TestIntelligentCache_GetStats (0.00s)
2026-01-21T00:49:12.4271341Z === RUN   TestIntelligentCache_GetTopEntries
2026-01-21T00:49:12.4272231Z --- PASS: TestIntelligentCache_GetTopEntries (0.00s)
2026-01-21T00:49:12.4272765Z === RUN   TestIntelligentCache_Clear
2026-01-21T00:49:12.4273229Z --- PASS: TestIntelligentCache_Clear (0.00s)
2026-01-21T00:49:12.4273671Z === RUN   TestProfiler
2026-01-21T00:49:12.4274005Z === RUN   TestProfiler/NewProfiler
2026-01-21T00:49:12.4274429Z === RUN   TestProfiler/DisabledProfiler
2026-01-21T00:49:12.4274854Z === RUN   TestProfiler/StartOperation
2026-01-21T00:49:12.4275257Z === RUN   TestProfiler/Phases
2026-01-21T00:49:12.4275622Z === RUN   TestProfiler/AutoProfile
2026-01-21T00:49:12.4276027Z === RUN   TestProfiler/ProfileCollection
2026-01-21T00:49:12.4276657Z runtime: cannot set cpu profile rate until previous profile has finished.
2026-01-21T00:49:12.4277266Z === RUN   TestProfiler/Report
2026-01-21T00:49:12.4277624Z === RUN   TestProfiler/ListProfiles
2026-01-21T00:49:12.4278016Z === RUN   TestProfiler/Metrics
2026-01-21T00:49:12.4278385Z === RUN   TestProfiler/Stats
2026-01-21T00:49:12.4278768Z --- PASS: TestProfiler (0.21s)
2026-01-21T00:49:12.4279250Z     --- PASS: TestProfiler/NewProfiler (0.00s)
2026-01-21T00:49:12.4279846Z     --- PASS: TestProfiler/DisabledProfiler (0.00s)
2026-01-21T00:49:12.4280425Z     --- PASS: TestProfiler/StartOperation (0.01s)
2026-01-21T00:49:12.4280951Z     --- PASS: TestProfiler/Phases (0.05s)
2026-01-21T00:49:12.4281457Z     --- PASS: TestProfiler/AutoProfile (0.08s)
2026-01-21T00:49:12.4282312Z     --- PASS: TestProfiler/ProfileCollection (0.02s)
2026-01-21T00:49:12.4282866Z     --- PASS: TestProfiler/Report (0.02s)
2026-01-21T00:49:12.4283376Z     --- PASS: TestProfiler/ListProfiles (0.03s)
2026-01-21T00:49:12.4283924Z     --- PASS: TestProfiler/Metrics (0.01s)
2026-01-21T00:49:12.4284404Z     --- PASS: TestProfiler/Stats (0.00s)
2026-01-21T00:49:12.4284853Z === RUN   TestFileProfileStorage
2026-01-21T00:49:12.4285298Z === RUN   TestFileProfileStorage/SaveAndLoad
2026-01-21T00:49:12.4286446Z time="2026-01-21T00:49:12Z" level=info msg="Profile saved" collector=test_collector duration=1m0s profile_id=test_collector_1768956552390300500 size=22
2026-01-21T00:49:12.4287593Z === RUN   TestFileProfileStorage/Delete
2026-01-21T00:49:12.4288589Z time="2026-01-21T00:49:12Z" level=info msg="Profile saved" collector=delete_test duration=1s profile_id=delete_test_1768956552392169900 size=0
2026-01-21T00:49:12.4289641Z === RUN   TestFileProfileStorage/Cleanup
2026-01-21T00:49:12.4290668Z time="2026-01-21T00:49:12Z" level=info msg="Profile saved" collector=old_test duration=1s profile_id=old_test_1768949352394333300 size=0
2026-01-21T00:49:12.4291693Z === RUN   TestFileProfileStorage/Stats
2026-01-21T00:49:12.4292516Z --- PASS: TestFileProfileStorage (0.01s)
2026-01-21T00:49:12.4293148Z     --- PASS: TestFileProfileStorage/SaveAndLoad (0.00s)
2026-01-21T00:49:12.4293806Z     --- PASS: TestFileProfileStorage/Delete (0.00s)
2026-01-21T00:49:12.4294440Z     --- PASS: TestFileProfileStorage/Cleanup (0.00s)
2026-01-21T00:49:12.4295295Z     --- PASS: TestFileProfileStorage/Stats (0.00s)
2026-01-21T00:49:12.4295833Z === RUN   TestMemoryProfileStorage
2026-01-21T00:49:12.4296300Z === RUN   TestMemoryProfileStorage/SaveAndLoad
2026-01-21T00:49:12.4296838Z === RUN   TestMemoryProfileStorage/EnforceLimits
2026-01-21T00:49:12.4297358Z === RUN   TestMemoryProfileStorage/Cleanup
2026-01-21T00:49:12.4297821Z === RUN   TestMemoryProfileStorage/Stats
2026-01-21T00:49:12.4298304Z --- PASS: TestMemoryProfileStorage (0.00s)
2026-01-21T00:49:12.4298965Z     --- PASS: TestMemoryProfileStorage/SaveAndLoad (0.00s)
2026-01-21T00:49:12.4299697Z     --- PASS: TestMemoryProfileStorage/EnforceLimits (0.00s)
2026-01-21T00:49:12.4300399Z     --- PASS: TestMemoryProfileStorage/Cleanup (0.00s)
2026-01-21T00:49:12.4300785Z     --- PASS: TestMemoryProfileStorage/Stats (0.00s)
2026-01-21T00:49:12.4301226Z PASS
2026-01-21T00:49:12.4301391Z coverage: 40.3% of statements
2026-01-21T00:49:12.4301789Z ok  	github.com/jontk/slurm-exporter/internal/performance	1.341s	coverage: 40.3% of statements
2026-01-21T00:49:12.4302389Z === RUN   TestCircuitBreaker_Basic
2026-01-21T00:49:12.4302674Z --- PASS: TestCircuitBreaker_Basic (0.00s)
2026-01-21T00:49:12.4303159Z === RUN   TestCircuitBreaker_FailureThreshold
2026-01-21T00:49:12.4303752Z time="2026-01-21T00:49:11Z" level=warning msg="Circuit breaker recorded failure" circuit_breaker=test error="test error" failures=1 state=closed
2026-01-21T00:49:12.4304640Z time="2026-01-21T00:49:11Z" level=warning msg="Circuit breaker recorded failure" circuit_breaker=test error="test error" failures=2 state=closed
2026-01-21T00:49:12.4305507Z time="2026-01-21T00:49:11Z" level=warning msg="Circuit breaker recorded failure" circuit_breaker=test error="test error" failures=3 state=closed
2026-01-21T00:49:12.4306105Z --- PASS: TestCircuitBreaker_FailureThreshold (0.05s)
2026-01-21T00:49:12.4306388Z === RUN   TestCircuitBreaker_Recovery
2026-01-21T00:49:12.4306936Z time="2026-01-21T00:49:11Z" level=warning msg="Circuit breaker recorded failure" circuit_breaker=test error="test error" failures=1 state=closed
2026-01-21T00:49:12.4307887Z time="2026-01-21T00:49:11Z" level=warning msg="Circuit breaker recorded failure" circuit_breaker=test error="test error" failures=2 state=closed
2026-01-21T00:49:12.4308622Z --- PASS: TestCircuitBreaker_Recovery (0.06s)
2026-01-21T00:49:12.4308897Z === RUN   TestCircuitBreaker_HalfOpenFailure
2026-01-21T00:49:12.4309467Z time="2026-01-21T00:49:11Z" level=warning msg="Circuit breaker recorded failure" circuit_breaker=test error="test error" failures=1 state=closed
2026-01-21T00:49:12.4310525Z time="2026-01-21T00:49:11Z" level=warning msg="Circuit breaker recorded failure" circuit_breaker=test error="test error" failures=2 state=closed
2026-01-21T00:49:12.4311472Z time="2026-01-21T00:49:11Z" level=warning msg="Circuit breaker recorded failure" circuit_breaker=test error="test error" failures=3 state=half-open
2026-01-21T00:49:12.4312897Z --- PASS: TestCircuitBreaker_HalfOpenFailure (0.06s)
2026-01-21T00:49:12.4313393Z === RUN   TestCircuitBreaker_HalfOpenCapacity
2026-01-21T00:49:12.4314234Z time="2026-01-21T00:49:11Z" level=warning msg="Circuit breaker recorded failure" circuit_breaker=test error="test error" failures=1 state=closed
2026-01-21T00:49:12.4315288Z time="2026-01-21T00:49:11Z" level=warning msg="Circuit breaker recorded failure" circuit_breaker=test error="test error" failures=2 state=closed
2026-01-21T00:49:12.4316366Z --- PASS: TestCircuitBreaker_HalfOpenCapacity (0.06s)
2026-01-21T00:49:12.4316905Z === RUN   TestCircuitBreaker_CallWithContext
2026-01-21T00:49:12.4317954Z time="2026-01-21T00:49:11Z" level=warning msg="Circuit breaker recorded failure" circuit_breaker=test error="test error" failures=1 state=closed
2026-01-21T00:49:12.4319065Z --- PASS: TestCircuitBreaker_CallWithContext (0.00s)
2026-01-21T00:49:12.4319567Z === RUN   TestCircuitBreaker_Disabled
2026-01-21T00:49:12.4320021Z --- PASS: TestCircuitBreaker_Disabled (0.00s)
2026-01-21T00:49:12.4320473Z === RUN   TestCircuitBreaker_Reset
2026-01-21T00:49:12.4321713Z time="2026-01-21T00:49:11Z" level=warning msg="Circuit breaker recorded failure" circuit_breaker=test error="test error" failures=1 state=closed
2026-01-21T00:49:12.4323934Z time="2026-01-21T00:49:11Z" level=warning msg="Circuit breaker recorded failure" circuit_breaker=test error="test error" failures=2 state=closed
2026-01-21T00:49:12.4325007Z --- PASS: TestCircuitBreaker_Reset (0.00s)
2026-01-21T00:49:12.4325490Z === RUN   TestCircuitBreaker_Status
2026-01-21T00:49:12.4325913Z --- PASS: TestCircuitBreaker_Status (0.00s)
2026-01-21T00:49:12.4326366Z === RUN   TestCircuitBreakerManager
2026-01-21T00:49:12.4326802Z --- PASS: TestCircuitBreakerManager (0.00s)
2026-01-21T00:49:12.4327296Z === RUN   TestCircuitBreakerManager_HealthCheck
2026-01-21T00:49:12.4328361Z time="2026-01-21T00:49:11Z" level=warning msg="Circuit breaker recorded failure" circuit_breaker=cb1 error="test error" failures=1 state=closed
2026-01-21T00:49:12.4329450Z --- PASS: TestCircuitBreakerManager_HealthCheck (0.00s)
2026-01-21T00:49:12.4329941Z === RUN   TestState_String
2026-01-21T00:49:12.4330267Z --- PASS: TestState_String (0.00s)
2026-01-21T00:49:12.4330648Z === RUN   TestStatus_TimeUntilRetry
2026-01-21T00:49:12.4331050Z --- PASS: TestStatus_TimeUntilRetry (0.00s)
2026-01-21T00:49:12.4331436Z PASS
2026-01-21T00:49:12.4331681Z coverage: 93.6% of statements
2026-01-21T00:49:12.4332358Z ok  	github.com/jontk/slurm-exporter/internal/resilience	0.279s	coverage: 93.6% of statements
2026-01-21T00:49:25.4052619Z === RUN   TestLoggingMiddleware
2026-01-21T00:49:25.4053183Z --- PASS: TestLoggingMiddleware (0.04s)
2026-01-21T00:49:25.4053643Z === RUN   TestHeadersMiddleware
2026-01-21T00:49:25.4054436Z === RUN   TestHeadersMiddleware/StandardHeaders
2026-01-21T00:49:25.4055090Z === RUN   TestHeadersMiddleware/MetricsEndpointHeaders
2026-01-21T00:49:25.4055599Z --- PASS: TestHeadersMiddleware (0.00s)
2026-01-21T00:49:25.4056114Z     --- PASS: TestHeadersMiddleware/StandardHeaders (0.00s)
2026-01-21T00:49:25.4056579Z     --- PASS: TestHeadersMiddleware/MetricsEndpointHeaders (0.00s)
2026-01-21T00:49:25.4056902Z === RUN   TestRecoveryMiddleware
2026-01-21T00:49:25.4057140Z --- PASS: TestRecoveryMiddleware (0.00s)
2026-01-21T00:49:25.4057378Z === RUN   TestCombinedMiddleware
2026-01-21T00:49:25.4057607Z --- PASS: TestCombinedMiddleware (0.00s)
2026-01-21T00:49:25.4057860Z === RUN   TestMetricsMiddleware
2026-01-21T00:49:25.4058762Z time="2026-01-21T00:49:12Z" level=debug msg="HTTP metrics recorded" component=http_metrics duration=0s method=GET path=/other request_size=0 response_size=13 status=200
2026-01-21T00:49:25.4059802Z time="2026-01-21T00:49:12Z" level=debug msg="HTTP metrics recorded" component=http_metrics duration=0s method=GET path=/metrics request_size=0 response_size=13 status=200
2026-01-21T00:49:25.4061073Z time="2026-01-21T00:49:12Z" level=debug msg="HTTP metrics recorded" component=http_metrics duration=0s method=POST path=/other request_size=0 response_size=13 status=200
2026-01-21T00:49:25.4062133Z time="2026-01-21T00:49:12Z" level=debug msg="HTTP metrics recorded" component=http_metrics duration=0s method=PUT path=/other request_size=0 response_size=13 status=200
2026-01-21T00:49:25.4063149Z time="2026-01-21T00:49:12Z" level=debug msg="HTTP metrics recorded" component=http_metrics duration=0s method=GET path=/ request_size=0 response_size=13 status=200
2026-01-21T00:49:25.4064150Z time="2026-01-21T00:49:12Z" level=debug msg="HTTP metrics recorded" component=http_metrics duration=0s method=GET path=/other request_size=0 response_size=13 status=200
2026-01-21T00:49:25.4064794Z --- PASS: TestMetricsMiddleware (0.00s)
2026-01-21T00:49:25.4065050Z === RUN   TestBasicAuthMiddleware
2026-01-21T00:49:25.4065310Z === RUN   TestBasicAuthMiddleware/BasicAuthDisabled
2026-01-21T00:49:25.4065684Z === RUN   TestBasicAuthMiddleware/BasicAuthEnabledNonMetricsEndpoint
2026-01-21T00:49:25.4066206Z === RUN   TestBasicAuthMiddleware/BasicAuthEnabledNoCredentials
2026-01-21T00:49:25.4067213Z time="2026-01-21T00:49:12Z" level=warning msg="Missing basic auth credentials" component=basic_auth path=/metrics remote_addr="192.0.2.1:1234"
2026-01-21T00:49:25.4067917Z === RUN   TestBasicAuthMiddleware/BasicAuthEnabledInvalidCredentials
2026-01-21T00:49:25.4068634Z time="2026-01-21T00:49:12Z" level=warning msg="Invalid basic auth credentials" component=basic_auth path=/metrics remote_addr="192.0.2.1:1234" username=wrong
2026-01-21T00:49:25.4069322Z === RUN   TestBasicAuthMiddleware/BasicAuthEnabledValidCredentials
2026-01-21T00:49:25.4069660Z --- PASS: TestBasicAuthMiddleware (0.00s)
2026-01-21T00:49:25.4070228Z     --- PASS: TestBasicAuthMiddleware/BasicAuthDisabled (0.00s)
2026-01-21T00:49:25.4070727Z     --- PASS: TestBasicAuthMiddleware/BasicAuthEnabledNonMetricsEndpoint (0.00s)
2026-01-21T00:49:25.4071264Z     --- PASS: TestBasicAuthMiddleware/BasicAuthEnabledNoCredentials (0.00s)
2026-01-21T00:49:25.4071887Z     --- PASS: TestBasicAuthMiddleware/BasicAuthEnabledInvalidCredentials (0.00s)
2026-01-21T00:49:25.4072548Z     --- PASS: TestBasicAuthMiddleware/BasicAuthEnabledValidCredentials (0.00s)
2026-01-21T00:49:25.4072916Z === RUN   TestTimeoutMiddleware
2026-01-21T00:49:25.4073150Z === RUN   TestTimeoutMiddleware/NormalRequest
2026-01-21T00:49:25.4073421Z === RUN   TestTimeoutMiddleware/TimeoutRequest
2026-01-21T00:49:25.4073979Z time="2026-01-21T00:49:17Z" level=warning msg="Request timeout exceeded" component=timeout_middleware method=GET path=/health timeout=5s
2026-01-21T00:49:25.4074566Z === RUN   TestTimeoutMiddleware/MetricsEndpointTimeout
2026-01-21T00:49:25.4074872Z === RUN   TestTimeoutMiddleware/CancelledContext
2026-01-21T00:49:25.4075497Z time="2026-01-21T00:49:25Z" level=debug msg="Request context already cancelled" component=timeout_middleware error="context canceled" method=GET path=/test
2026-01-21T00:49:25.4076112Z --- PASS: TestTimeoutMiddleware (13.00s)
2026-01-21T00:49:25.4076456Z     --- PASS: TestTimeoutMiddleware/NormalRequest (0.00s)
2026-01-21T00:49:25.4076835Z     --- PASS: TestTimeoutMiddleware/TimeoutRequest (5.00s)
2026-01-21T00:49:25.4077241Z     --- PASS: TestTimeoutMiddleware/MetricsEndpointTimeout (8.00s)
2026-01-21T00:49:25.4077817Z     --- PASS: TestTimeoutMiddleware/CancelledContext (0.00s)
2026-01-21T00:49:25.4078123Z === RUN   TestResponseWriter
2026-01-21T00:49:25.4078335Z --- PASS: TestResponseWriter (0.00s)
2026-01-21T00:49:25.4078553Z === RUN   TestNew
2026-01-21T00:49:25.4078863Z === RUN   TestNew/WithValidConfig
2026-01-21T00:49:25.4079081Z === RUN   TestNew/WithNilRegistry
2026-01-21T00:49:25.4079287Z --- PASS: TestNew (0.00s)
2026-01-21T00:49:25.4079537Z     --- PASS: TestNew/WithValidConfig (0.00s)
2026-01-21T00:49:25.4079825Z     --- PASS: TestNew/WithNilRegistry (0.00s)
2026-01-21T00:49:25.4080067Z === RUN   TestHealthEndpoint
2026-01-21T00:49:25.4080277Z --- PASS: TestHealthEndpoint (0.00s)
2026-01-21T00:49:25.4080502Z === RUN   TestReadyEndpoint
2026-01-21T00:49:25.4080740Z === RUN   TestReadyEndpoint/WithEnabledCollectors
2026-01-21T00:49:25.4081040Z === RUN   TestReadyEndpoint/WithNoEnabledCollectors
2026-01-21T00:49:25.4081321Z === RUN   TestReadyEndpoint/WithNilRegistry
2026-01-21T00:49:25.4081566Z --- PASS: TestReadyEndpoint (0.00s)
2026-01-21T00:49:25.4081901Z     --- PASS: TestReadyEndpoint/WithEnabledCollectors (0.00s)
2026-01-21T00:49:25.4082318Z     --- PASS: TestReadyEndpoint/WithNoEnabledCollectors (0.00s)
2026-01-21T00:49:25.4082723Z     --- PASS: TestReadyEndpoint/WithNilRegistry (0.00s)
2026-01-21T00:49:25.4082987Z === RUN   TestRootEndpoint
2026-01-21T00:49:25.4083195Z --- PASS: TestRootEndpoint (0.00s)
2026-01-21T00:49:25.4083583Z === RUN   TestMetricsEndpoint
2026-01-21T00:49:25.4083833Z === RUN   TestMetricsEndpoint/WithRegistry
2026-01-21T00:49:25.4084106Z === RUN   TestMetricsEndpoint/WithCollectionError
2026-01-21T00:49:25.4084387Z === RUN   TestMetricsEndpoint/WithNilRegistry
2026-01-21T00:49:25.4084638Z --- PASS: TestMetricsEndpoint (0.00s)
2026-01-21T00:49:25.4085052Z     --- PASS: TestMetricsEndpoint/WithRegistry (0.00s)
2026-01-21T00:49:25.4085433Z     --- PASS: TestMetricsEndpoint/WithCollectionError (0.00s)
2026-01-21T00:49:25.4085807Z     --- PASS: TestMetricsEndpoint/WithNilRegistry (0.00s)
2026-01-21T00:49:25.4086085Z === RUN   TestServerLifecycle
2026-01-21T00:49:25.4086309Z === RUN   TestServerLifecycle/StartAndShutdown
2026-01-21T00:49:25.4086571Z --- PASS: TestServerLifecycle (0.10s)
2026-01-21T00:49:25.4086890Z     --- PASS: TestServerLifecycle/StartAndShutdown (0.10s)
2026-01-21T00:49:25.4087340Z === RUN   TestServerConfiguration
2026-01-21T00:49:25.4087593Z === RUN   TestServerConfiguration/GetMethods
2026-01-21T00:49:25.4087876Z === RUN   TestServerConfiguration/RegistryMethods
2026-01-21T00:49:25.4088152Z --- PASS: TestServerConfiguration (0.00s)
2026-01-21T00:49:25.4088479Z     --- PASS: TestServerConfiguration/GetMethods (0.00s)
2026-01-21T00:49:25.4088851Z     --- PASS: TestServerConfiguration/RegistryMethods (0.00s)
2026-01-21T00:49:25.4089282Z === RUN   TestTLSConfiguration
2026-01-21T00:49:25.4089554Z === RUN   TestTLSConfiguration/TLSDisabled
2026-01-21T00:49:25.4090031Z time="2026-01-21T00:49:25Z" level=debug msg="Health check registered" check=service component=health
2026-01-21T00:49:25.4090898Z time="2026-01-21T00:49:25Z" level=debug msg="Health check registered" check=registry component=health
2026-01-21T00:49:25.4091559Z time="2026-01-21T00:49:25Z" level=debug msg="Health check registered" check=metrics_endpoint component=health
2026-01-21T00:49:25.4092188Z === RUN   TestTLSConfiguration/TLSEnabledMissingCertFile
2026-01-21T00:49:25.4092685Z time="2026-01-21T00:49:25Z" level=debug msg="Health check registered" check=service component=health
2026-01-21T00:49:25.4102359Z time="2026-01-21T00:49:25Z" level=debug msg="Health check registered" check=registry component=health
2026-01-21T00:49:25.4103018Z time="2026-01-21T00:49:25Z" level=debug msg="Health check registered" check=metrics_endpoint component=health
2026-01-21T00:49:25.4103525Z === RUN   TestTLSConfiguration/TLSEnabledMissingKeyFile
2026-01-21T00:49:25.4103982Z time="2026-01-21T00:49:25Z" level=debug msg="Health check registered" check=service component=health
2026-01-21T00:49:25.4104567Z time="2026-01-21T00:49:25Z" level=debug msg="Health check registered" check=registry component=health
2026-01-21T00:49:25.4105188Z time="2026-01-21T00:49:25Z" level=debug msg="Health check registered" check=metrics_endpoint component=health
2026-01-21T00:49:25.4105858Z === RUN   TestTLSConfiguration/TLSMinVersionParsing
2026-01-21T00:49:25.4106167Z === RUN   TestTLSConfiguration/TLSInvalidMinVersion
2026-01-21T00:49:25.4106522Z --- PASS: TestTLSConfiguration (0.00s)
2026-01-21T00:49:25.4106969Z     --- PASS: TestTLSConfiguration/TLSDisabled (0.00s)
2026-01-21T00:49:25.4107543Z     --- PASS: TestTLSConfiguration/TLSEnabledMissingCertFile (0.00s)
2026-01-21T00:49:25.4108000Z     --- PASS: TestTLSConfiguration/TLSEnabledMissingKeyFile (0.00s)
2026-01-21T00:49:25.4108435Z     --- PASS: TestTLSConfiguration/TLSMinVersionParsing (0.00s)
2026-01-21T00:49:25.4108840Z     --- PASS: TestTLSConfiguration/TLSInvalidMinVersion (0.00s)
2026-01-21T00:49:25.4109134Z === RUN   TestSetupRoutes
2026-01-21T00:49:25.4109852Z time="2026-01-21T00:49:25Z" level=error msg="HTTP request" duration=8.584ms duration_ms=8.584 method=GET path=/health query= referer= remote_addr="192.0.2.1:1234" response_size=752 status=503 user_agent=
2026-01-21T00:49:25.4112100Z time="2026-01-21T00:49:25Z" level=error msg="HTTP request" duration="762s" duration_ms=0.762 method=GET path=/ready query= referer= remote_addr="192.0.2.1:1234" response_size=115 status=503 user_agent=
2026-01-21T00:49:25.4113053Z --- PASS: TestSetupRoutes (0.01s)
2026-01-21T00:49:25.4113261Z PASS
2026-01-21T00:49:25.4113419Z coverage: 48.4% of statements
2026-01-21T00:49:25.4113796Z ok  	github.com/jontk/slurm-exporter/internal/server	13.202s	coverage: 48.4% of statements
2026-01-21T00:49:25.4114197Z === RUN   TestNewClient
2026-01-21T00:49:25.4114393Z === RUN   TestNewClient/valid_config
2026-01-21T00:49:25.4115232Z time="2026-01-21T00:49:14Z" level=warning msg="Initial SLURM connection test failed" error="SLURM API connection test failed: [DEADLINE_EXCEEDED] Operation deadline exceeded"
2026-01-21T00:49:25.4115978Z === RUN   TestNewClient/invalid_config_-_empty_base_URL
2026-01-21T00:49:25.4116299Z === RUN   TestNewClient/invalid_config_-_negative_timeout
2026-01-21T00:49:25.4116588Z --- PASS: TestNewClient (2.04s)
2026-01-21T00:49:25.4116876Z     --- PASS: TestNewClient/valid_config (2.04s)
2026-01-21T00:49:25.4117268Z     --- PASS: TestNewClient/invalid_config_-_empty_base_URL (0.00s)
2026-01-21T00:49:25.4117703Z     --- PASS: TestNewClient/invalid_config_-_negative_timeout (0.00s)
2026-01-21T00:49:25.4118140Z === RUN   TestNewConnectionPool
2026-01-21T00:49:25.4118757Z     client_test.go:93: Skipping test that requires network connection - no mock SLURM server available
2026-01-21T00:49:25.4119211Z --- SKIP: TestNewConnectionPool (0.00s)
2026-01-21T00:49:25.4119487Z === RUN   TestConnectionPoolGetClient
2026-01-21T00:49:25.4119997Z     client_test.go:158: Skipping test that requires network connection - no mock SLURM server available
2026-01-21T00:49:25.4120463Z --- SKIP: TestConnectionPoolGetClient (0.00s)
2026-01-21T00:49:25.4120729Z === RUN   TestClientConnectionStatus
2026-01-21T00:49:25.4121230Z     client_test.go:199: Skipping test that requires network connection - no mock SLURM server available
2026-01-21T00:49:25.4121684Z --- SKIP: TestClientConnectionStatus (0.00s)
2026-01-21T00:49:25.4121948Z === RUN   TestClientContextCancellation
2026-01-21T00:49:25.4122465Z     client_test.go:236: Skipping test that requires network connection - no mock SLURM server available
2026-01-21T00:49:25.4122939Z --- SKIP: TestClientContextCancellation (0.00s)
2026-01-21T00:49:25.4123213Z === RUN   TestClientRateLimiting
2026-01-21T00:49:25.4123716Z     client_test.go:273: Skipping test that requires network connection - no mock SLURM server available
2026-01-21T00:49:25.4124331Z --- SKIP: TestClientRateLimiting (0.00s)
2026-01-21T00:49:25.4124562Z PASS
2026-01-21T00:49:25.4124716Z coverage: 19.7% of statements
2026-01-21T00:49:25.4125087Z ok  	github.com/jontk/slurm-exporter/internal/slurm	2.089s	coverage: 19.7% of statements
2026-01-21T00:49:25.4125521Z === RUN   TestConfigureAuth
2026-01-21T00:49:25.4125734Z === RUN   TestConfigureAuth/none_auth
2026-01-21T00:49:25.4125973Z === RUN   TestConfigureAuth/jwt_with_token
2026-01-21T00:49:25.4126356Z === RUN   TestConfigureAuth/jwt_without_token
2026-01-21T00:49:25.4126647Z === RUN   TestConfigureAuth/basic_auth_with_credentials
2026-01-21T00:49:25.4126952Z === RUN   TestConfigureAuth/basic_auth_without_username
2026-01-21T00:49:25.4127249Z === RUN   TestConfigureAuth/basic_auth_without_password
2026-01-21T00:49:25.4127709Z === RUN   TestConfigureAuth/apikey_with_key
2026-01-21T00:49:25.4127997Z === RUN   TestConfigureAuth/unsupported_auth_type
2026-01-21T00:49:25.4128267Z --- PASS: TestConfigureAuth (0.00s)
2026-01-21T00:49:25.4128571Z     --- PASS: TestConfigureAuth/none_auth (0.00s)
2026-01-21T00:49:25.4128904Z     --- PASS: TestConfigureAuth/jwt_with_token (0.00s)
2026-01-21T00:49:25.4129265Z     --- PASS: TestConfigureAuth/jwt_without_token (0.00s)
2026-01-21T00:49:25.4129847Z     --- PASS: TestConfigureAuth/basic_auth_with_credentials (0.00s)
2026-01-21T00:49:25.4130278Z     --- PASS: TestConfigureAuth/basic_auth_without_username (0.00s)
2026-01-21T00:49:25.4130911Z     --- PASS: TestConfigureAuth/basic_auth_without_password (0.00s)
2026-01-21T00:49:25.4131287Z     --- PASS: TestConfigureAuth/apikey_with_key (0.00s)
2026-01-21T00:49:25.4131656Z     --- PASS: TestConfigureAuth/unsupported_auth_type (0.00s)
2026-01-21T00:49:25.4131946Z === RUN   TestReadSecretFile
2026-01-21T00:49:25.4132177Z === RUN   TestReadSecretFile/valid_secret_file
2026-01-21T00:49:25.4133060Z time="2026-01-21T00:49:12Z" level=warning msg="test secret file C:\\Users\\RUNNER~1\\AppData\\Local\\Temp\\auth-test941029986\\token.txt has permissions -rw-rw-rw-, consider restricting to 600"
2026-01-21T00:49:25.4133817Z === RUN   TestReadSecretFile/secret_with_newlines
2026-01-21T00:49:25.4134606Z time="2026-01-21T00:49:12Z" level=warning msg="test secret file C:\\Users\\RUNNER~1\\AppData\\Local\\Temp\\auth-test941029986\\token-newline.txt has permissions -rw-rw-rw-, consider restricting to 600"
2026-01-21T00:49:25.4135499Z === RUN   TestReadSecretFile/empty_file
2026-01-21T00:49:25.4136306Z time="2026-01-21T00:49:12Z" level=warning msg="test secret file C:\\Users\\RUNNER~1\\AppData\\Local\\Temp\\auth-test941029986\\empty.txt has permissions -rw-rw-rw-, consider restricting to 600"
2026-01-21T00:49:25.4137053Z === RUN   TestReadSecretFile/file_with_spaces_only
2026-01-21T00:49:25.4137959Z time="2026-01-21T00:49:12Z" level=warning msg="test secret file C:\\Users\\RUNNER~1\\AppData\\Local\\Temp\\auth-test941029986\\spaces.txt has permissions -rw-rw-rw-, consider restricting to 600"
2026-01-21T00:49:25.4138725Z === RUN   TestReadSecretFile/overly_permissive_file
2026-01-21T00:49:25.4139509Z time="2026-01-21T00:49:12Z" level=warning msg="test secret file C:\\Users\\RUNNER~1\\AppData\\Local\\Temp\\auth-test941029986\\permissive.txt has permissions -rw-rw-rw-, consider restricting to 600"
2026-01-21T00:49:25.4140260Z === RUN   TestReadSecretFile/non-existent_file
2026-01-21T00:49:25.4140740Z --- PASS: TestReadSecretFile (0.04s)
2026-01-21T00:49:25.4141139Z     --- PASS: TestReadSecretFile/valid_secret_file (0.03s)
2026-01-21T00:49:25.4141687Z     --- PASS: TestReadSecretFile/secret_with_newlines (0.00s)
2026-01-21T00:49:25.4142039Z     --- PASS: TestReadSecretFile/empty_file (0.00s)
2026-01-21T00:49:25.4142410Z     --- PASS: TestReadSecretFile/file_with_spaces_only (0.00s)
2026-01-21T00:49:25.4142811Z     --- PASS: TestReadSecretFile/overly_permissive_file (0.00s)
2026-01-21T00:49:25.4143191Z     --- PASS: TestReadSecretFile/non-existent_file (0.00s)
2026-01-21T00:49:25.4143482Z === RUN   TestConfigureAuthWithFiles
2026-01-21T00:49:25.4143774Z === RUN   TestConfigureAuthWithFiles/jwt_with_token_file
2026-01-21T00:49:25.4144567Z time="2026-01-21T00:49:12Z" level=warning msg="JWT token file C:\\Users\\RUNNER~1\\AppData\\Local\\Temp\\auth-file-test413784920\\jwt-token has permissions -rw-rw-rw-, consider restricting to 600"
2026-01-21T00:49:25.4145394Z === RUN   TestConfigureAuthWithFiles/basic_auth_with_password_file
2026-01-21T00:49:25.4146243Z time="2026-01-21T00:49:12Z" level=warning msg="password file C:\\Users\\RUNNER~1\\AppData\\Local\\Temp\\auth-file-test413784920\\password has permissions -rw-rw-rw-, consider restricting to 600"
2026-01-21T00:49:25.4147359Z === RUN   TestConfigureAuthWithFiles/apikey_with_key_file
2026-01-21T00:49:25.4148152Z time="2026-01-21T00:49:12Z" level=warning msg="API key file C:\\Users\\RUNNER~1\\AppData\\Local\\Temp\\auth-file-test413784920\\api-key has permissions -rw-rw-rw-, consider restricting to 600"
2026-01-21T00:49:25.4148896Z --- PASS: TestConfigureAuthWithFiles (0.00s)
2026-01-21T00:49:25.4149296Z     --- PASS: TestConfigureAuthWithFiles/jwt_with_token_file (0.00s)
2026-01-21T00:49:25.4149795Z     --- PASS: TestConfigureAuthWithFiles/basic_auth_with_password_file (0.00s)
2026-01-21T00:49:25.4150286Z     --- PASS: TestConfigureAuthWithFiles/apikey_with_key_file (0.00s)
2026-01-21T00:49:25.4150620Z === RUN   TestServiceAccountAuth
2026-01-21T00:49:25.4150876Z === RUN   TestServiceAccountAuth/custom_token_path
2026-01-21T00:49:25.4151670Z time="2026-01-21T00:49:12Z" level=warning msg="service account token file C:\\Users\\RUNNER~1\\AppData\\Local\\Temp\\sa-test4268404690\\token has permissions -rw-rw-rw-, consider restricting to 600"
2026-01-21T00:49:25.4153073Z time="2026-01-21T00:49:12Z" level=warning msg="service account token file C:\\Users\\RUNNER~1\\AppData\\Local\\Temp\\sa-test4268404690\\token has permissions -rw-rw-rw-, consider restricting to 600"
2026-01-21T00:49:25.4153853Z === RUN   TestServiceAccountAuth/default_token_path
2026-01-21T00:49:25.4154147Z --- PASS: TestServiceAccountAuth (0.00s)
2026-01-21T00:49:25.4154607Z     --- PASS: TestServiceAccountAuth/custom_token_path (0.00s)
2026-01-21T00:49:25.4155035Z     --- PASS: TestServiceAccountAuth/default_token_path (0.00s)
2026-01-21T00:49:25.4155309Z PASS
2026-01-21T00:49:25.4155468Z coverage: 87.5% of statements
2026-01-21T00:49:25.4155847Z ok  	github.com/jontk/slurm-exporter/internal/slurm/auth	0.074s	coverage: 87.5% of statements
2026-01-21T00:49:25.4156414Z 	github.com/jontk/slurm-exporter/internal/testutil		coverage: 0.0% of statements
2026-01-21T00:49:25.4156967Z 	github.com/jontk/slurm-exporter/internal/testutil/fixtures		coverage: 0.0% of statements
2026-01-21T00:49:25.4157529Z 	github.com/jontk/slurm-exporter/internal/testutil/mocks		coverage: 0.0% of statements
2026-01-21T00:49:25.4157941Z === RUN   TestNewCollectionTracer_Disabled
2026-01-21T00:49:25.4158222Z --- PASS: TestNewCollectionTracer_Disabled (0.00s)
2026-01-21T00:49:25.4158707Z === RUN   TestNewCollectionTracer_Enabled
2026-01-21T00:49:25.4158998Z --- PASS: TestNewCollectionTracer_Enabled (0.00s)
2026-01-21T00:49:25.4159319Z === RUN   TestCollectionTracer_TraceCollection_Disabled
2026-01-21T00:49:25.4159676Z --- PASS: TestCollectionTracer_TraceCollection_Disabled (0.00s)
2026-01-21T00:49:25.4160029Z === RUN   TestCollectionTracer_TraceCollection_Enabled
2026-01-21T00:49:25.4160751Z 2026/01/21 00:49:20 traces export: parse "http://http:%2F%2Flocalhost:4317/v1/traces": invalid URL escape "%2F"
2026-01-21T00:49:25.4161299Z --- PASS: TestCollectionTracer_TraceCollection_Enabled (0.05s)
2026-01-21T00:49:25.4161661Z === RUN   TestCollectionTracer_TraceAPICall_Disabled
2026-01-21T00:49:25.4162006Z --- PASS: TestCollectionTracer_TraceAPICall_Disabled (0.00s)
2026-01-21T00:49:25.4162337Z === RUN   TestCollectionTracer_TraceAPICall_Enabled
2026-01-21T00:49:25.4162980Z 2026/01/21 00:49:20 traces export: parse "http://http:%2F%2Flocalhost:4317/v1/traces": invalid URL escape "%2F"
2026-01-21T00:49:25.4163498Z --- PASS: TestCollectionTracer_TraceAPICall_Enabled (0.00s)
2026-01-21T00:49:25.4163847Z === RUN   TestCollectionTracer_TraceMetricGeneration
2026-01-21T00:49:25.4164548Z 2026/01/21 00:49:20 traces export: parse "http://http:%2F%2Flocalhost:4317/v1/traces": invalid URL escape "%2F"
2026-01-21T00:49:25.4165072Z --- PASS: TestCollectionTracer_TraceMetricGeneration (0.00s)
2026-01-21T00:49:25.4165412Z === RUN   TestCollectionTracer_EnableDetailedTrace
2026-01-21T00:49:25.4166647Z --- PASS: TestCollectionTracer_EnableDetailedTrace (0.15s)
2026-01-21T00:49:25.4167014Z === RUN   TestCollectionTracer_EnableDetailedTrace_Disabled
2026-01-21T00:49:25.4167395Z --- PASS: TestCollectionTracer_EnableDetailedTrace_Disabled (0.00s)
2026-01-21T00:49:25.4167761Z === RUN   TestCollectionTracer_AddSpanAttribute
2026-01-21T00:49:25.4168234Z 2026/01/21 00:49:20 traces export: parse "http://http:%2F%2Flocalhost:4317/v1/traces": invalid URL escape "%2F"
2026-01-21T00:49:25.4168741Z --- PASS: TestCollectionTracer_AddSpanAttribute (0.00s)
2026-01-21T00:49:25.4169089Z === RUN   TestCollectionTracer_AddSpanAttribute_Disabled
2026-01-21T00:49:25.4169453Z --- PASS: TestCollectionTracer_AddSpanAttribute_Disabled (0.00s)
2026-01-21T00:49:25.4169788Z === RUN   TestCollectionTracer_RecordError
2026-01-21T00:49:25.4170232Z 2026/01/21 00:49:20 traces export: parse "http://http:%2F%2Flocalhost:4317/v1/traces": invalid URL escape "%2F"
2026-01-21T00:49:25.4170959Z --- PASS: TestCollectionTracer_RecordError (0.00s)
2026-01-21T00:49:25.4171270Z === RUN   TestCollectionTracer_GetTraceAndSpanID
2026-01-21T00:49:25.4171746Z 2026/01/21 00:49:20 traces export: parse "http://http:%2F%2Flocalhost:4317/v1/traces": invalid URL escape "%2F"
2026-01-21T00:49:25.4172247Z --- PASS: TestCollectionTracer_GetTraceAndSpanID (0.00s)
2026-01-21T00:49:25.4172591Z === RUN   TestCollectionTracer_GetTraceAndSpanID_Disabled
2026-01-21T00:49:25.4172969Z --- PASS: TestCollectionTracer_GetTraceAndSpanID_Disabled (0.00s)
2026-01-21T00:49:25.4173317Z === RUN   TestCollectionTracer_CreateChildSpan
2026-01-21T00:49:25.4173902Z 2026/01/21 00:49:20 traces export: parse "http://http:%2F%2Flocalhost:4317/v1/traces": invalid URL escape "%2F"
2026-01-21T00:49:25.4174400Z --- PASS: TestCollectionTracer_CreateChildSpan (0.00s)
2026-01-21T00:49:25.4174694Z === RUN   TestCollectionTracer_GetStats
2026-01-21T00:49:25.4174969Z --- PASS: TestCollectionTracer_GetStats (0.00s)
2026-01-21T00:49:25.4175237Z === RUN   TestCollectionTracer_GetConfig
2026-01-21T00:49:25.4175518Z --- PASS: TestCollectionTracer_GetConfig (0.00s)
2026-01-21T00:49:25.4175752Z PASS
2026-01-21T00:49:25.4175910Z coverage: 57.4% of statements
2026-01-21T00:49:25.4176393Z ok  	github.com/jontk/slurm-exporter/internal/tracing	0.273s	coverage: 57.4% of statements
2026-01-21T00:49:25.4176879Z === RUN   TestGet
2026-01-21T00:49:25.4177053Z --- PASS: TestGet (0.00s)
2026-01-21T00:49:25.4177240Z === RUN   TestString
2026-01-21T00:49:25.4177420Z --- PASS: TestString (0.00s)
2026-01-21T00:49:25.4177607Z === RUN   TestShort
2026-01-21T00:49:25.4177785Z === RUN   TestShort/dev_version
2026-01-21T00:49:25.4177991Z === RUN   TestShort/release_version
2026-01-21T00:49:25.4178220Z === RUN   TestShort/prerelease_version
2026-01-21T00:49:25.4178444Z --- PASS: TestShort (0.00s)
2026-01-21T00:49:25.4178693Z     --- PASS: TestShort/dev_version (0.00s)
2026-01-21T00:49:25.4178982Z     --- PASS: TestShort/release_version (0.00s)
2026-01-21T00:49:25.4179300Z     --- PASS: TestShort/prerelease_version (0.00s)
2026-01-21T00:49:25.4179564Z === RUN   TestInfoStructure
2026-01-21T00:49:25.4179765Z --- PASS: TestInfoStructure (0.00s)
2026-01-21T00:49:25.4179968Z PASS
2026-01-21T00:49:25.4180113Z coverage: 100.0% of statements
2026-01-21T00:49:25.4180468Z ok  	github.com/jontk/slurm-exporter/pkg/version	0.029s	coverage: 100.0% of statements
2026-01-21T00:49:25.4180852Z testing: warning: no tests to run
2026-01-21T00:49:25.4181048Z PASS
2026-01-21T00:49:25.4181188Z coverage: [no statements]
2026-01-21T00:49:25.4181601Z ok  	github.com/jontk/slurm-exporter/test/benchmark	0.051s	coverage: [no statements] [no tests to run]
2026-01-21T00:49:25.4182172Z === RUN   TestRockyClusterIntegration
2026-01-21T00:49:25.4183551Z     rocky_cluster_test.go:54: Skipping integration test - exporter not running at http://localhost:9341: Get "http://localhost:9341/ready": dial tcp [::1]:9341: connectex: No connection could be made because the target machine actively refused it.
2026-01-21T00:49:25.4184643Z --- SKIP: TestRockyClusterIntegration (0.01s)
2026-01-21T00:49:25.4184878Z PASS
2026-01-21T00:49:25.4185028Z coverage: [no statements]
2026-01-21T00:49:25.4185378Z ok  	github.com/jontk/slurm-exporter/test/integration	0.044s	coverage: [no statements]
2026-01-21T00:49:25.4185971Z === RUN   TestSecurityTestSuite
2026-01-21T00:49:25.4186249Z === RUN   TestSecurityTestSuite/TestAuthenticationBypass
2026-01-21T00:49:25.4186623Z === RUN   TestSecurityTestSuite/TestAuthenticationBypass/no_auth
2026-01-21T00:49:25.4187042Z === RUN   TestSecurityTestSuite/TestAuthenticationBypass/invalid_token
2026-01-21T00:49:25.4187502Z === RUN   TestSecurityTestSuite/TestAuthenticationBypass/sql_injection_token
2026-01-21T00:49:25.4188193Z === RUN   TestSecurityTestSuite/TestAuthenticationBypass/path_traversal_token
2026-01-21T00:49:25.4188715Z === RUN   TestSecurityTestSuite/TestAuthenticationBypass/script_injection_token
2026-01-21T00:49:25.4189205Z === RUN   TestSecurityTestSuite/TestAuthenticationBypass/null_byte_injection
2026-01-21T00:49:25.4189921Z     security_test.go:145: Null bytes in HTTP headers are rejected by Go's HTTP client - this is correct security behavior
2026-01-21T00:49:25.4190442Z === RUN   TestSecurityTestSuite/TestCSRFProtection
2026-01-21T00:49:25.4190924Z === RUN   TestSecurityTestSuite/TestCSRFProtection/csrf_POST__debug_profiling_collector_jobs_enable
2026-01-21T00:49:25.4191580Z === RUN   TestSecurityTestSuite/TestCSRFProtection/csrf_POST__debug_profiling_collector_jobs_disable
2026-01-21T00:49:25.4192268Z === RUN   TestSecurityTestSuite/TestCSRFProtection/csrf_PUT__debug_config_reload
2026-01-21T00:49:25.4192784Z === RUN   TestSecurityTestSuite/TestCSRFProtection/csrf_DELETE__debug_cache_clear
2026-01-21T00:49:25.4193202Z === RUN   TestSecurityTestSuite/TestHTTPMethodSecurity
2026-01-21T00:49:25.4193707Z === RUN   TestSecurityTestSuite/TestHTTPMethodSecurity/method_GET
2026-01-21T00:49:25.4194164Z === RUN   TestSecurityTestSuite/TestHTTPMethodSecurity/method_POST
2026-01-21T00:49:25.4194575Z === RUN   TestSecurityTestSuite/TestHTTPMethodSecurity/method_PUT
2026-01-21T00:49:25.4194983Z === RUN   TestSecurityTestSuite/TestHTTPMethodSecurity/method_DELETE
2026-01-21T00:49:25.4195394Z === RUN   TestSecurityTestSuite/TestHTTPMethodSecurity/method_PATCH
2026-01-21T00:49:25.4195799Z === RUN   TestSecurityTestSuite/TestHTTPMethodSecurity/method_HEAD
2026-01-21T00:49:25.4196208Z === RUN   TestSecurityTestSuite/TestHTTPMethodSecurity/method_OPTIONS
2026-01-21T00:49:25.4196622Z === RUN   TestSecurityTestSuite/TestHTTPMethodSecurity/method_TRACE
2026-01-21T00:49:25.4196981Z === RUN   TestSecurityTestSuite/TestHTTPSRedirect
2026-01-21T00:49:25.4197410Z     security_test.go:74: HTTPS redirect testing requires TLS server setup
2026-01-21T00:49:25.4197804Z === RUN   TestSecurityTestSuite/TestInformationDisclosure
2026-01-21T00:49:25.4198132Z === RUN   TestSecurityTestSuite/TestInputValidation
2026-01-21T00:49:25.4198493Z === RUN   TestSecurityTestSuite/TestInputValidation/oversized_input
2026-01-21T00:49:25.4198888Z === RUN   TestSecurityTestSuite/TestInputValidation/null_bytes
2026-01-21T00:49:25.4199753Z     security_test.go:342: Null bytes and control characters are rejected by Go's URL parser - this is correct security behavior
2026-01-21T00:49:25.4200368Z === RUN   TestSecurityTestSuite/TestInputValidation/control_characters
2026-01-21T00:49:25.4201074Z     security_test.go:342: Null bytes and control characters are rejected by Go's URL parser - this is correct security behavior
2026-01-21T00:49:25.4201673Z === RUN   TestSecurityTestSuite/TestInputValidation/unicode_exploit
2026-01-21T00:49:25.4202071Z === RUN   TestSecurityTestSuite/TestInputValidation/format_string
2026-01-21T00:49:25.4202470Z === RUN   TestSecurityTestSuite/TestInputValidation/ldap_injection
2026-01-21T00:49:25.4202893Z === RUN   TestSecurityTestSuite/TestInputValidation/xml_injection
2026-01-21T00:49:25.4203424Z === RUN   TestSecurityTestSuite/TestInputValidation/json_injection
2026-01-21T00:49:25.4203924Z === RUN   TestSecurityTestSuite/TestPathTraversalAttacks
2026-01-21T00:49:25.4204316Z === RUN   TestSecurityTestSuite/TestPathTraversalAttacks/basic_traversal
2026-01-21T00:49:25.4204771Z === RUN   TestSecurityTestSuite/TestPathTraversalAttacks/encoded_traversal
2026-01-21T00:49:25.4205412Z === RUN   TestSecurityTestSuite/TestPathTraversalAttacks/double_encoded
2026-01-21T00:49:25.4205868Z === RUN   TestSecurityTestSuite/TestPathTraversalAttacks/unicode_traversal
2026-01-21T00:49:25.4206294Z === RUN   TestSecurityTestSuite/TestPathTraversalAttacks/long_path
2026-01-21T00:49:25.4206707Z === RUN   TestSecurityTestSuite/TestPathTraversalAttacks/null_byte
2026-01-21T00:49:25.4207322Z     security_test.go:174: Null bytes in URLs are rejected by Go's URL parser - this is correct security behavior
2026-01-21T00:49:25.4207799Z === RUN   TestSecurityTestSuite/TestRateLimiting
2026-01-21T00:49:25.4208179Z === RUN   TestSecurityTestSuite/TestRateLimiting/rate_limit__debug_profiling
2026-01-21T00:49:25.4208649Z === RUN   TestSecurityTestSuite/TestRateLimiting/rate_limit__debug_collectors
2026-01-21T00:49:25.4209107Z === RUN   TestSecurityTestSuite/TestRateLimiting/rate_limit__debug_cache
2026-01-21T00:49:25.4209469Z === RUN   TestSecurityTestSuite/TestSQLInjection
2026-01-21T00:49:25.4209799Z === RUN   TestSecurityTestSuite/TestSQLInjection/sql_injection_0
2026-01-21T00:49:25.4210183Z === RUN   TestSecurityTestSuite/TestSQLInjection/sql_injection_1
2026-01-21T00:49:25.4210556Z === RUN   TestSecurityTestSuite/TestSQLInjection/sql_injection_2
2026-01-21T00:49:25.4211401Z === RUN   TestSecurityTestSuite/TestSQLInjection/sql_injection_3
2026-01-21T00:49:25.4211796Z === RUN   TestSecurityTestSuite/TestSQLInjection/sql_injection_4
2026-01-21T00:49:25.4212175Z === RUN   TestSecurityTestSuite/TestSQLInjection/sql_injection_5
2026-01-21T00:49:25.4212553Z === RUN   TestSecurityTestSuite/TestSQLInjection/sql_injection_6
2026-01-21T00:49:25.4212924Z === RUN   TestSecurityTestSuite/TestSQLInjection/sql_injection_7
2026-01-21T00:49:25.4213304Z === RUN   TestSecurityTestSuite/TestSQLInjection/sql_injection_8
2026-01-21T00:49:25.4213639Z === RUN   TestSecurityTestSuite/TestSecurityHeaders
2026-01-21T00:49:25.4213947Z === RUN   TestSecurityTestSuite/TestTimeoutAttacks
2026-01-21T00:49:25.4214277Z === RUN   TestSecurityTestSuite/TestTimeoutAttacks/slow_loris
2026-01-21T00:49:25.4214616Z === RUN   TestSecurityTestSuite/TestXSSPrevention
2026-01-21T00:49:25.4214941Z === RUN   TestSecurityTestSuite/TestXSSPrevention/url_param_0
2026-01-21T00:49:25.4215306Z === RUN   TestSecurityTestSuite/TestXSSPrevention/url_param_1
2026-01-21T00:49:25.4215662Z === RUN   TestSecurityTestSuite/TestXSSPrevention/url_param_2
2026-01-21T00:49:25.4216012Z === RUN   TestSecurityTestSuite/TestXSSPrevention/url_param_3
2026-01-21T00:49:25.4216378Z === RUN   TestSecurityTestSuite/TestXSSPrevention/url_param_4
2026-01-21T00:49:25.4216914Z === RUN   TestSecurityTestSuite/TestXSSPrevention/url_param_5
2026-01-21T00:49:25.4217274Z === RUN   TestSecurityTestSuite/TestXSSPrevention/url_param_6
2026-01-21T00:49:25.4217632Z === RUN   TestSecurityTestSuite/TestXSSPrevention/url_param_7
2026-01-21T00:49:25.4217937Z --- PASS: TestSecurityTestSuite (0.19s)
2026-01-21T00:49:25.4218323Z     --- PASS: TestSecurityTestSuite/TestAuthenticationBypass (0.01s)
2026-01-21T00:49:25.4218871Z         --- PASS: TestSecurityTestSuite/TestAuthenticationBypass/no_auth (0.00s)
2026-01-21T00:49:25.4219488Z         --- PASS: TestSecurityTestSuite/TestAuthenticationBypass/invalid_token (0.00s)
2026-01-21T00:49:25.4220155Z         --- PASS: TestSecurityTestSuite/TestAuthenticationBypass/sql_injection_token (0.00s)
2026-01-21T00:49:25.4220847Z         --- PASS: TestSecurityTestSuite/TestAuthenticationBypass/path_traversal_token (0.00s)
2026-01-21T00:49:25.4221548Z         --- PASS: TestSecurityTestSuite/TestAuthenticationBypass/script_injection_token (0.00s)
2026-01-21T00:49:25.4222366Z         --- SKIP: TestSecurityTestSuite/TestAuthenticationBypass/null_byte_injection (0.00s)
2026-01-21T00:49:25.4223117Z     --- PASS: TestSecurityTestSuite/TestCSRFProtection (0.00s)
2026-01-21T00:49:25.4223930Z         --- PASS: TestSecurityTestSuite/TestCSRFProtection/csrf_POST__debug_profiling_collector_jobs_enable (0.00s)
2026-01-21T00:49:25.4224833Z         --- PASS: TestSecurityTestSuite/TestCSRFProtection/csrf_POST__debug_profiling_collector_jobs_disable (0.00s)
2026-01-21T00:49:25.4225620Z         --- PASS: TestSecurityTestSuite/TestCSRFProtection/csrf_PUT__debug_config_reload (0.00s)
2026-01-21T00:49:25.4226342Z         --- PASS: TestSecurityTestSuite/TestCSRFProtection/csrf_DELETE__debug_cache_clear (0.00s)
2026-01-21T00:49:25.4226887Z     --- PASS: TestSecurityTestSuite/TestHTTPMethodSecurity (0.00s)
2026-01-21T00:49:25.4227425Z         --- PASS: TestSecurityTestSuite/TestHTTPMethodSecurity/method_GET (0.00s)
2026-01-21T00:49:25.4228188Z         --- PASS: TestSecurityTestSuite/TestHTTPMethodSecurity/method_POST (0.00s)
2026-01-21T00:49:25.4228784Z         --- PASS: TestSecurityTestSuite/TestHTTPMethodSecurity/method_PUT (0.00s)
2026-01-21T00:49:25.4229388Z         --- PASS: TestSecurityTestSuite/TestHTTPMethodSecurity/method_DELETE (0.00s)
2026-01-21T00:49:25.4229992Z         --- PASS: TestSecurityTestSuite/TestHTTPMethodSecurity/method_PATCH (0.00s)
2026-01-21T00:49:25.4230577Z         --- PASS: TestSecurityTestSuite/TestHTTPMethodSecurity/method_HEAD (0.00s)
2026-01-21T00:49:25.4231363Z         --- PASS: TestSecurityTestSuite/TestHTTPMethodSecurity/method_OPTIONS (0.00s)
2026-01-21T00:49:25.4232706Z         --- PASS: TestSecurityTestSuite/TestHTTPMethodSecurity/method_TRACE (0.00s)
2026-01-21T00:49:25.4233236Z     --- SKIP: TestSecurityTestSuite/TestHTTPSRedirect (0.00s)
2026-01-21T00:49:25.4233778Z     --- PASS: TestSecurityTestSuite/TestInformationDisclosure (0.00s)
2026-01-21T00:49:25.4234377Z     --- PASS: TestSecurityTestSuite/TestInputValidation (0.00s)
2026-01-21T00:49:25.4234918Z         --- PASS: TestSecurityTestSuite/TestInputValidation/oversized_input (0.00s)
2026-01-21T00:49:25.4235497Z         --- SKIP: TestSecurityTestSuite/TestInputValidation/null_bytes (0.00s)
2026-01-21T00:49:25.4236093Z         --- SKIP: TestSecurityTestSuite/TestInputValidation/control_characters (0.00s)
2026-01-21T00:49:25.4236698Z         --- PASS: TestSecurityTestSuite/TestInputValidation/unicode_exploit (0.00s)
2026-01-21T00:49:25.4237313Z         --- PASS: TestSecurityTestSuite/TestInputValidation/format_string (0.00s)
2026-01-21T00:49:25.4237909Z         --- PASS: TestSecurityTestSuite/TestInputValidation/ldap_injection (0.00s)
2026-01-21T00:49:25.4238498Z         --- PASS: TestSecurityTestSuite/TestInputValidation/xml_injection (0.00s)
2026-01-21T00:49:25.4239091Z         --- PASS: TestSecurityTestSuite/TestInputValidation/json_injection (0.00s)
2026-01-21T00:49:25.4239753Z     --- PASS: TestSecurityTestSuite/TestPathTraversalAttacks (0.00s)
2026-01-21T00:49:25.4240362Z         --- PASS: TestSecurityTestSuite/TestPathTraversalAttacks/basic_traversal (0.00s)
2026-01-21T00:49:25.4241034Z         --- PASS: TestSecurityTestSuite/TestPathTraversalAttacks/encoded_traversal (0.00s)
2026-01-21T00:49:25.4241722Z         --- PASS: TestSecurityTestSuite/TestPathTraversalAttacks/double_encoded (0.00s)
2026-01-21T00:49:25.4242376Z         --- PASS: TestSecurityTestSuite/TestPathTraversalAttacks/unicode_traversal (0.00s)
2026-01-21T00:49:25.4242994Z         --- PASS: TestSecurityTestSuite/TestPathTraversalAttacks/long_path (0.00s)
2026-01-21T00:49:25.4243764Z         --- SKIP: TestSecurityTestSuite/TestPathTraversalAttacks/null_byte (0.00s)
2026-01-21T00:49:25.4244240Z     --- PASS: TestSecurityTestSuite/TestRateLimiting (0.16s)
2026-01-21T00:49:25.4244821Z         --- PASS: TestSecurityTestSuite/TestRateLimiting/rate_limit__debug_profiling (0.05s)
2026-01-21T00:49:25.4245695Z         --- PASS: TestSecurityTestSuite/TestRateLimiting/rate_limit__debug_collectors (0.05s)
2026-01-21T00:49:25.4246365Z         --- PASS: TestSecurityTestSuite/TestRateLimiting/rate_limit__debug_cache (0.05s)
2026-01-21T00:49:25.4246995Z     --- PASS: TestSecurityTestSuite/TestSQLInjection (0.01s)
2026-01-21T00:49:25.4247510Z         --- PASS: TestSecurityTestSuite/TestSQLInjection/sql_injection_0 (0.00s)
2026-01-21T00:49:25.4248085Z         --- PASS: TestSecurityTestSuite/TestSQLInjection/sql_injection_1 (0.00s)
2026-01-21T00:49:25.4248648Z         --- PASS: TestSecurityTestSuite/TestSQLInjection/sql_injection_2 (0.00s)
2026-01-21T00:49:25.4249207Z         --- PASS: TestSecurityTestSuite/TestSQLInjection/sql_injection_3 (0.00s)
2026-01-21T00:49:25.4249770Z         --- PASS: TestSecurityTestSuite/TestSQLInjection/sql_injection_4 (0.00s)
2026-01-21T00:49:25.4250327Z         --- PASS: TestSecurityTestSuite/TestSQLInjection/sql_injection_5 (0.00s)
2026-01-21T00:49:25.4250902Z         --- PASS: TestSecurityTestSuite/TestSQLInjection/sql_injection_6 (0.00s)
2026-01-21T00:49:25.4251818Z         --- PASS: TestSecurityTestSuite/TestSQLInjection/sql_injection_7 (0.00s)
2026-01-21T00:49:25.4252398Z         --- PASS: TestSecurityTestSuite/TestSQLInjection/sql_injection_8 (0.00s)
2026-01-21T00:49:25.4252868Z     --- PASS: TestSecurityTestSuite/TestSecurityHeaders (0.00s)
2026-01-21T00:49:25.4253283Z     --- PASS: TestSecurityTestSuite/TestTimeoutAttacks (0.00s)
2026-01-21T00:49:25.4253791Z         --- PASS: TestSecurityTestSuite/TestTimeoutAttacks/slow_loris (0.00s)
2026-01-21T00:49:25.4254240Z     --- PASS: TestSecurityTestSuite/TestXSSPrevention (0.00s)
2026-01-21T00:49:25.4254739Z         --- PASS: TestSecurityTestSuite/TestXSSPrevention/url_param_0 (0.00s)
2026-01-21T00:49:25.4255385Z         --- PASS: TestSecurityTestSuite/TestXSSPrevention/url_param_1 (0.00s)
2026-01-21T00:49:25.4255928Z         --- PASS: TestSecurityTestSuite/TestXSSPrevention/url_param_2 (0.00s)
2026-01-21T00:49:25.4256466Z         --- PASS: TestSecurityTestSuite/TestXSSPrevention/url_param_3 (0.00s)
2026-01-21T00:49:25.4257204Z         --- PASS: TestSecurityTestSuite/TestXSSPrevention/url_param_4 (0.00s)
2026-01-21T00:49:25.4257761Z         --- PASS: TestSecurityTestSuite/TestXSSPrevention/url_param_5 (0.00s)
2026-01-21T00:49:25.4258294Z         --- PASS: TestSecurityTestSuite/TestXSSPrevention/url_param_6 (0.00s)
2026-01-21T00:49:25.4258832Z         --- PASS: TestSecurityTestSuite/TestXSSPrevention/url_param_7 (0.00s)
2026-01-21T00:49:25.4259156Z PASS
2026-01-21T00:49:25.4259310Z coverage: [no statements]
2026-01-21T00:49:25.4259662Z ok  	github.com/jontk/slurm-exporter/test/security	0.236s	coverage: [no statements]
2026-01-21T00:49:25.4260013Z FAIL
2026-01-21T00:49:26.4314953Z ##[error]Process completed with exit code 1.
2026-01-21T00:49:26.4595130Z Post job cleanup.
2026-01-21T00:49:26.6892610Z [command]"C:\Program Files\Git\bin\git.exe" version
2026-01-21T00:49:26.7178162Z git version 2.52.0.windows.1
2026-01-21T00:49:26.7253852Z Temporarily overriding HOME='D:\a\_temp\5adaae20-a066-4901-94f9-7ad317de62bb' before making global git config changes
2026-01-21T00:49:26.7254898Z Adding repository directory to the temporary git global config as a safe directory
2026-01-21T00:49:26.7265784Z [command]"C:\Program Files\Git\bin\git.exe" config --global --add safe.directory D:\a\slurm-exporter\slurm-exporter
2026-01-21T00:49:26.7625392Z [command]"C:\Program Files\Git\bin\git.exe" config --local --name-only --get-regexp core\.sshCommand
2026-01-21T00:49:26.7999089Z [command]"C:\Program Files\Git\bin\git.exe" submodule foreach --recursive "sh -c \"git config --local --name-only --get-regexp 'core\.sshCommand' && git config --local --unset-all 'core.sshCommand' || :\""
2026-01-21T00:49:27.3890045Z [command]"C:\Program Files\Git\bin\git.exe" config --local --name-only --get-regexp http\.https\:\/\/github\.com\/\.extraheader
2026-01-21T00:49:27.4158113Z http.https://github.com/.extraheader
2026-01-21T00:49:27.4203248Z [command]"C:\Program Files\Git\bin\git.exe" config --local --unset-all http.https://github.com/.extraheader
2026-01-21T00:49:27.4518847Z [command]"C:\Program Files\Git\bin\git.exe" submodule foreach --recursive "sh -c \"git config --local --name-only --get-regexp 'http\.https\:\/\/github\.com\/\.extraheader' && git config --local --unset-all 'http.https://github.com/.extraheader' || :\""
2026-01-21T00:49:28.0015878Z [command]"C:\Program Files\Git\bin\git.exe" config --local --name-only --get-regexp ^includeIf\.gitdir:
2026-01-21T00:49:28.0385960Z [command]"C:\Program Files\Git\bin\git.exe" submodule foreach --recursive "git config --local --show-origin --name-only --get-regexp remote.origin.url"
2026-01-21T00:49:28.5843485Z Cleaning up orphan processes
