2026-01-21T00:38:50.9158060Z Current runner version: '2.331.0'
2026-01-21T00:38:50.9186560Z ##[group]Runner Image Provisioner
2026-01-21T00:38:50.9187630Z Hosted Compute Agent
2026-01-21T00:38:50.9188570Z Version: 20260115.477
2026-01-21T00:38:50.9189210Z Commit: 4b342d620503cbe250a3154040964899ea7c9b00
2026-01-21T00:38:50.9189790Z Build Date: 2026-01-15T22:32:41Z
2026-01-21T00:38:50.9190640Z Worker ID: {ebbbba16-9e25-43f8-8bcb-b6189cdfb665}
2026-01-21T00:38:50.9191230Z Azure Region: westus
2026-01-21T00:38:50.9192260Z ##[endgroup]
2026-01-21T00:38:50.9200100Z ##[group]Operating System
2026-01-21T00:38:50.9201260Z macOS
2026-01-21T00:38:50.9201620Z 15.7.3
2026-01-21T00:38:50.9201960Z 24G419
2026-01-21T00:38:50.9203120Z ##[endgroup]
2026-01-21T00:38:50.9203500Z ##[group]Runner Image
2026-01-21T00:38:50.9203840Z Image: macos-15-arm64
2026-01-21T00:38:50.9204200Z Version: 20260112.0107.1
2026-01-21T00:38:50.9205280Z Included Software: https://github.com/actions/runner-images/blob/macos-15-arm64/20260112.0107/images/macos/macos-15-arm64-Readme.md
2026-01-21T00:38:50.9206470Z Image Release: https://github.com/actions/runner-images/releases/tag/macos-15-arm64%2F20260112.0107
2026-01-21T00:38:50.9207490Z ##[endgroup]
2026-01-21T00:38:50.9208720Z ##[group]GITHUB_TOKEN Permissions
2026-01-21T00:38:50.9211080Z Checks: write
2026-01-21T00:38:50.9211410Z Contents: read
2026-01-21T00:38:50.9211820Z Metadata: read
2026-01-21T00:38:50.9212200Z PullRequests: write
2026-01-21T00:38:50.9212540Z ##[endgroup]
2026-01-21T00:38:50.9214870Z Secret source: Actions
2026-01-21T00:38:50.9215700Z Prepare workflow directory
2026-01-21T00:38:50.9668510Z Prepare all required actions
2026-01-21T00:38:50.9713530Z Getting action download info
2026-01-21T00:38:51.3180590Z Download action repository 'actions/checkout@v4' (SHA:34e114876b0b11c390a56381ad16ebd13914f8d5)
2026-01-21T00:38:52.2008050Z Download action repository 'actions/setup-go@v5' (SHA:40f1582b2485089dde7abd97c1529aa768e1baff)
2026-01-21T00:38:53.4486880Z Download action repository 'codecov/codecov-action@v4' (SHA:b9fd7d16f6d7d1b5d2bec1a2887e65ceed900238)
2026-01-21T00:38:54.7297340Z Complete job name: Test (1.24, macos-latest)
2026-01-21T00:38:54.8065010Z ##[group]Run actions/checkout@v4
2026-01-21T00:38:54.8066040Z with:
2026-01-21T00:38:54.8066570Z   fetch-depth: 0
2026-01-21T00:38:54.8067270Z   repository: JonTK/slurm-exporter
2026-01-21T00:38:54.8068310Z   token: ***
2026-01-21T00:38:54.8069070Z   ssh-strict: true
2026-01-21T00:38:54.8069680Z   ssh-user: git
2026-01-21T00:38:54.8070310Z   persist-credentials: true
2026-01-21T00:38:54.8070930Z   clean: true
2026-01-21T00:38:54.8071490Z   sparse-checkout-cone-mode: true
2026-01-21T00:38:54.8072280Z   fetch-tags: false
2026-01-21T00:38:54.8072890Z   show-progress: true
2026-01-21T00:38:54.8073470Z   lfs: false
2026-01-21T00:38:54.8074000Z   submodules: false
2026-01-21T00:38:54.8074630Z   set-safe-directory: true
2026-01-21T00:38:54.8075860Z env:
2026-01-21T00:38:54.8076390Z   GO_VERSION_STABLE: 1.24
2026-01-21T00:38:54.8098060Z   GO_VERSION_OLDSTABLE: 1.24
2026-01-21T00:38:54.8098750Z   GO_VERSION_MINIMUM: 1.24
2026-01-21T00:38:54.8099590Z ##[endgroup]
2026-01-21T00:38:55.3354430Z Syncing repository: JonTK/slurm-exporter
2026-01-21T00:38:55.3359870Z ##[group]Getting Git version info
2026-01-21T00:38:55.3360860Z Working directory is '/Users/runner/work/slurm-exporter/slurm-exporter'
2026-01-21T00:38:55.3363720Z [command]/opt/homebrew/bin/git version
2026-01-21T00:38:55.3828120Z git version 2.52.0
2026-01-21T00:38:55.3884280Z ##[endgroup]
2026-01-21T00:38:55.3905650Z Copying '/Users/runner/.gitconfig' to '/Users/runner/work/_temp/9a57137c-b5bc-4748-8d5b-1134d1d0874a/.gitconfig'
2026-01-21T00:38:55.3924310Z Temporarily overriding HOME='/Users/runner/work/_temp/9a57137c-b5bc-4748-8d5b-1134d1d0874a' before making global git config changes
2026-01-21T00:38:55.3929660Z Adding repository directory to the temporary git global config as a safe directory
2026-01-21T00:38:55.3935010Z [command]/opt/homebrew/bin/git config --global --add safe.directory /Users/runner/work/slurm-exporter/slurm-exporter
2026-01-21T00:38:55.4094660Z Deleting the contents of '/Users/runner/work/slurm-exporter/slurm-exporter'
2026-01-21T00:38:55.4099930Z ##[group]Initializing the repository
2026-01-21T00:38:55.4109340Z [command]/opt/homebrew/bin/git init /Users/runner/work/slurm-exporter/slurm-exporter
2026-01-21T00:38:55.4372400Z hint: Using 'master' as the name for the initial branch. This default branch name
2026-01-21T00:38:55.4375210Z hint: will change to "main" in Git 3.0. To configure the initial branch name
2026-01-21T00:38:55.4380710Z hint: to use in all of your new repositories, which will suppress this warning,
2026-01-21T00:38:55.4381980Z hint: call:
2026-01-21T00:38:55.4382500Z hint:
2026-01-21T00:38:55.4383200Z hint: 	git config --global init.defaultBranch <name>
2026-01-21T00:38:55.4384000Z hint:
2026-01-21T00:38:55.4384780Z hint: Names commonly chosen instead of 'master' are 'main', 'trunk' and
2026-01-21T00:38:55.4385990Z hint: 'development'. The just-created branch can be renamed via this command:
2026-01-21T00:38:55.4387020Z hint:
2026-01-21T00:38:55.4387620Z hint: 	git branch -m <name>
2026-01-21T00:38:55.4388270Z hint:
2026-01-21T00:38:55.4389080Z hint: Disable this message with "git config set advice.defaultBranchName false"
2026-01-21T00:38:55.4390520Z Initialized empty Git repository in /Users/runner/work/slurm-exporter/slurm-exporter/.git/
2026-01-21T00:38:55.4402940Z [command]/opt/homebrew/bin/git remote add origin https://github.com/JonTK/slurm-exporter
2026-01-21T00:38:55.4524920Z ##[endgroup]
2026-01-21T00:38:55.4527500Z ##[group]Disabling automatic garbage collection
2026-01-21T00:38:55.4529810Z [command]/opt/homebrew/bin/git config --local gc.auto 0
2026-01-21T00:38:55.4624730Z ##[endgroup]
2026-01-21T00:38:55.4625620Z ##[group]Setting up auth
2026-01-21T00:38:55.4629640Z [command]/opt/homebrew/bin/git config --local --name-only --get-regexp core\.sshCommand
2026-01-21T00:38:55.4713350Z [command]/opt/homebrew/bin/git submodule foreach --recursive sh -c "git config --local --name-only --get-regexp 'core\.sshCommand' && git config --local --unset-all 'core.sshCommand' || :"
2026-01-21T00:38:55.5972980Z [command]/opt/homebrew/bin/git config --local --name-only --get-regexp http\.https\:\/\/github\.com\/\.extraheader
2026-01-21T00:38:55.6060250Z [command]/opt/homebrew/bin/git submodule foreach --recursive sh -c "git config --local --name-only --get-regexp 'http\.https\:\/\/github\.com\/\.extraheader' && git config --local --unset-all 'http.https://github.com/.extraheader' || :"
2026-01-21T00:38:55.7232050Z [command]/opt/homebrew/bin/git config --local --name-only --get-regexp ^includeIf\.gitdir:
2026-01-21T00:38:55.7316700Z [command]/opt/homebrew/bin/git submodule foreach --recursive git config --local --show-origin --name-only --get-regexp remote.origin.url
2026-01-21T00:38:55.8354780Z [command]/opt/homebrew/bin/git config --local http.https://github.com/.extraheader AUTHORIZATION: basic ***
2026-01-21T00:38:55.8448910Z ##[endgroup]
2026-01-21T00:38:55.8452040Z ##[group]Fetching the repository
2026-01-21T00:38:55.8465290Z [command]/opt/homebrew/bin/git -c protocol.version=2 fetch --prune --no-recurse-submodules origin +refs/heads/*:refs/remotes/origin/* +refs/tags/*:refs/tags/* +1e3675019b7b26d60d89323ae65340bdf1a5051d:refs/remotes/pull/4/merge
2026-01-21T00:39:01.2790540Z From https://github.com/JonTK/slurm-exporter
2026-01-21T00:39:01.2822660Z  * [new branch]      github_actions                           -> origin/github_actions
2026-01-21T00:39:01.2827140Z  * [new branch]      main                                     -> origin/main
2026-01-21T00:39:01.2852550Z  * [new ref]         1e3675019b7b26d60d89323ae65340bdf1a5051d -> pull/4/merge
2026-01-21T00:39:01.2934780Z ##[endgroup]
2026-01-21T00:39:01.2936310Z ##[group]Determining the checkout info
2026-01-21T00:39:01.2937800Z ##[endgroup]
2026-01-21T00:39:01.2939580Z [command]/opt/homebrew/bin/git sparse-checkout disable
2026-01-21T00:39:01.3038150Z [command]/opt/homebrew/bin/git config --local --unset-all extensions.worktreeConfig
2026-01-21T00:39:01.3114690Z ##[group]Checking out the ref
2026-01-21T00:39:01.3115340Z [command]/opt/homebrew/bin/git checkout --progress --force refs/remotes/pull/4/merge
2026-01-21T00:39:01.5414880Z HEAD is now at 1e36750 Merge d1625ee6a07aaa6e1c25b46fcfc568a724c8de70 into 58c8a0f31f72ecec09e363a88caa3362889bad54
2026-01-21T00:39:01.5622540Z ##[endgroup]
2026-01-21T00:39:01.5855300Z [command]/opt/homebrew/bin/git log -1 --format=%H
2026-01-21T00:39:01.5855930Z 1e3675019b7b26d60d89323ae65340bdf1a5051d
2026-01-21T00:39:01.6130050Z ##[group]Run actions/setup-go@v5
2026-01-21T00:39:01.6130440Z with:
2026-01-21T00:39:01.6130630Z   go-version: 1.24
2026-01-21T00:39:01.6130890Z   cache: true
2026-01-21T00:39:01.6131110Z   check-latest: false
2026-01-21T00:39:01.6131550Z   token: ***
2026-01-21T00:39:01.6131730Z env:
2026-01-21T00:39:01.6131950Z   GO_VERSION_STABLE: 1.24
2026-01-21T00:39:01.6132140Z   GO_VERSION_OLDSTABLE: 1.24
2026-01-21T00:39:01.6132320Z   GO_VERSION_MINIMUM: 1.24
2026-01-21T00:39:01.6132570Z ##[endgroup]
2026-01-21T00:39:01.8117770Z Setup go version spec 1.24
2026-01-21T00:39:01.8245540Z Found in cache @ /Users/runner/hostedtoolcache/go/1.24.11/arm64
2026-01-21T00:39:01.8245970Z Added go to the path
2026-01-21T00:39:01.8246260Z Successfully set up Go version 1.24
2026-01-21T00:39:01.9747860Z [command]/Users/runner/hostedtoolcache/go/1.24.11/arm64/bin/go env GOMODCACHE
2026-01-21T00:39:01.9867750Z [command]/Users/runner/hostedtoolcache/go/1.24.11/arm64/bin/go env GOCACHE
2026-01-21T00:39:01.9975650Z /Users/runner/go/pkg/mod
2026-01-21T00:39:02.0078210Z /Users/runner/Library/Caches/go-build
2026-01-21T00:39:02.3625060Z Cache hit for: setup-go-macOS-arm64-go-1.24.11-cf38f4758d6b31da6c5ab17efed3aaaf2ecdd44f6e2c98030e448e60ac80890e
2026-01-21T00:39:03.4904810Z Received 29360128 of 135915027 (21.6%), 28.0 MBs/sec
2026-01-21T00:39:04.4870920Z Received 121634816 of 135915027 (89.5%), 57.9 MBs/sec
2026-01-21T00:39:04.9470740Z Received 135915027 of 135915027 (100.0%), 52.9 MBs/sec
2026-01-21T00:39:04.9581450Z Cache Size: ~130 MB (135915027 B)
2026-01-21T00:39:04.9851420Z [command]/opt/homebrew/bin/gtar -xf /Users/runner/work/_temp/079337c2-d1b2-4e8f-8a3c-370113b44b08/cache.tzst -P -C /Users/runner/work/slurm-exporter/slurm-exporter --delay-directory-restore --use-compress-program unzstd
2026-01-21T00:39:12.3272300Z Cache restored successfully
2026-01-21T00:39:12.3616570Z Cache restored from key: setup-go-macOS-arm64-go-1.24.11-cf38f4758d6b31da6c5ab17efed3aaaf2ecdd44f6e2c98030e448e60ac80890e
2026-01-21T00:39:12.3851390Z go version go1.24.11 darwin/arm64
2026-01-21T00:39:12.3851600Z 
2026-01-21T00:39:12.3852380Z ##[group]go env
2026-01-21T00:39:16.0259210Z AR='ar'
2026-01-21T00:39:16.0260720Z CC='clang'
2026-01-21T00:39:16.0264170Z CGO_CFLAGS='-O2 -g'
2026-01-21T00:39:16.0264530Z CGO_CPPFLAGS=''
2026-01-21T00:39:16.0264770Z CGO_CXXFLAGS='-O2 -g'
2026-01-21T00:39:16.0265090Z CGO_ENABLED='1'
2026-01-21T00:39:16.0265480Z CGO_FFLAGS='-O2 -g'
2026-01-21T00:39:16.0265770Z CGO_LDFLAGS='-O2 -g'
2026-01-21T00:39:16.0266060Z CXX='clang++'
2026-01-21T00:39:16.0266740Z GCCGO='gccgo'
2026-01-21T00:39:16.0267000Z GO111MODULE=''
2026-01-21T00:39:16.0267430Z GOARCH='arm64'
2026-01-21T00:39:16.0267710Z GOARM64='v8.0'
2026-01-21T00:39:16.0267980Z GOAUTH='netrc'
2026-01-21T00:39:16.0268330Z GOBIN=''
2026-01-21T00:39:16.0268670Z GOCACHE='/Users/runner/Library/Caches/go-build'
2026-01-21T00:39:16.0269090Z GOCACHEPROG=''
2026-01-21T00:39:16.0269770Z GODEBUG=''
2026-01-21T00:39:16.0270230Z GOENV='/Users/runner/Library/Application Support/go/env'
2026-01-21T00:39:16.0270670Z GOEXE=''
2026-01-21T00:39:16.0270990Z GOEXPERIMENT=''
2026-01-21T00:39:16.0271260Z GOFIPS140='off'
2026-01-21T00:39:16.0271550Z GOFLAGS=''
2026-01-21T00:39:16.0272770Z GOGCCFLAGS='-fPIC -arch arm64 -pthread -fno-caret-diagnostics -Qunused-arguments -fmessage-length=0 -ffile-prefix-map=/var/folders/kg/7q73ww8s3llgyl61c9z_j5g40000gn/T/go-build1143542093=/tmp/go-build -gno-record-gcc-switches -fno-common'
2026-01-21T00:39:16.0274080Z GOHOSTARCH='arm64'
2026-01-21T00:39:16.0274380Z GOHOSTOS='darwin'
2026-01-21T00:39:16.0393960Z GOINSECURE=''
2026-01-21T00:39:16.0394720Z GOMOD='/Users/runner/work/slurm-exporter/slurm-exporter/go.mod'
2026-01-21T00:39:16.0395650Z GOMODCACHE='/Users/runner/go/pkg/mod'
2026-01-21T00:39:16.0396420Z GONOPROXY=''
2026-01-21T00:39:16.0396860Z GONOSUMDB=''
2026-01-21T00:39:16.0397410Z GOOS='darwin'
2026-01-21T00:39:16.0398120Z GOPATH='/Users/runner/go'
2026-01-21T00:39:16.0398670Z GOPRIVATE=''
2026-01-21T00:39:16.0402560Z GOPROXY='https://proxy.golang.org,direct'
2026-01-21T00:39:16.0404220Z GOROOT='/Users/runner/hostedtoolcache/go/1.24.11/arm64'
2026-01-21T00:39:16.0405350Z GOSUMDB='sum.golang.org'
2026-01-21T00:39:16.0406060Z GOTELEMETRY='local'
2026-01-21T00:39:16.0407910Z GOTELEMETRYDIR='/Users/runner/Library/Application Support/go/telemetry'
2026-01-21T00:39:16.0408910Z GOTMPDIR=''
2026-01-21T00:39:16.0409490Z GOTOOLCHAIN='auto'
2026-01-21T00:39:16.0410770Z GOTOOLDIR='/Users/runner/hostedtoolcache/go/1.24.11/arm64/pkg/tool/darwin_arm64'
2026-01-21T00:39:16.0411800Z GOVCS=''
2026-01-21T00:39:16.0412370Z GOVERSION='go1.24.11'
2026-01-21T00:39:16.0412920Z GOWORK=''
2026-01-21T00:39:16.0413540Z PKG_CONFIG='pkg-config'
2026-01-21T00:39:16.0413960Z 
2026-01-21T00:39:16.0415550Z ##[endgroup]
2026-01-21T00:39:16.0779440Z ##[group]Run go mod download
2026-01-21T00:39:16.0779990Z [36;1mgo mod download[0m
2026-01-21T00:39:16.0911910Z shell: /bin/bash -e {0}
2026-01-21T00:39:16.0912230Z env:
2026-01-21T00:39:16.0912410Z   GO_VERSION_STABLE: 1.24
2026-01-21T00:39:16.0912640Z   GO_VERSION_OLDSTABLE: 1.24
2026-01-21T00:39:16.0912890Z   GO_VERSION_MINIMUM: 1.24
2026-01-21T00:39:16.0913100Z ##[endgroup]
2026-01-21T00:39:16.2841800Z ##[group]Run go mod verify
2026-01-21T00:39:16.2842130Z [36;1mgo mod verify[0m
2026-01-21T00:39:16.2877690Z shell: /bin/bash -e {0}
2026-01-21T00:39:16.2877940Z env:
2026-01-21T00:39:16.2878200Z   GO_VERSION_STABLE: 1.24
2026-01-21T00:39:16.2878450Z   GO_VERSION_OLDSTABLE: 1.24
2026-01-21T00:39:16.2878700Z   GO_VERSION_MINIMUM: 1.24
2026-01-21T00:39:16.2879030Z ##[endgroup]
2026-01-21T00:39:18.0426220Z all modules verified
2026-01-21T00:39:18.0490760Z ##[group]Run go test -v -race -covermode=atomic -coverprofile coverage.out ./...
2026-01-21T00:39:18.0491270Z [36;1mgo test -v -race -covermode=atomic -coverprofile coverage.out ./...[0m
2026-01-21T00:39:18.0534620Z shell: /bin/bash -e {0}
2026-01-21T00:39:18.0534840Z env:
2026-01-21T00:39:18.0535000Z   GO_VERSION_STABLE: 1.24
2026-01-21T00:39:18.0535190Z   GO_VERSION_OLDSTABLE: 1.24
2026-01-21T00:39:18.0535370Z   GO_VERSION_MINIMUM: 1.24
2026-01-21T00:39:18.0535550Z ##[endgroup]
2026-01-21T00:39:23.7322860Z # github.com/jontk/slurm-exporter/internal/adaptive.test
2026-01-21T00:39:23.7373490Z ld: warning: '/private/var/folders/kg/7q73ww8s3llgyl61c9z_j5g40000gn/T/go-link-2630242181/000013.o' has malformed LC_DYSYMTAB, expected 98 undefined symbols to start at index 1626, found 95 undefined symbols starting at index 1626
2026-01-21T00:39:23.8326750Z # github.com/jontk/slurm-exporter/cmd/slurm-exporter.test
2026-01-21T00:39:23.8434090Z ld: warning: '/private/var/folders/kg/7q73ww8s3llgyl61c9z_j5g40000gn/T/go-link-3245564775/000024.o' has malformed LC_DYSYMTAB, expected 98 undefined symbols to start at index 1626, found 95 undefined symbols starting at index 1626
2026-01-21T00:39:24.1079970Z === RUN   TestMainFlags
2026-01-21T00:39:24.1080610Z --- PASS: TestMainFlags (0.00s)
2026-01-21T00:39:24.1121300Z === RUN   TestMainFlagsCustomValues
2026-01-21T00:39:24.1164250Z --- PASS: TestMainFlagsCustomValues (0.00s)
2026-01-21T00:39:24.1176980Z === RUN   TestNewShutdownManager
2026-01-21T00:39:24.1197900Z --- PASS: TestNewShutdownManager (0.00s)
2026-01-21T00:39:24.1198570Z === RUN   TestAddShutdownHook
2026-01-21T00:39:24.1198950Z --- PASS: TestAddShutdownHook (0.00s)
2026-01-21T00:39:24.1199350Z === RUN   TestRemoveShutdownHook
2026-01-21T00:39:24.1199870Z --- PASS: TestRemoveShutdownHook (0.00s)
2026-01-21T00:39:24.1200390Z === RUN   TestShutdownHookExecution
2026-01-21T00:39:24.1200820Z --- PASS: TestShutdownHookExecution (0.00s)
2026-01-21T00:39:24.1219850Z === RUN   TestShutdownHookError
2026-01-21T00:39:24.1222240Z time="2026-01-21T00:39:23Z" level=error msg="Shutdown hook failed" error="hook failed" hook=failure
2026-01-21T00:39:24.1228790Z --- PASS: TestShutdownHookError (0.00s)
2026-01-21T00:39:24.1230000Z === RUN   TestShutdownHookTimeout
2026-01-21T00:39:24.1230630Z time="2026-01-21T00:39:24Z" level=error msg="Shutdown hook failed" error="shutdown hook slow timed out" hook=slow
2026-01-21T00:39:24.1231210Z --- PASS: TestShutdownHookTimeout (0.10s)
2026-01-21T00:39:24.1231500Z === RUN   TestShutdownHookPanic
2026-01-21T00:39:24.1232060Z time="2026-01-21T00:39:24Z" level=error msg="Shutdown hook failed" error="panic in shutdown hook panic: test panic" hook=panic
2026-01-21T00:39:24.1232650Z --- PASS: TestShutdownHookPanic (0.00s)
2026-01-21T00:39:24.1232930Z === RUN   TestSignalHandling
2026-01-21T00:39:24.1233200Z --- PASS: TestSignalHandling (0.00s)
2026-01-21T00:39:24.1236060Z === RUN   TestIsShuttingDown
2026-01-21T00:39:24.1236520Z --- PASS: TestIsShuttingDown (0.00s)
2026-01-21T00:39:24.1236810Z === RUN   TestConcurrentAccess
2026-01-21T00:39:24.1237580Z --- PASS: TestConcurrentAccess (0.00s)
2026-01-21T00:39:24.1239440Z PASS
2026-01-21T00:39:24.1241070Z coverage: 42.9% of statements
2026-01-21T00:39:24.1242360Z ok  	github.com/jontk/slurm-exporter/cmd/slurm-exporter	0.257s	coverage: 42.9% of statements
2026-01-21T00:39:24.1244430Z 	github.com/jontk/slurm-exporter/cmd/validate-config		coverage: 0.0% of statements
2026-01-21T00:39:25.0638620Z === RUN   TestNewCollectorScheduler_Disabled
2026-01-21T00:39:25.0751090Z --- PASS: TestNewCollectorScheduler_Disabled (0.00s)
2026-01-21T00:39:25.0856940Z === RUN   TestNewCollectorScheduler_Enabled
2026-01-21T00:39:25.0960630Z --- PASS: TestNewCollectorScheduler_Enabled (0.00s)
2026-01-21T00:39:25.1098930Z === RUN   TestNewCollectorScheduler_InvalidConfig
2026-01-21T00:39:25.1204440Z === RUN   TestNewCollectorScheduler_InvalidConfig/min_interval_zero
2026-01-21T00:39:25.1323670Z === RUN   TestNewCollectorScheduler_InvalidConfig/min_greater_than_max
2026-01-21T00:39:25.1459150Z === RUN   TestNewCollectorScheduler_InvalidConfig/base_outside_range
2026-01-21T00:39:25.1560560Z --- PASS: TestNewCollectorScheduler_InvalidConfig (0.00s)
2026-01-21T00:39:25.1671840Z     --- PASS: TestNewCollectorScheduler_InvalidConfig/min_interval_zero (0.00s)
2026-01-21T00:39:25.1774550Z     --- PASS: TestNewCollectorScheduler_InvalidConfig/min_greater_than_max (0.00s)
2026-01-21T00:39:25.1894590Z     --- PASS: TestNewCollectorScheduler_InvalidConfig/base_outside_range (0.00s)
2026-01-21T00:39:25.2005000Z === RUN   TestCollectorScheduler_RegisterCollector
2026-01-21T00:39:25.2108320Z --- PASS: TestCollectorScheduler_RegisterCollector (0.00s)
2026-01-21T00:39:25.2211180Z === RUN   TestCollectorScheduler_GetCollectionInterval_Disabled
2026-01-21T00:39:25.2312750Z --- PASS: TestCollectorScheduler_GetCollectionInterval_Disabled (0.00s)
2026-01-21T00:39:25.2414410Z === RUN   TestCollectorScheduler_UpdateActivity
2026-01-21T00:39:25.2516080Z --- PASS: TestCollectorScheduler_UpdateActivity (0.00s)
2026-01-21T00:39:25.2623730Z === RUN   TestCollectorScheduler_ActivityScoreCalculation
2026-01-21T00:39:25.2726870Z === RUN   TestCollectorScheduler_ActivityScoreCalculation/low_activity
2026-01-21T00:39:25.2828960Z === RUN   TestCollectorScheduler_ActivityScoreCalculation/high_activity
2026-01-21T00:39:25.2930950Z === RUN   TestCollectorScheduler_ActivityScoreCalculation/very_high_density
2026-01-21T00:39:25.3033420Z --- PASS: TestCollectorScheduler_ActivityScoreCalculation (0.00s)
2026-01-21T00:39:25.3135060Z     --- PASS: TestCollectorScheduler_ActivityScoreCalculation/low_activity (0.00s)
2026-01-21T00:39:25.3237030Z     --- PASS: TestCollectorScheduler_ActivityScoreCalculation/high_activity (0.00s)
2026-01-21T00:39:25.3415530Z     --- PASS: TestCollectorScheduler_ActivityScoreCalculation/very_high_density (0.00s)
2026-01-21T00:39:25.3518280Z === RUN   TestCollectorScheduler_IntervalAdaptation
2026-01-21T00:39:25.3520960Z --- PASS: TestCollectorScheduler_IntervalAdaptation (0.00s)
2026-01-21T00:39:25.3623310Z === RUN   TestCollectorScheduler_RecordCollection
2026-01-21T00:39:25.3727130Z --- PASS: TestCollectorScheduler_RecordCollection (0.00s)
2026-01-21T00:39:25.3829600Z === RUN   TestCollectorScheduler_GetStats
2026-01-21T00:39:25.3930190Z --- PASS: TestCollectorScheduler_GetStats (0.00s)
2026-01-21T00:39:25.4054160Z === RUN   TestCollectorScheduler_RegisterMetrics
2026-01-21T00:39:25.4161930Z --- PASS: TestCollectorScheduler_RegisterMetrics (0.00s)
2026-01-21T00:39:25.4319380Z === RUN   TestCollectorScheduler_RegisterMetrics_Disabled
2026-01-21T00:39:25.4513960Z --- PASS: TestCollectorScheduler_RegisterMetrics_Disabled (0.00s)
2026-01-21T00:39:25.4694160Z === RUN   TestCollectorScheduler_CompareValues
2026-01-21T00:39:25.4812320Z === RUN   TestCollectorScheduler_CompareValues/no_change_int
2026-01-21T00:39:25.4933830Z === RUN   TestCollectorScheduler_CompareValues/small_increase
2026-01-21T00:39:25.5053680Z === RUN   TestCollectorScheduler_CompareValues/large_increase
2026-01-21T00:39:25.5158360Z === RUN   TestCollectorScheduler_CompareValues/string_change
2026-01-21T00:39:25.5259210Z === RUN   TestCollectorScheduler_CompareValues/string_no_change
2026-01-21T00:39:25.5360870Z === RUN   TestCollectorScheduler_CompareValues/zero_to_value
2026-01-21T00:39:25.5462840Z --- PASS: TestCollectorScheduler_CompareValues (0.00s)
2026-01-21T00:39:25.5681250Z     --- PASS: TestCollectorScheduler_CompareValues/no_change_int (0.00s)
2026-01-21T00:39:25.5783770Z     --- PASS: TestCollectorScheduler_CompareValues/small_increase (0.00s)
2026-01-21T00:39:25.5785870Z     --- PASS: TestCollectorScheduler_CompareValues/large_increase (0.00s)
2026-01-21T00:39:25.5896920Z     --- PASS: TestCollectorScheduler_CompareValues/string_change (0.00s)
2026-01-21T00:39:25.6043850Z     --- PASS: TestCollectorScheduler_CompareValues/string_no_change (0.00s)
2026-01-21T00:39:25.6164180Z     --- PASS: TestCollectorScheduler_CompareValues/zero_to_value (0.00s)
2026-01-21T00:39:25.6276220Z === RUN   TestCollectorScheduler_TimeBasedScore
2026-01-21T00:39:25.6388070Z --- PASS: TestCollectorScheduler_TimeBasedScore (0.00s)
2026-01-21T00:39:25.6460730Z PASS
2026-01-21T00:39:25.6461400Z coverage: 46.7% of statements
2026-01-21T00:39:25.6462060Z ok  	github.com/jontk/slurm-exporter/internal/adaptive	1.131s	coverage: 46.7% of statements
2026-01-21T00:39:25.6462800Z 	github.com/jontk/slurm-exporter/internal/batch		coverage: 0.0% of statements
2026-01-21T00:39:26.1807030Z # github.com/jontk/slurm-exporter/internal/config.test
2026-01-21T00:39:26.1808520Z ld: warning: '/private/var/folders/kg/7q73ww8s3llgyl61c9z_j5g40000gn/T/go-link-760688260/000013.o' has malformed LC_DYSYMTAB, expected 98 undefined symbols to start at index 1626, found 95 undefined symbols starting at index 1626
2026-01-21T00:39:26.6647230Z # github.com/jontk/slurm-exporter/internal/filtering.test
2026-01-21T00:39:26.6697540Z ld: warning: '/private/var/folders/kg/7q73ww8s3llgyl61c9z_j5g40000gn/T/go-link-3076599373/000013.o' has malformed LC_DYSYMTAB, expected 98 undefined symbols to start at index 1626, found 95 undefined symbols starting at index 1626
2026-01-21T00:39:34.9289820Z # github.com/jontk/slurm-exporter/internal/collector.test
2026-01-21T00:39:34.9296650Z ld: warning: '/private/var/folders/kg/7q73ww8s3llgyl61c9z_j5g40000gn/T/go-link-4175150236/000021.o' has malformed LC_DYSYMTAB, expected 98 undefined symbols to start at index 1626, found 95 undefined symbols starting at index 1626
2026-01-21T00:39:37.7868170Z # github.com/jontk/slurm-exporter/internal/health.test
2026-01-21T00:39:37.7881950Z ld: warning: '/private/var/folders/kg/7q73ww8s3llgyl61c9z_j5g40000gn/T/go-link-291509154/000021.o' has malformed LC_DYSYMTAB, expected 98 undefined symbols to start at index 1626, found 95 undefined symbols starting at index 1626
2026-01-21T00:39:38.5913580Z === RUN   TestAccountsSimpleCollector_Describe
2026-01-21T00:39:38.5958840Z --- PASS: TestAccountsSimpleCollector_Describe (0.00s)
2026-01-21T00:39:38.6000910Z === RUN   TestAccountsSimpleCollector_Collect_Success
2026-01-21T00:39:38.6008400Z time="2026-01-21T00:39:35Z" level=info msg="Collected account entries" collector=accounts count=2 test=true
2026-01-21T00:39:38.6009910Z --- PASS: TestAccountsSimpleCollector_Collect_Success (0.00s)
2026-01-21T00:39:38.6011150Z === RUN   TestAccountsSimpleCollector_Collect_Disabled
2026-01-21T00:39:38.6012160Z --- PASS: TestAccountsSimpleCollector_Collect_Disabled (0.00s)
2026-01-21T00:39:38.6013400Z === RUN   TestAccountsSimpleCollector_Collect_Error
2026-01-21T00:39:38.6015230Z time="2026-01-21T00:39:35Z" level=error msg="Failed to list accounts" collector=accounts error="assert.AnError general error for testing" test=true
2026-01-21T00:39:38.6016760Z --- PASS: TestAccountsSimpleCollector_Collect_Error (0.00s)
2026-01-21T00:39:38.6019530Z === RUN   TestAccountsSimpleCollector_EmptyAccountList
2026-01-21T00:39:38.6020910Z time="2026-01-21T00:39:35Z" level=info msg="Collected account entries" collector=accounts count=0 test=true
2026-01-21T00:39:38.6022510Z --- PASS: TestAccountsSimpleCollector_EmptyAccountList (0.00s)
2026-01-21T00:39:38.6023760Z === RUN   TestAssociationsSimpleCollector_Describe
2026-01-21T00:39:38.6025210Z --- PASS: TestAssociationsSimpleCollector_Describe (0.00s)
2026-01-21T00:39:38.6026270Z === RUN   TestAssociationsSimpleCollector_Collect_Success
2026-01-21T00:39:38.6038980Z time="2026-01-21T00:39:35Z" level=info msg="Collected association entries" collector=associations count=2 test=true
2026-01-21T00:39:38.6039850Z --- PASS: TestAssociationsSimpleCollector_Collect_Success (0.00s)
2026-01-21T00:39:38.6040340Z === RUN   TestAssociationsSimpleCollector_Collect_Disabled
2026-01-21T00:39:38.6040970Z --- PASS: TestAssociationsSimpleCollector_Collect_Disabled (0.00s)
2026-01-21T00:39:38.6041420Z === RUN   TestAssociationsSimpleCollector_Collect_Error
2026-01-21T00:39:38.6042120Z time="2026-01-21T00:39:35Z" level=error msg="Failed to list associations" collector=associations error="assert.AnError general error for testing" test=true
2026-01-21T00:39:38.6071140Z --- PASS: TestAssociationsSimpleCollector_Collect_Error (0.00s)
2026-01-21T00:39:38.6072010Z === RUN   TestAssociationsSimpleCollector_EmptyAssociationList
2026-01-21T00:39:38.6072660Z time="2026-01-21T00:39:35Z" level=info msg="Collected association entries" collector=associations count=0 test=true
2026-01-21T00:39:38.6073340Z --- PASS: TestAssociationsSimpleCollector_EmptyAssociationList (0.00s)
2026-01-21T00:39:38.6073720Z === RUN   TestBaseCollector
2026-01-21T00:39:38.6073990Z === RUN   TestBaseCollector/Name
2026-01-21T00:39:38.6074530Z === RUN   TestBaseCollector/EnabledState
2026-01-21T00:39:38.6074890Z time="2026-01-21T00:39:35Z" level=info msg="Collector disabled" collector=test_collector
2026-01-21T00:39:38.6075430Z time="2026-01-21T00:39:35Z" level=info msg="Collector enabled" collector=test_collector
2026-01-21T00:39:38.6075760Z === RUN   TestBaseCollector/State
2026-01-21T00:39:38.6075990Z === RUN   TestBaseCollector/CollectWithMetrics
2026-01-21T00:39:38.6076460Z time="2026-01-21T00:39:35Z" level=error msg="Collection failed" collector=test_collector error="collection failed"
2026-01-21T00:39:38.6076860Z === RUN   TestBaseCollector/RetryLogic
2026-01-21T00:39:38.6077080Z === RUN   TestBaseCollector/ErrorHandling
2026-01-21T00:39:38.6077330Z === RUN   TestBaseCollector/MetricBuilding
2026-01-21T00:39:38.6077670Z --- PASS: TestBaseCollector (0.00s)
2026-01-21T00:39:38.6078020Z     --- PASS: TestBaseCollector/Name (0.00s)
2026-01-21T00:39:38.6198770Z     --- PASS: TestBaseCollector/EnabledState (0.00s)
2026-01-21T00:39:38.6199220Z     --- PASS: TestBaseCollector/State (0.00s)
2026-01-21T00:39:38.6201260Z     --- PASS: TestBaseCollector/CollectWithMetrics (0.00s)
2026-01-21T00:39:38.6201620Z     --- PASS: TestBaseCollector/RetryLogic (0.00s)
2026-01-21T00:39:38.6201960Z     --- PASS: TestBaseCollector/ErrorHandling (0.00s)
2026-01-21T00:39:38.6202300Z     --- PASS: TestBaseCollector/MetricBuilding (0.00s)
2026-01-21T00:39:38.6202730Z === RUN   TestCollectorMetrics
2026-01-21T00:39:38.6203590Z --- PASS: TestCollectorMetrics (0.00s)
2026-01-21T00:39:38.6203830Z === RUN   TestClusterSimpleCollector_Describe
2026-01-21T00:39:38.6204160Z --- PASS: TestClusterSimpleCollector_Describe (0.00s)
2026-01-21T00:39:38.6204530Z === RUN   TestClusterSimpleCollector_Collect_Success
2026-01-21T00:39:38.6204980Z time="2026-01-21T00:39:35Z" level=info msg="Collected cluster info" cluster=test-cluster collector=cluster test=true
2026-01-21T00:39:38.6211340Z --- PASS: TestClusterSimpleCollector_Collect_Success (0.00s)
2026-01-21T00:39:38.6211780Z === RUN   TestClusterSimpleCollector_Collect_Disabled
2026-01-21T00:39:38.6212100Z --- PASS: TestClusterSimpleCollector_Collect_Disabled (0.00s)
2026-01-21T00:39:38.6212390Z === RUN   TestClusterSimpleCollector_Collect_Error
2026-01-21T00:39:38.6213070Z time="2026-01-21T00:39:35Z" level=error msg="Failed to get cluster info" collector=cluster error="assert.AnError general error for testing" test=true
2026-01-21T00:39:38.6213620Z --- PASS: TestClusterSimpleCollector_Collect_Error (0.00s)
2026-01-21T00:39:38.6213940Z === RUN   TestClusterSimpleCollector_Collect_StatsError
2026-01-21T00:39:38.6214580Z time="2026-01-21T00:39:35Z" level=warning msg="Failed to get cluster stats, continuing with info only" collector=cluster error="assert.AnError general error for testing" test=true
2026-01-21T00:39:38.6215370Z time="2026-01-21T00:39:35Z" level=info msg="Collected cluster info" cluster=test-cluster collector=cluster test=true
2026-01-21T00:39:38.6217390Z --- PASS: TestClusterSimpleCollector_Collect_StatsError (0.00s)
2026-01-21T00:39:38.6217660Z === RUN   TestClusterCollector
2026-01-21T00:39:38.6217860Z === RUN   TestClusterCollector/Name
2026-01-21T00:39:38.6218060Z === RUN   TestClusterCollector/Enabled
2026-01-21T00:39:38.6218380Z === RUN   TestClusterCollector/Describe
2026-01-21T00:39:38.6224030Z === RUN   TestClusterCollector/Collect
2026-01-21T00:39:38.6224570Z === RUN   TestClusterCollector/CollectClusterInfo
2026-01-21T00:39:38.6225570Z === RUN   TestClusterCollector/CollectNodeSummary
2026-01-21T00:39:38.6226200Z === RUN   TestClusterCollector/CollectJobSummary
2026-01-21T00:39:38.6226550Z === RUN   TestClusterCollector/CollectPartitionSummary
2026-01-21T00:39:38.6228480Z --- PASS: TestClusterCollector (0.01s)
2026-01-21T00:39:38.6229860Z     --- PASS: TestClusterCollector/Name (0.00s)
2026-01-21T00:39:38.6230190Z     --- PASS: TestClusterCollector/Enabled (0.00s)
2026-01-21T00:39:38.6230510Z     --- PASS: TestClusterCollector/Describe (0.00s)
2026-01-21T00:39:38.6231540Z     --- PASS: TestClusterCollector/Collect (0.00s)
2026-01-21T00:39:38.6240480Z     --- PASS: TestClusterCollector/CollectClusterInfo (0.00s)
2026-01-21T00:39:38.6269850Z     --- PASS: TestClusterCollector/CollectNodeSummary (0.00s)
2026-01-21T00:39:38.6270950Z     --- PASS: TestClusterCollector/CollectJobSummary (0.00s)
2026-01-21T00:39:38.6272030Z     --- PASS: TestClusterCollector/CollectPartitionSummary (0.00s)
2026-01-21T00:39:38.6272830Z === RUN   TestClusterCollectorIntegration
2026-01-21T00:39:38.6287380Z     cluster_test.go:307: Successfully collected 22 metrics
2026-01-21T00:39:38.6288390Z --- PASS: TestClusterCollectorIntegration (0.01s)
2026-01-21T00:39:38.6289120Z === RUN   TestClustersCollector_Describe
2026-01-21T00:39:38.6289940Z --- PASS: TestClustersCollector_Describe (0.00s)
2026-01-21T00:39:38.6293990Z === RUN   TestClustersCollector_Collect_Success
2026-01-21T00:39:38.6294430Z time="2026-01-21T00:39:35Z" level=debug msg="Collecting cluster metrics" collector=clusters test=true
2026-01-21T00:39:38.6295080Z time="2026-01-21T00:39:35Z" level=debug msg="Cluster metrics collected" cluster_count=2 collector=clusters test=true
2026-01-21T00:39:38.6295670Z --- PASS: TestClustersCollector_Collect_Success (0.00s)
2026-01-21T00:39:38.6296420Z === RUN   TestClustersCollector_Collect_Error
2026-01-21T00:39:38.6297470Z time="2026-01-21T00:39:35Z" level=debug msg="Collecting cluster metrics" collector=clusters test=true
2026-01-21T00:39:38.6298330Z time="2026-01-21T00:39:35Z" level=error msg="Failed to get clusters" collector=clusters error="assert.AnError general error for testing" test=true
2026-01-21T00:39:38.6299560Z --- PASS: TestClustersCollector_Collect_Error (0.00s)
2026-01-21T00:39:38.6299970Z === RUN   TestClustersCollector_EmptyClusterList
2026-01-21T00:39:38.6300440Z time="2026-01-21T00:39:35Z" level=debug msg="Collecting cluster metrics" collector=clusters test=true
2026-01-21T00:39:38.6301120Z time="2026-01-21T00:39:35Z" level=debug msg="Cluster metrics collected" cluster_count=0 collector=clusters test=true
2026-01-21T00:39:38.6301720Z --- PASS: TestClustersCollector_EmptyClusterList (0.00s)
2026-01-21T00:39:38.6302080Z === RUN   TestClustersCollector_NullClustersManager
2026-01-21T00:39:38.6302490Z time="2026-01-21T00:39:35Z" level=debug msg="Collecting cluster metrics" collector=clusters test=true
2026-01-21T00:39:38.6303160Z time="2026-01-21T00:39:35Z" level=debug msg="Clusters manager not available" collector=clusters test=true
2026-01-21T00:39:38.6303660Z --- PASS: TestClustersCollector_NullClustersManager (0.00s)
2026-01-21T00:39:38.6304080Z === RUN   TestConcurrentCollector
2026-01-21T00:39:38.6304360Z === RUN   TestConcurrentCollector/EmptyRegistry
2026-01-21T00:39:38.6304700Z === RUN   TestConcurrentCollector/ConcurrentCollection
2026-01-21T00:39:38.6305280Z time="2026-01-21T00:39:35Z" level=info msg="Collector registered" collector=a component=collector_registry
2026-01-21T00:39:38.6305920Z time="2026-01-21T00:39:35Z" level=info msg="Collector registered" collector=b component=collector_registry
2026-01-21T00:39:38.6306630Z time="2026-01-21T00:39:35Z" level=info msg="Collector registered" collector=c component=collector_registry
2026-01-21T00:39:38.6307240Z time="2026-01-21T00:39:35Z" level=info msg="Collector registered" collector=d component=collector_registry
2026-01-21T00:39:38.6307960Z time="2026-01-21T00:39:35Z" level=info msg="Collector registered" collector=e component=collector_registry
2026-01-21T00:39:38.6308470Z === RUN   TestConcurrentCollector/MaxConcurrency
2026-01-21T00:39:38.6309620Z time="2026-01-21T00:39:35Z" level=warning msg="Failed to unregister collector from prometheus" collector=a component=collector_registry
2026-01-21T00:39:38.6310530Z time="2026-01-21T00:39:35Z" level=info msg="Collector unregistered" collector=a component=collector_registry
2026-01-21T00:39:38.6311260Z time="2026-01-21T00:39:35Z" level=warning msg="Failed to unregister collector from prometheus" collector=b component=collector_registry
2026-01-21T00:39:38.6311890Z time="2026-01-21T00:39:35Z" level=info msg="Collector unregistered" collector=b component=collector_registry
2026-01-21T00:39:38.6312590Z time="2026-01-21T00:39:35Z" level=warning msg="Failed to unregister collector from prometheus" collector=c component=collector_registry
2026-01-21T00:39:38.6313360Z time="2026-01-21T00:39:35Z" level=info msg="Collector unregistered" collector=c component=collector_registry
2026-01-21T00:39:38.6314180Z time="2026-01-21T00:39:35Z" level=warning msg="Failed to unregister collector from prometheus" collector=d component=collector_registry
2026-01-21T00:39:38.6314830Z time="2026-01-21T00:39:35Z" level=info msg="Collector unregistered" collector=d component=collector_registry
2026-01-21T00:39:38.6315480Z time="2026-01-21T00:39:35Z" level=warning msg="Failed to unregister collector from prometheus" collector=e component=collector_registry
2026-01-21T00:39:38.6316110Z time="2026-01-21T00:39:35Z" level=info msg="Collector unregistered" collector=e component=collector_registry
2026-01-21T00:39:38.6316670Z time="2026-01-21T00:39:35Z" level=info msg="Collector registered" collector=a component=collector_registry
2026-01-21T00:39:38.6317350Z time="2026-01-21T00:39:35Z" level=info msg="Collector registered" collector=b component=collector_registry
2026-01-21T00:39:38.6318310Z time="2026-01-21T00:39:35Z" level=info msg="Collector registered" collector=c component=collector_registry
2026-01-21T00:39:38.6318960Z time="2026-01-21T00:39:35Z" level=info msg="Collector registered" collector=d component=collector_registry
2026-01-21T00:39:38.6319960Z time="2026-01-21T00:39:35Z" level=info msg="Collector registered" collector=e component=collector_registry
2026-01-21T00:39:38.6320340Z === RUN   TestConcurrentCollector/ErrorHandling
2026-01-21T00:39:38.6320900Z time="2026-01-21T00:39:35Z" level=warning msg="Failed to unregister collector from prometheus" collector=e component=collector_registry
2026-01-21T00:39:38.6321660Z time="2026-01-21T00:39:35Z" level=info msg="Collector unregistered" collector=e component=collector_registry
2026-01-21T00:39:38.6322340Z time="2026-01-21T00:39:35Z" level=warning msg="Failed to unregister collector from prometheus" collector=a component=collector_registry
2026-01-21T00:39:38.6322950Z time="2026-01-21T00:39:35Z" level=info msg="Collector unregistered" collector=a component=collector_registry
2026-01-21T00:39:38.6323810Z time="2026-01-21T00:39:35Z" level=warning msg="Failed to unregister collector from prometheus" collector=b component=collector_registry
2026-01-21T00:39:38.6324460Z time="2026-01-21T00:39:35Z" level=info msg="Collector unregistered" collector=b component=collector_registry
2026-01-21T00:39:38.6325080Z time="2026-01-21T00:39:35Z" level=warning msg="Failed to unregister collector from prometheus" collector=c component=collector_registry
2026-01-21T00:39:38.6325770Z time="2026-01-21T00:39:35Z" level=info msg="Collector unregistered" collector=c component=collector_registry
2026-01-21T00:39:38.6326480Z time="2026-01-21T00:39:35Z" level=warning msg="Failed to unregister collector from prometheus" collector=d component=collector_registry
2026-01-21T00:39:38.6327230Z time="2026-01-21T00:39:35Z" level=info msg="Collector unregistered" collector=d component=collector_registry
2026-01-21T00:39:38.6327850Z time="2026-01-21T00:39:35Z" level=info msg="Collector registered" collector=success component=collector_registry
2026-01-21T00:39:38.6328470Z time="2026-01-21T00:39:35Z" level=info msg="Collector registered" collector=fail component=collector_registry
2026-01-21T00:39:38.6329480Z time="2026-01-21T00:39:35Z" level=error msg="Collection failed" collector=fail component=concurrent_collector error="collection failed"
2026-01-21T00:39:38.6330070Z === RUN   TestConcurrentCollector/ContextCancellation
2026-01-21T00:39:38.6330750Z time="2026-01-21T00:39:35Z" level=warning msg="Failed to unregister collector from prometheus" collector=success component=collector_registry
2026-01-21T00:39:38.6331510Z time="2026-01-21T00:39:35Z" level=info msg="Collector unregistered" collector=success component=collector_registry
2026-01-21T00:39:38.6332180Z time="2026-01-21T00:39:35Z" level=warning msg="Failed to unregister collector from prometheus" collector=fail component=collector_registry
2026-01-21T00:39:38.6332830Z time="2026-01-21T00:39:35Z" level=info msg="Collector unregistered" collector=fail component=collector_registry
2026-01-21T00:39:38.6333440Z time="2026-01-21T00:39:35Z" level=info msg="Collector registered" collector=slow component=collector_registry
2026-01-21T00:39:38.6334080Z time="2026-01-21T00:39:35Z" level=error msg="Collection failed" collector=slow component=concurrent_collector error="context canceled"
2026-01-21T00:39:38.6334550Z === RUN   TestConcurrentCollector/Metrics
2026-01-21T00:39:38.6335050Z time="2026-01-21T00:39:35Z" level=warning msg="Failed to unregister collector from prometheus" collector=slow component=collector_registry
2026-01-21T00:39:38.6335890Z time="2026-01-21T00:39:35Z" level=info msg="Collector unregistered" collector=slow component=collector_registry
2026-01-21T00:39:38.6336540Z time="2026-01-21T00:39:35Z" level=info msg="Collector registered" collector=metric_test component=collector_registry
2026-01-21T00:39:38.6337040Z --- PASS: TestConcurrentCollector (0.20s)
2026-01-21T00:39:38.6337670Z     --- PASS: TestConcurrentCollector/EmptyRegistry (0.00s)
2026-01-21T00:39:38.6338140Z     --- PASS: TestConcurrentCollector/ConcurrentCollection (0.02s)
2026-01-21T00:39:38.6338600Z     --- PASS: TestConcurrentCollector/MaxConcurrency (0.07s)
2026-01-21T00:39:38.6339260Z     --- PASS: TestConcurrentCollector/ErrorHandling (0.00s)
2026-01-21T00:39:38.6339720Z     --- PASS: TestConcurrentCollector/ContextCancellation (0.00s)
2026-01-21T00:39:38.6340080Z     --- PASS: TestConcurrentCollector/Metrics (0.10s)
2026-01-21T00:39:38.6340400Z === RUN   TestCollectionOrchestrator
2026-01-21T00:39:38.6340720Z === RUN   TestCollectionOrchestrator/SetInterval
2026-01-21T00:39:38.6341100Z === RUN   TestCollectionOrchestrator/CollectNow
2026-01-21T00:39:38.6341630Z time="2026-01-21T00:39:35Z" level=info msg="Collector registered" collector=immediate component=collector_registry
2026-01-21T00:39:38.6342180Z === RUN   TestCollectionOrchestrator/ScheduledCollection
2026-01-21T00:39:38.6342730Z time="2026-01-21T00:39:35Z" level=info msg="Collector registered" collector=scheduled component=collector_registry
2026-01-21T00:39:38.6343450Z time="2026-01-21T00:39:35Z" level=info msg="Starting collection orchestrator" component=collection_orchestrator
2026-01-21T00:39:38.6344090Z time="2026-01-21T00:39:36Z" level=info msg="Stopping collection orchestrator" component=collection_orchestrator
2026-01-21T00:39:38.6344600Z --- PASS: TestCollectionOrchestrator (0.31s)
2026-01-21T00:39:38.6345050Z     --- PASS: TestCollectionOrchestrator/SetInterval (0.00s)
2026-01-21T00:39:38.6345500Z     --- PASS: TestCollectionOrchestrator/CollectNow (0.00s)
2026-01-21T00:39:38.6345990Z     --- PASS: TestCollectionOrchestrator/ScheduledCollection (0.31s)
2026-01-21T00:39:38.6346270Z === RUN   TestCollectionResult
2026-01-21T00:39:38.6346460Z --- PASS: TestCollectionResult (0.00s)
2026-01-21T00:39:38.6346810Z === RUN   TestCircuitBreaker
2026-01-21T00:39:38.6347110Z === RUN   TestCircuitBreaker/NormalOperation
2026-01-21T00:39:38.6347410Z === RUN   TestCircuitBreaker/CircuitOpensAfterFailures
2026-01-21T00:39:38.6348050Z time="2026-01-21T00:39:36Z" level=warning msg="Circuit breaker opened due to excessive failures" component=circuit_breaker failures=3 name=test
2026-01-21T00:39:38.6348650Z === RUN   TestCircuitBreaker/CircuitTransitionsToHalfOpen
2026-01-21T00:39:38.6349580Z time="2026-01-21T00:39:36Z" level=warning msg="Circuit breaker opened due to excessive failures" component=circuit_breaker failures=2 name=test
2026-01-21T00:39:38.6350360Z time="2026-01-21T00:39:36Z" level=info msg="Circuit breaker transitioning to half-open" component=circuit_breaker name=test
2026-01-21T00:39:38.6352050Z time="2026-01-21T00:39:36Z" level=info msg="Circuit breaker closed after successful test" component=circuit_breaker name=test
2026-01-21T00:39:38.6352700Z === RUN   TestCircuitBreaker/FailureInHalfOpenReturnsToOpen
2026-01-21T00:39:38.6353300Z time="2026-01-21T00:39:36Z" level=warning msg="Circuit breaker opened due to excessive failures" component=circuit_breaker failures=2 name=test
2026-01-21T00:39:38.6354060Z time="2026-01-21T00:39:36Z" level=info msg="Circuit breaker transitioning to half-open" component=circuit_breaker name=test
2026-01-21T00:39:38.6354880Z time="2026-01-21T00:39:36Z" level=warning msg="Circuit breaker returning to open after failed test" component=circuit_breaker name=test
2026-01-21T00:39:38.6355400Z === RUN   TestCircuitBreaker/ManualReset
2026-01-21T00:39:38.6355960Z time="2026-01-21T00:39:36Z" level=warning msg="Circuit breaker opened due to excessive failures" component=circuit_breaker failures=2 name=test
2026-01-21T00:39:38.6356760Z time="2026-01-21T00:39:36Z" level=info msg="Circuit breaker manually reset" component=circuit_breaker name=test
2026-01-21T00:39:38.6357200Z --- PASS: TestCircuitBreaker (0.31s)
2026-01-21T00:39:38.6357570Z     --- PASS: TestCircuitBreaker/NormalOperation (0.00s)
2026-01-21T00:39:38.6358100Z     --- PASS: TestCircuitBreaker/CircuitOpensAfterFailures (0.00s)
2026-01-21T00:39:38.6358600Z     --- PASS: TestCircuitBreaker/CircuitTransitionsToHalfOpen (0.15s)
2026-01-21T00:39:38.6359110Z     --- PASS: TestCircuitBreaker/FailureInHalfOpenReturnsToOpen (0.15s)
2026-01-21T00:39:38.6359500Z     --- PASS: TestCircuitBreaker/ManualReset (0.00s)
2026-01-21T00:39:38.6360050Z === RUN   TestDegradationManager
2026-01-21T00:39:38.6360380Z === RUN   TestDegradationManager/SuccessfulCollection
2026-01-21T00:39:38.6360800Z === RUN   TestDegradationManager/CachedMetricsAfterFailure
2026-01-21T00:39:38.6361450Z time="2026-01-21T00:39:36Z" level=warning msg="Circuit breaker opened due to excessive failures" component=circuit_breaker failures=2 name=cache_test
2026-01-21T00:39:38.6364860Z time="2026-01-21T00:39:36Z" level=info msg="Serving cached metrics due to circuit breaker open" cached_at="2026-01-21 00:39:36.540165 +0000 UTC m=+0.925253001" collector=cache_test component=degradation_manager
2026-01-21T00:39:38.6366050Z time="2026-01-21T00:39:36Z" level=info msg="Serving cached metrics due to circuit breaker open" cached_at="2026-01-21 00:39:36.540165 +0000 UTC m=+0.925253001" collector=cache_test component=degradation_manager
2026-01-21T00:39:38.6366830Z === RUN   TestDegradationManager/CacheExpiry
2026-01-21T00:39:38.6367470Z time="2026-01-21T00:39:36Z" level=warning msg="Circuit breaker opened due to excessive failures" component=circuit_breaker failures=2 name=expiry_test
2026-01-21T00:39:38.6368550Z time="2026-01-21T00:39:36Z" level=info msg="Serving cached metrics due to circuit breaker open" cached_at="2026-01-21 00:39:36.540516 +0000 UTC m=+0.925604292" collector=expiry_test component=degradation_manager
2026-01-21T00:39:38.6369480Z time="2026-01-21T00:39:36Z" level=info msg="Circuit breaker transitioning to half-open" component=circuit_breaker name=expiry_test
2026-01-21T00:39:38.6370240Z time="2026-01-21T00:39:36Z" level=warning msg="Circuit breaker returning to open after failed test" component=circuit_breaker name=expiry_test
2026-01-21T00:39:38.6370860Z === RUN   TestDegradationManager/DegradationModeTracking
2026-01-21T00:39:38.6371480Z time="2026-01-21T00:39:36Z" level=warning msg="System in degraded mode" component=degradation_manager mode=1 open_breakers=1 total_breakers=2
2026-01-21T00:39:38.6372010Z === RUN   TestDegradationManager/GetDegradationStats
2026-01-21T00:39:38.6372380Z === RUN   TestDegradationManager/ResetAllBreakers
2026-01-21T00:39:38.6373230Z time="2026-01-21T00:39:36Z" level=info msg="Circuit breaker manually reset" component=circuit_breaker name=test_collector
2026-01-21T00:39:38.6373970Z time="2026-01-21T00:39:36Z" level=info msg="Circuit breaker manually reset" component=circuit_breaker name=cache_test
2026-01-21T00:39:38.6374570Z time="2026-01-21T00:39:36Z" level=info msg="All circuit breakers reset" component=degradation_manager
2026-01-21T00:39:38.6374990Z --- PASS: TestDegradationManager (0.15s)
2026-01-21T00:39:38.6375390Z     --- PASS: TestDegradationManager/SuccessfulCollection (0.00s)
2026-01-21T00:39:38.6375880Z     --- PASS: TestDegradationManager/CachedMetricsAfterFailure (0.00s)
2026-01-21T00:39:38.6376350Z     --- PASS: TestDegradationManager/CacheExpiry (0.15s)
2026-01-21T00:39:38.6376840Z     --- PASS: TestDegradationManager/DegradationModeTracking (0.00s)
2026-01-21T00:39:38.6377320Z     --- PASS: TestDegradationManager/GetDegradationStats (0.00s)
2026-01-21T00:39:38.6377770Z     --- PASS: TestDegradationManager/ResetAllBreakers (0.00s)
2026-01-21T00:39:38.6378130Z === RUN   TestDegradationMetrics
2026-01-21T00:39:38.6378380Z --- PASS: TestDegradationMetrics (0.00s)
2026-01-21T00:39:38.6378640Z === RUN   TestDegradationConfig
2026-01-21T00:39:38.6378950Z === RUN   TestDegradationConfig/ValidConfig
2026-01-21T00:39:38.6379260Z === RUN   TestDegradationConfig/InvalidMaxFailures
2026-01-21T00:39:38.6379580Z === RUN   TestDegradationConfig/InvalidResetTimeout
2026-01-21T00:39:38.6379930Z === RUN   TestDegradationConfig/InvalidCacheTTL
2026-01-21T00:39:38.6380230Z === RUN   TestDegradationConfig/DisabledConfig
2026-01-21T00:39:38.6380580Z --- PASS: TestDegradationConfig (0.00s)
2026-01-21T00:39:38.6380960Z     --- PASS: TestDegradationConfig/ValidConfig (0.00s)
2026-01-21T00:39:38.6381390Z     --- PASS: TestDegradationConfig/InvalidMaxFailures (0.00s)
2026-01-21T00:39:38.6381910Z     --- PASS: TestDegradationConfig/InvalidResetTimeout (0.00s)
2026-01-21T00:39:38.6382520Z     --- PASS: TestDegradationConfig/InvalidCacheTTL (0.00s)
2026-01-21T00:39:38.6382960Z     --- PASS: TestDegradationConfig/DisabledConfig (0.00s)
2026-01-21T00:39:38.6383310Z === RUN   TestDegradedCollector
2026-01-21T00:39:38.6383590Z === RUN   TestDegradedCollector/SuccessfulCollection
2026-01-21T00:39:38.6383920Z === RUN   TestDegradedCollector/FailureWithCaching
2026-01-21T00:39:38.6384580Z time="2026-01-21T00:39:36Z" level=warning msg="Circuit breaker opened due to excessive failures" component=circuit_breaker failures=2 name=failing_test
2026-01-21T00:39:38.6385570Z time="2026-01-21T00:39:36Z" level=info msg="Serving cached metrics due to circuit breaker open" cached_at="2026-01-21 00:39:36.694915 +0000 UTC m=+1.079926167" collector=failing_test component=degradation_manager
2026-01-21T00:39:38.6386740Z time="2026-01-21T00:39:36Z" level=info msg="Serving cached metrics due to circuit breaker open" cached_at="2026-01-21 00:39:36.694915 +0000 UTC m=+1.079926167" collector=failing_test component=degradation_manager
2026-01-21T00:39:38.6387420Z === RUN   TestDegradedCollector/InterfaceMethods
2026-01-21T00:39:38.6387720Z --- PASS: TestDegradedCollector (0.00s)
2026-01-21T00:39:38.6388160Z     --- PASS: TestDegradedCollector/SuccessfulCollection (0.00s)
2026-01-21T00:39:38.6388620Z     --- PASS: TestDegradedCollector/FailureWithCaching (0.00s)
2026-01-21T00:39:38.6389930Z     --- PASS: TestDegradedCollector/InterfaceMethods (0.00s)
2026-01-21T00:39:38.6390310Z === RUN   TestDegradedRegistry
2026-01-21T00:39:38.6390580Z === RUN   TestDegradedRegistry/RegisterAndGet
2026-01-21T00:39:38.6391240Z time="2026-01-21T00:39:36Z" level=info msg="Collector registered" collector=test_collector component=collector_registry
2026-01-21T00:39:38.6392040Z time="2026-01-21T00:39:36Z" level=info msg="Registered collector with degradation support" collector=test_collector component=degraded_registry
2026-01-21T00:39:38.6392620Z === RUN   TestDegradedRegistry/List
2026-01-21T00:39:38.6413300Z === RUN   TestDegradedRegistry/Unregister
2026-01-21T00:39:38.6416190Z time="2026-01-21T00:39:36Z" level=warning msg="Failed to unregister collector from prometheus" collector=test_collector component=collector_registry
2026-01-21T00:39:38.6418320Z time="2026-01-21T00:39:36Z" level=info msg="Collector unregistered" collector=test_collector component=collector_registry
2026-01-21T00:39:38.6434950Z === RUN   TestDegradedRegistry/DegradationManagement
2026-01-21T00:39:38.6435480Z time="2026-01-21T00:39:36Z" level=info msg="All circuit breakers reset" component=degradation_manager
2026-01-21T00:39:38.6436130Z === RUN   TestDegradedRegistry/PrometheusCollector
2026-01-21T00:39:38.6436500Z === RUN   TestDegradedRegistry/CollectAll
2026-01-21T00:39:38.6437060Z time="2026-01-21T00:39:36Z" level=info msg="Collector registered" collector=collect_all_test component=collector_registry
2026-01-21T00:39:38.6439880Z time="2026-01-21T00:39:36Z" level=info msg="Registered collector with degradation support" collector=collect_all_test component=degraded_registry
2026-01-21T00:39:38.6440730Z --- PASS: TestDegradedRegistry (0.00s)
2026-01-21T00:39:38.6441160Z     --- PASS: TestDegradedRegistry/RegisterAndGet (0.00s)
2026-01-21T00:39:38.6441590Z     --- PASS: TestDegradedRegistry/List (0.00s)
2026-01-21T00:39:38.6442010Z     --- PASS: TestDegradedRegistry/Unregister (0.00s)
2026-01-21T00:39:38.6442520Z     --- PASS: TestDegradedRegistry/DegradationManagement (0.00s)
2026-01-21T00:39:38.6442980Z     --- PASS: TestDegradedRegistry/PrometheusCollector (0.00s)
2026-01-21T00:39:38.6443430Z     --- PASS: TestDegradedRegistry/CollectAll (0.00s)
2026-01-21T00:39:38.6443850Z === RUN   TestDegradedRegistryWithDisabledDegradation
2026-01-21T00:39:38.6444480Z time="2026-01-21T00:39:36Z" level=info msg="Collector registered" collector=no_degradation_test component=collector_registry
2026-01-21T00:39:38.6445040Z --- PASS: TestDegradedRegistryWithDisabledDegradation (0.00s)
2026-01-21T00:39:38.6445430Z === RUN   TestDiagnosticsCollector_Describe
2026-01-21T00:39:38.6446220Z --- PASS: TestDiagnosticsCollector_Describe (0.00s)
2026-01-21T00:39:38.6446560Z === RUN   TestDiagnosticsCollector_Collect_Success
2026-01-21T00:39:38.6447060Z time="2026-01-21T00:39:36Z" level=debug msg="Collecting diagnostics metrics" collector=diagnostics test=true
2026-01-21T00:39:38.6447700Z time="2026-01-21T00:39:36Z" level=debug msg="Diagnostics metrics collected" collector=diagnostics test=true
2026-01-21T00:39:38.6448240Z --- PASS: TestDiagnosticsCollector_Collect_Success (0.00s)
2026-01-21T00:39:38.6448610Z === RUN   TestDiagnosticsCollector_Collect_Error
2026-01-21T00:39:38.6449090Z time="2026-01-21T00:39:36Z" level=debug msg="Collecting diagnostics metrics" collector=diagnostics test=true
2026-01-21T00:39:38.6449910Z time="2026-01-21T00:39:36Z" level=debug msg="Failed to get diagnostics" collector=diagnostics error="assert.AnError general error for testing" test=true
2026-01-21T00:39:38.6450550Z --- PASS: TestDiagnosticsCollector_Collect_Error (0.00s)
2026-01-21T00:39:38.6450900Z === RUN   TestCollectionError
2026-01-21T00:39:38.6451130Z === RUN   TestCollectionError/ErrorInterface
2026-01-21T00:39:38.6451430Z === RUN   TestCollectionError/LogFields
2026-01-21T00:39:38.6451740Z --- PASS: TestCollectionError (0.00s)
2026-01-21T00:39:38.6452070Z     --- PASS: TestCollectionError/ErrorInterface (0.00s)
2026-01-21T00:39:38.6452450Z     --- PASS: TestCollectionError/LogFields (0.00s)
2026-01-21T00:39:38.6452670Z === RUN   TestErrorBuilder
2026-01-21T00:39:38.6452890Z === RUN   TestErrorBuilder/Connection
2026-01-21T00:39:38.6453090Z === RUN   TestErrorBuilder/Auth
2026-01-21T00:39:38.6453310Z === RUN   TestErrorBuilder/Timeout
2026-01-21T00:39:38.6453500Z === RUN   TestErrorBuilder/API
2026-01-21T00:39:38.6453700Z --- PASS: TestErrorBuilder (0.00s)
2026-01-21T00:39:38.6454000Z     --- PASS: TestErrorBuilder/Connection (0.00s)
2026-01-21T00:39:38.6454330Z     --- PASS: TestErrorBuilder/Auth (0.00s)
2026-01-21T00:39:38.6454620Z     --- PASS: TestErrorBuilder/Timeout (0.00s)
2026-01-21T00:39:38.6454900Z     --- PASS: TestErrorBuilder/API (0.00s)
2026-01-21T00:39:38.6455440Z === RUN   TestErrorAnalyzer
2026-01-21T00:39:38.6455690Z === RUN   TestErrorAnalyzer/ConnectionRefused
2026-01-21T00:39:38.6455940Z === RUN   TestErrorAnalyzer/Timeout
2026-01-21T00:39:38.6456170Z === RUN   TestErrorAnalyzer/Unauthorized
2026-01-21T00:39:38.6456400Z === RUN   TestErrorAnalyzer/RateLimit
2026-01-21T00:39:38.6456610Z === RUN   TestErrorAnalyzer/Permission
2026-01-21T00:39:38.6456830Z === RUN   TestErrorAnalyzer/Unknown
2026-01-21T00:39:38.6457070Z === RUN   TestErrorAnalyzer/ExistingCollectionError
2026-01-21T00:39:38.6457310Z === RUN   TestErrorAnalyzer/NilError
2026-01-21T00:39:38.6457530Z --- PASS: TestErrorAnalyzer (0.00s)
2026-01-21T00:39:38.6457890Z     --- PASS: TestErrorAnalyzer/ConnectionRefused (0.00s)
2026-01-21T00:39:38.6458250Z     --- PASS: TestErrorAnalyzer/Timeout (0.00s)
2026-01-21T00:39:38.6458590Z     --- PASS: TestErrorAnalyzer/Unauthorized (0.00s)
2026-01-21T00:39:38.6458910Z     --- PASS: TestErrorAnalyzer/RateLimit (0.00s)
2026-01-21T00:39:38.6459260Z     --- PASS: TestErrorAnalyzer/Permission (0.00s)
2026-01-21T00:39:38.6459590Z     --- PASS: TestErrorAnalyzer/Unknown (0.00s)
2026-01-21T00:39:38.6459980Z     --- PASS: TestErrorAnalyzer/ExistingCollectionError (0.00s)
2026-01-21T00:39:38.6460360Z     --- PASS: TestErrorAnalyzer/NilError (0.00s)
2026-01-21T00:39:38.6460630Z === RUN   TestErrorRecoveryHandler
2026-01-21T00:39:38.6460860Z === RUN   TestErrorRecoveryHandler/NilError
2026-01-21T00:39:38.6461140Z === RUN   TestErrorRecoveryHandler/ConnectionError
2026-01-21T00:39:38.6461560Z time="2026-01-21T00:39:36Z" level=info msg="Attempting connection error recovery" collector=test
2026-01-21T00:39:38.6461930Z === RUN   TestErrorRecoveryHandler/TimeoutError
2026-01-21T00:39:38.6462320Z time="2026-01-21T00:39:36Z" level=info msg="Attempting timeout error recovery" collector=test
2026-01-21T00:39:38.6462690Z === RUN   TestErrorRecoveryHandler/RateLimitError
2026-01-21T00:39:38.6463100Z time="2026-01-21T00:39:36Z" level=info msg="Attempting rate limit error recovery" collector=test
2026-01-21T00:39:38.6464980Z time="2026-01-21T00:39:36Z" level=info msg="Backing off due to rate limit" retry_after=100ms
2026-01-21T00:39:38.6466150Z === RUN   TestErrorRecoveryHandler/AuthError
2026-01-21T00:39:38.6488230Z time="2026-01-21T00:39:36Z" level=error msg="Authentication error requires manual intervention" collector=test
2026-01-21T00:39:38.6489730Z === RUN   TestErrorRecoveryHandler/OtherError
2026-01-21T00:39:38.6490410Z --- PASS: TestErrorRecoveryHandler (0.00s)
2026-01-21T00:39:38.6491260Z     --- PASS: TestErrorRecoveryHandler/NilError (0.00s)
2026-01-21T00:39:38.6492240Z     --- PASS: TestErrorRecoveryHandler/ConnectionError (0.00s)
2026-01-21T00:39:38.6493220Z     --- PASS: TestErrorRecoveryHandler/TimeoutError (0.00s)
2026-01-21T00:39:38.6494200Z     --- PASS: TestErrorRecoveryHandler/RateLimitError (0.00s)
2026-01-21T00:39:38.6495180Z     --- PASS: TestErrorRecoveryHandler/AuthError (0.00s)
2026-01-21T00:39:38.6496190Z     --- PASS: TestErrorRecoveryHandler/OtherError (0.00s)
2026-01-21T00:39:38.6496880Z === RUN   TestErrorClassification
2026-01-21T00:39:38.6497480Z === RUN   TestErrorClassification/ConnectionRefused
2026-01-21T00:39:38.6498180Z === RUN   TestErrorClassification/ConnectionReset
2026-01-21T00:39:38.6498840Z === RUN   TestErrorClassification/NoSuchHost
2026-01-21T00:39:38.6499530Z === RUN   TestErrorClassification/NetworkUnreachable
2026-01-21T00:39:38.6500200Z === RUN   TestErrorClassification/DialTCP
2026-01-21T00:39:38.6502370Z === RUN   TestErrorClassification/NotConnection
2026-01-21T00:39:38.6503100Z === RUN   TestErrorClassification/Timeout
2026-01-21T00:39:38.6503750Z === RUN   TestErrorClassification/DeadlineExceeded
2026-01-21T00:39:38.6504450Z === RUN   TestErrorClassification/RequestTimeout
2026-01-21T00:39:38.6505120Z === RUN   TestErrorClassification/NotTimeout
2026-01-21T00:39:38.6505800Z === RUN   TestErrorClassification/Unauthorized
2026-01-21T00:39:38.6507060Z === RUN   TestErrorClassification/AuthFailed
2026-01-21T00:39:38.6516340Z === RUN   TestErrorClassification/InvalidToken
2026-01-21T00:39:38.6516780Z === RUN   TestErrorClassification/TokenExpired
2026-01-21T00:39:38.6517020Z === RUN   TestErrorClassification/NotAuth
2026-01-21T00:39:38.6517240Z === RUN   TestErrorClassification/RateLimit
2026-01-21T00:39:38.6517490Z === RUN   TestErrorClassification/TooManyRequests
2026-01-21T00:39:38.6517790Z === RUN   TestErrorClassification/QuotaExceeded
2026-01-21T00:39:38.6518050Z === RUN   TestErrorClassification/Throttle
2026-01-21T00:39:38.6518290Z === RUN   TestErrorClassification/NotRateLimit
2026-01-21T00:39:38.6518760Z === RUN   TestErrorClassification/PermissionDenied
2026-01-21T00:39:38.6519030Z === RUN   TestErrorClassification/Forbidden
2026-01-21T00:39:38.6519300Z === RUN   TestErrorClassification/AccessDenied
2026-01-21T00:39:38.6519540Z === RUN   TestErrorClassification/NotAuthorized
2026-01-21T00:39:38.6519790Z === RUN   TestErrorClassification/NotPermission
2026-01-21T00:39:38.6520050Z --- PASS: TestErrorClassification (0.00s)
2026-01-21T00:39:38.6520430Z     --- PASS: TestErrorClassification/ConnectionRefused (0.00s)
2026-01-21T00:39:38.6524220Z     --- PASS: TestErrorClassification/ConnectionReset (0.00s)
2026-01-21T00:39:38.6524600Z     --- PASS: TestErrorClassification/NoSuchHost (0.00s)
2026-01-21T00:39:38.6524980Z     --- PASS: TestErrorClassification/NetworkUnreachable (0.00s)
2026-01-21T00:39:38.6525350Z     --- PASS: TestErrorClassification/DialTCP (0.00s)
2026-01-21T00:39:38.6525710Z     --- PASS: TestErrorClassification/NotConnection (0.00s)
2026-01-21T00:39:38.6526060Z     --- PASS: TestErrorClassification/Timeout (0.00s)
2026-01-21T00:39:38.6526430Z     --- PASS: TestErrorClassification/DeadlineExceeded (0.00s)
2026-01-21T00:39:38.6526810Z     --- PASS: TestErrorClassification/RequestTimeout (0.00s)
2026-01-21T00:39:38.6527170Z     --- PASS: TestErrorClassification/NotTimeout (0.00s)
2026-01-21T00:39:38.6527520Z     --- PASS: TestErrorClassification/Unauthorized (0.00s)
2026-01-21T00:39:38.6528800Z     --- PASS: TestErrorClassification/AuthFailed (0.00s)
2026-01-21T00:39:38.6530960Z     --- PASS: TestErrorClassification/InvalidToken (0.00s)
2026-01-21T00:39:38.6532020Z     --- PASS: TestErrorClassification/TokenExpired (0.00s)
2026-01-21T00:39:38.6533020Z     --- PASS: TestErrorClassification/NotAuth (0.00s)
2026-01-21T00:39:38.6533940Z     --- PASS: TestErrorClassification/RateLimit (0.00s)
2026-01-21T00:39:38.6534970Z     --- PASS: TestErrorClassification/TooManyRequests (0.00s)
2026-01-21T00:39:38.6536030Z     --- PASS: TestErrorClassification/QuotaExceeded (0.00s)
2026-01-21T00:39:38.6537010Z     --- PASS: TestErrorClassification/Throttle (0.00s)
2026-01-21T00:39:38.6538000Z     --- PASS: TestErrorClassification/NotRateLimit (0.00s)
2026-01-21T00:39:38.6539040Z     --- PASS: TestErrorClassification/PermissionDenied (0.00s)
2026-01-21T00:39:38.6540040Z     --- PASS: TestErrorClassification/Forbidden (0.00s)
2026-01-21T00:39:38.6541040Z     --- PASS: TestErrorClassification/AccessDenied (0.00s)
2026-01-21T00:39:38.6542120Z     --- PASS: TestErrorClassification/NotAuthorized (0.00s)
2026-01-21T00:39:38.6543150Z     --- PASS: TestErrorClassification/NotPermission (0.00s)
2026-01-21T00:39:38.6543900Z === RUN   TestContainsHelper
2026-01-21T00:39:38.6544570Z === RUN   TestContainsHelper/hello_world_contains_hello
2026-01-21T00:39:38.6545720Z === RUN   TestContainsHelper/hello_world_contains_world
2026-01-21T00:39:38.6546540Z === RUN   TestContainsHelper/hello_world_contains_lo_wo
2026-01-21T00:39:38.6547350Z === RUN   TestContainsHelper/hello_world_contains_xyz
2026-01-21T00:39:38.6548160Z === RUN   TestContainsHelper/timeout_contains_timeout
2026-01-21T00:39:38.6549010Z === RUN   TestContainsHelper/connection_timeout_contains_timeout
2026-01-21T00:39:38.6550310Z === RUN   TestContainsHelper/_contains_timeout
2026-01-21T00:39:38.6571330Z === RUN   TestContainsHelper/timeout_contains_
2026-01-21T00:39:38.6577780Z --- PASS: TestContainsHelper (0.00s)
2026-01-21T00:39:38.6579860Z     --- PASS: TestContainsHelper/hello_world_contains_hello (0.00s)
2026-01-21T00:39:38.6580960Z     --- PASS: TestContainsHelper/hello_world_contains_world (0.00s)
2026-01-21T00:39:38.6582080Z     --- PASS: TestContainsHelper/hello_world_contains_lo_wo (0.00s)
2026-01-21T00:39:38.6583140Z     --- PASS: TestContainsHelper/hello_world_contains_xyz (0.00s)
2026-01-21T00:39:38.6584160Z     --- PASS: TestContainsHelper/timeout_contains_timeout (0.00s)
2026-01-21T00:39:38.6585320Z     --- PASS: TestContainsHelper/connection_timeout_contains_timeout (0.00s)
2026-01-21T00:39:38.6586380Z     --- PASS: TestContainsHelper/_contains_timeout (0.00s)
2026-01-21T00:39:38.6587310Z     --- PASS: TestContainsHelper/timeout_contains_ (0.00s)
2026-01-21T00:39:38.6587970Z === RUN   TestJobCollector
2026-01-21T00:39:38.6588440Z === RUN   TestJobCollector/Name
2026-01-21T00:39:38.6588950Z === RUN   TestJobCollector/Enabled
2026-01-21T00:39:38.6589480Z === RUN   TestJobCollector/Describe
2026-01-21T00:39:38.6590010Z === RUN   TestJobCollector/Collect
2026-01-21T00:39:38.6590590Z === RUN   TestJobCollector/CollectActiveJobs
2026-01-21T00:39:38.6591490Z === RUN   TestJobCollector/CollectJobQueueStats
2026-01-21T00:39:38.6592170Z === RUN   TestJobCollector/CollectJobStatesSummary
2026-01-21T00:39:38.6592850Z --- PASS: TestJobCollector (0.01s)
2026-01-21T00:39:38.6593750Z     --- PASS: TestJobCollector/Name (0.00s)
2026-01-21T00:39:38.6609940Z     --- PASS: TestJobCollector/Enabled (0.00s)
2026-01-21T00:39:38.6610270Z     --- PASS: TestJobCollector/Describe (0.00s)
2026-01-21T00:39:38.6610570Z     --- PASS: TestJobCollector/Collect (0.00s)
2026-01-21T00:39:38.6610910Z     --- PASS: TestJobCollector/CollectActiveJobs (0.00s)
2026-01-21T00:39:38.6611290Z     --- PASS: TestJobCollector/CollectJobQueueStats (0.00s)
2026-01-21T00:39:38.6611690Z     --- PASS: TestJobCollector/CollectJobStatesSummary (0.00s)
2026-01-21T00:39:38.6611970Z === RUN   TestJobCollectorUtilities
2026-01-21T00:39:38.6612210Z === RUN   TestJobCollectorUtilities/ParseJobState
2026-01-21T00:39:38.6612860Z --- PASS: TestJobCollectorUtilities (0.00s)
2026-01-21T00:39:38.6613230Z     --- PASS: TestJobCollectorUtilities/ParseJobState (0.00s)
2026-01-21T00:39:38.6613500Z === RUN   TestJobCollectorIntegration
2026-01-21T00:39:38.6613870Z     job_test.go:335: Successfully collected 34 metrics
2026-01-21T00:39:38.6614400Z     job_test.go:336: Metric breakdown: map[allocations:9 info:3 requests:9 scheduling:7 states:6]
2026-01-21T00:39:38.6614800Z --- PASS: TestJobCollectorIntegration (0.03s)
2026-01-21T00:39:38.6615070Z === RUN   TestJobsSimpleCollector_Describe
2026-01-21T00:39:38.6615350Z --- PASS: TestJobsSimpleCollector_Describe (0.00s)
2026-01-21T00:39:38.6615650Z === RUN   TestJobsSimpleCollector_Collect_Success
2026-01-21T00:39:38.6616060Z time="2026-01-21T00:39:36Z" level=info msg="Collected job entries" collector=jobs count=5 test=true
2026-01-21T00:39:38.6616480Z --- PASS: TestJobsSimpleCollector_Collect_Success (0.00s)
2026-01-21T00:39:38.6616770Z === RUN   TestJobsSimpleCollector_Collect_Disabled
2026-01-21T00:39:38.6617070Z --- PASS: TestJobsSimpleCollector_Collect_Disabled (0.00s)
2026-01-21T00:39:38.6618500Z === RUN   TestJobsSimpleCollector_Collect_Error
2026-01-21T00:39:38.6619870Z time="2026-01-21T00:39:36Z" level=error msg="Failed to list jobs" collector=jobs error="assert.AnError general error for testing" test=true
2026-01-21T00:39:38.6621420Z --- PASS: TestJobsSimpleCollector_Collect_Error (0.00s)
2026-01-21T00:39:38.6622170Z === RUN   TestJobsSimpleCollector_Filtering
2026-01-21T00:39:38.6623200Z time="2026-01-21T00:39:36Z" level=info msg="Collected job entries" collector=jobs count=5 test=true
2026-01-21T00:39:38.6624240Z --- PASS: TestJobsSimpleCollector_Filtering (0.00s)
2026-01-21T00:39:38.6625160Z === RUN   TestJobsSimpleCollector_CustomLabels
2026-01-21T00:39:38.6625620Z time="2026-01-21T00:39:36Z" level=info msg="Collected job entries" collector=jobs count=5 test=true
2026-01-21T00:39:38.6626040Z --- PASS: TestJobsSimpleCollector_CustomLabels (0.00s)
2026-01-21T00:39:38.6626830Z === RUN   TestJobsSimpleCollector_EmptyJobList
2026-01-21T00:39:38.6627250Z time="2026-01-21T00:39:36Z" level=info msg="Collected job entries" collector=jobs count=0 test=true
2026-01-21T00:39:38.6627640Z --- PASS: TestJobsSimpleCollector_EmptyJobList (0.00s)
2026-01-21T00:39:38.6627880Z === RUN   TestLabelHelper
2026-01-21T00:39:38.6628090Z === RUN   TestLabelHelper/ValidateAndBuildMetric
2026-01-21T00:39:38.6628380Z === RUN   TestLabelHelper/ValidateAndBuildMetricLabelMismatch
2026-01-21T00:39:38.6628640Z --- PASS: TestLabelHelper (0.00s)
2026-01-21T00:39:38.6628960Z     --- PASS: TestLabelHelper/ValidateAndBuildMetric (0.00s)
2026-01-21T00:39:38.6629410Z     --- PASS: TestLabelHelper/ValidateAndBuildMetricLabelMismatch (0.00s)
2026-01-21T00:39:38.6631140Z === RUN   TestStandardLabelSets
2026-01-21T00:39:38.6631350Z === RUN   TestStandardLabelSets/ClusterLabels
2026-01-21T00:39:38.6631680Z === RUN   TestStandardLabelSets/NodeLabels
2026-01-21T00:39:38.6631890Z === RUN   TestStandardLabelSets/JobLabels
2026-01-21T00:39:38.6632130Z === RUN   TestStandardLabelSets/PartitionLabels
2026-01-21T00:39:38.6632370Z === RUN   TestStandardLabelSets/UserLabels
2026-01-21T00:39:38.6632590Z === RUN   TestStandardLabelSets/StateLabels
2026-01-21T00:39:38.6632820Z --- PASS: TestStandardLabelSets (0.01s)
2026-01-21T00:39:38.6633150Z     --- PASS: TestStandardLabelSets/ClusterLabels (0.00s)
2026-01-21T00:39:38.6633490Z     --- PASS: TestStandardLabelSets/NodeLabels (0.00s)
2026-01-21T00:39:38.6633830Z     --- PASS: TestStandardLabelSets/JobLabels (0.00s)
2026-01-21T00:39:38.6634220Z     --- PASS: TestStandardLabelSets/PartitionLabels (0.00s)
2026-01-21T00:39:38.6634600Z     --- PASS: TestStandardLabelSets/UserLabels (0.00s)
2026-01-21T00:39:38.6634960Z     --- PASS: TestStandardLabelSets/StateLabels (0.00s)
2026-01-21T00:39:38.6635190Z === RUN   TestLabelSetBuilder
2026-01-21T00:39:38.6635410Z === RUN   TestLabelSetBuilder/FluentInterface
2026-01-21T00:39:38.6635680Z === RUN   TestLabelSetBuilder/WithJob
2026-01-21T00:39:38.6639380Z === RUN   TestLabelSetBuilder/WithCustom
2026-01-21T00:39:38.6639600Z === RUN   TestLabelSetBuilder/BuildSlice
2026-01-21T00:39:38.6639810Z --- PASS: TestLabelSetBuilder (0.00s)
2026-01-21T00:39:38.6640130Z     --- PASS: TestLabelSetBuilder/FluentInterface (0.00s)
2026-01-21T00:39:38.6640480Z     --- PASS: TestLabelSetBuilder/WithJob (0.00s)
2026-01-21T00:39:38.6640840Z     --- PASS: TestLabelSetBuilder/WithCustom (0.00s)
2026-01-21T00:39:38.6641190Z     --- PASS: TestLabelSetBuilder/BuildSlice (0.00s)
2026-01-21T00:39:38.6641430Z === RUN   TestDimensionalAnalysisReporter
2026-01-21T00:39:38.6641750Z === RUN   TestDimensionalAnalysisReporter/LogCardinalityAnalysis
2026-01-21T00:39:38.6642150Z === RUN   TestDimensionalAnalysisReporter/LogHighCardinalityWarnings
2026-01-21T00:39:38.6642510Z === RUN   TestDimensionalAnalysisReporter/LogRecommendations
2026-01-21T00:39:38.6642810Z --- PASS: TestDimensionalAnalysisReporter (0.00s)
2026-01-21T00:39:38.6644650Z     --- PASS: TestDimensionalAnalysisReporter/LogCardinalityAnalysis (0.00s)
2026-01-21T00:39:38.6645250Z     --- PASS: TestDimensionalAnalysisReporter/LogHighCardinalityWarnings (0.00s)
2026-01-21T00:39:38.6645770Z     --- PASS: TestDimensionalAnalysisReporter/LogRecommendations (0.00s)
2026-01-21T00:39:38.6646100Z === RUN   TestGetLabelNames
2026-01-21T00:39:38.6646340Z === RUN   TestGetLabelNames/GetLabelNames
2026-01-21T00:39:38.6646580Z --- PASS: TestGetLabelNames (0.00s)
2026-01-21T00:39:38.6646910Z     --- PASS: TestGetLabelNames/GetLabelNames (0.00s)
2026-01-21T00:39:38.6647190Z === RUN   TestLicensesCollector_Describe
2026-01-21T00:39:38.6647440Z --- PASS: TestLicensesCollector_Describe (0.00s)
2026-01-21T00:39:38.6647740Z === RUN   TestLicensesCollector_Collect_Success
2026-01-21T00:39:38.6648200Z time="2026-01-21T00:39:36Z" level=debug msg="Collecting license metrics" collector=licenses test=true
2026-01-21T00:39:38.6648810Z time="2026-01-21T00:39:36Z" level=debug msg="License metrics collected" collector=licenses license_count=2 test=true
2026-01-21T00:39:38.6651220Z --- PASS: TestLicensesCollector_Collect_Success (0.00s)
2026-01-21T00:39:38.6651540Z === RUN   TestLicensesCollector_Collect_Error
2026-01-21T00:39:38.6651980Z time="2026-01-21T00:39:36Z" level=debug msg="Collecting license metrics" collector=licenses test=true
2026-01-21T00:39:38.6652700Z time="2026-01-21T00:39:36Z" level=error msg="Failed to get licenses" collector=licenses error="assert.AnError general error for testing" test=true
2026-01-21T00:39:38.6653300Z --- PASS: TestLicensesCollector_Collect_Error (0.00s)
2026-01-21T00:39:38.6653590Z === RUN   TestLicensesCollector_EmptyLicenseList
2026-01-21T00:39:38.6654000Z time="2026-01-21T00:39:36Z" level=debug msg="Collecting license metrics" collector=licenses test=true
2026-01-21T00:39:38.6654590Z time="2026-01-21T00:39:36Z" level=debug msg="License metrics collected" collector=licenses license_count=0 test=true
2026-01-21T00:39:38.6655910Z --- PASS: TestLicensesCollector_EmptyLicenseList (0.00s)
2026-01-21T00:39:38.6656200Z === RUN   TestLoggingCollector
2026-01-21T00:39:38.6656450Z === RUN   TestLoggingCollector/SuccessfulCollection
2026-01-21T00:39:38.6656730Z === RUN   TestLoggingCollector/FailedCollection
2026-01-21T00:39:38.6656990Z === RUN   TestLoggingCollector/DisabledCollector
2026-01-21T00:39:38.6657240Z === RUN   TestLoggingCollector/SetEnabled
2026-01-21T00:39:38.6657460Z === RUN   TestLoggingCollector/Describe
2026-01-21T00:39:38.6657680Z --- PASS: TestLoggingCollector (0.00s)
2026-01-21T00:39:38.6658080Z     --- PASS: TestLoggingCollector/SuccessfulCollection (0.00s)
2026-01-21T00:39:38.6658520Z     --- PASS: TestLoggingCollector/FailedCollection (0.00s)
2026-01-21T00:39:38.6658930Z     --- PASS: TestLoggingCollector/DisabledCollector (0.00s)
2026-01-21T00:39:38.6660540Z     --- PASS: TestLoggingCollector/SetEnabled (0.00s)
2026-01-21T00:39:38.6661650Z     --- PASS: TestLoggingCollector/Describe (0.00s)
2026-01-21T00:39:38.6662340Z === RUN   TestCollectorLogger
2026-01-21T00:39:38.6662900Z === RUN   TestCollectorLogger/LogCollection
2026-01-21T00:39:38.6664100Z === RUN   TestCollectorLogger/LogError
2026-01-21T00:39:38.6664680Z === RUN   TestCollectorLogger/LogMetric
2026-01-21T00:39:38.6665290Z === RUN   TestCollectorLogger/LogPerformance
2026-01-21T00:39:38.6665900Z --- PASS: TestCollectorLogger (0.00s)
2026-01-21T00:39:38.6666690Z     --- PASS: TestCollectorLogger/LogCollection (0.00s)
2026-01-21T00:39:38.6667550Z     --- PASS: TestCollectorLogger/LogError (0.00s)
2026-01-21T00:39:38.6668380Z     --- PASS: TestCollectorLogger/LogMetric (0.00s)
2026-01-21T00:39:38.6669260Z     --- PASS: TestCollectorLogger/LogPerformance (0.00s)
2026-01-21T00:39:38.6670000Z === RUN   TestStructuredLogger
2026-01-21T00:39:38.6670590Z === RUN   TestStructuredLogger/WithCollector
2026-01-21T00:39:38.6671300Z === RUN   TestStructuredLogger/WithOperation
2026-01-21T00:39:38.6671970Z === RUN   TestStructuredLogger/WithDuration
2026-01-21T00:39:38.6672610Z === RUN   TestStructuredLogger/WithError
2026-01-21T00:39:38.6673250Z === RUN   TestStructuredLogger/WithContext
2026-01-21T00:39:38.6673920Z === RUN   TestStructuredLogger/LogEntry
2026-01-21T00:39:38.6674540Z --- PASS: TestStructuredLogger (0.00s)
2026-01-21T00:39:38.6675570Z     --- PASS: TestStructuredLogger/WithCollector (0.00s)
2026-01-21T00:39:38.6675950Z     --- PASS: TestStructuredLogger/WithOperation (0.00s)
2026-01-21T00:39:38.6676300Z     --- PASS: TestStructuredLogger/WithDuration (0.00s)
2026-01-21T00:39:38.6676630Z     --- PASS: TestStructuredLogger/WithError (0.00s)
2026-01-21T00:39:38.6676970Z     --- PASS: TestStructuredLogger/WithContext (0.00s)
2026-01-21T00:39:38.6677310Z     --- PASS: TestStructuredLogger/LogEntry (0.00s)
2026-01-21T00:39:38.6677550Z === RUN   TestNodeCollector
2026-01-21T00:39:38.6677760Z === RUN   TestNodeCollector/Name
2026-01-21T00:39:38.6677970Z === RUN   TestNodeCollector/Enabled
2026-01-21T00:39:38.6678190Z === RUN   TestNodeCollector/Describe
2026-01-21T00:39:38.6678430Z === RUN   TestNodeCollector/Collect
2026-01-21T00:39:38.6678700Z === RUN   TestNodeCollector/CollectNodeInfo
2026-01-21T00:39:38.6679340Z === RUN   TestNodeCollector/CollectNodeStates
2026-01-21T00:39:38.6679630Z === RUN   TestNodeCollector/CollectNodeUtilization
2026-01-21T00:39:38.6679910Z === RUN   TestNodeCollector/CollectNodeHealth
2026-01-21T00:39:38.6684410Z --- PASS: TestNodeCollector (0.01s)
2026-01-21T00:39:38.6685180Z     --- PASS: TestNodeCollector/Name (0.00s)
2026-01-21T00:39:38.6685950Z     --- PASS: TestNodeCollector/Enabled (0.00s)
2026-01-21T00:39:38.6686790Z     --- PASS: TestNodeCollector/Describe (0.00s)
2026-01-21T00:39:38.6688900Z     --- PASS: TestNodeCollector/Collect (0.00s)
2026-01-21T00:39:38.6689560Z     --- PASS: TestNodeCollector/CollectNodeInfo (0.00s)
2026-01-21T00:39:38.6689940Z     --- PASS: TestNodeCollector/CollectNodeStates (0.00s)
2026-01-21T00:39:38.6690340Z     --- PASS: TestNodeCollector/CollectNodeUtilization (0.00s)
2026-01-21T00:39:38.6690820Z     --- PASS: TestNodeCollector/CollectNodeHealth (0.00s)
2026-01-21T00:39:38.6691110Z === RUN   TestNodeCollectorIntegration
2026-01-21T00:39:38.6691500Z     node_test.go:365: Successfully collected 65 metrics
2026-01-21T00:39:38.6692030Z     node_test.go:366: Metric breakdown: map[hardware:8 health:15 info:3 state:24 utilization:6]
2026-01-21T00:39:38.6692430Z --- PASS: TestNodeCollectorIntegration (0.01s)
2026-01-21T00:39:38.6692690Z === RUN   TestNodesSimpleCollector_Describe
2026-01-21T00:39:38.6692970Z --- PASS: TestNodesSimpleCollector_Describe (0.00s)
2026-01-21T00:39:38.6693250Z === RUN   TestNodesSimpleCollector_Collect_Success
2026-01-21T00:39:38.6693650Z time="2026-01-21T00:39:36Z" level=info msg="Collected node entries" collector=nodes count=6 test=true
2026-01-21T00:39:38.6696970Z --- PASS: TestNodesSimpleCollector_Collect_Success (0.00s)
2026-01-21T00:39:38.6697260Z === RUN   TestNodesSimpleCollector_Collect_Disabled
2026-01-21T00:39:38.6697550Z --- PASS: TestNodesSimpleCollector_Collect_Disabled (0.00s)
2026-01-21T00:39:38.6697840Z === RUN   TestNodesSimpleCollector_Collect_Error
2026-01-21T00:39:38.6698580Z time="2026-01-21T00:39:36Z" level=error msg="Failed to list nodes" collector=nodes error="assert.AnError general error for testing" test=true
2026-01-21T00:39:38.6699080Z --- PASS: TestNodesSimpleCollector_Collect_Error (0.00s)
2026-01-21T00:39:38.6699360Z === RUN   TestNodesSimpleCollector_CustomLabels
2026-01-21T00:39:38.6699750Z time="2026-01-21T00:39:36Z" level=info msg="Collected node entries" collector=nodes count=6 test=true
2026-01-21T00:39:38.6700170Z --- PASS: TestNodesSimpleCollector_CustomLabels (0.00s)
2026-01-21T00:39:38.6700460Z === RUN   TestNodesSimpleCollector_EmptyNodeList
2026-01-21T00:39:38.6700870Z time="2026-01-21T00:39:36Z" level=info msg="Collected node entries" collector=nodes count=0 test=true
2026-01-21T00:39:38.6705720Z --- PASS: TestNodesSimpleCollector_EmptyNodeList (0.00s)
2026-01-21T00:39:38.6706030Z === RUN   TestNodesSimpleCollector_StateDistribution
2026-01-21T00:39:38.6706470Z time="2026-01-21T00:39:36Z" level=info msg="Collected node entries" collector=nodes count=6 test=true
2026-01-21T00:39:38.6706910Z --- PASS: TestNodesSimpleCollector_StateDistribution (0.00s)
2026-01-21T00:39:38.6707220Z === RUN   TestNodesSimpleCollector_ResourceMetrics
2026-01-21T00:39:38.6707610Z time="2026-01-21T00:39:36Z" level=info msg="Collected node entries" collector=nodes count=6 test=true
2026-01-21T00:39:38.6708020Z --- PASS: TestNodesSimpleCollector_ResourceMetrics (0.00s)
2026-01-21T00:39:38.6708280Z === RUN   TestPartitionCollector
2026-01-21T00:39:38.6708500Z === RUN   TestPartitionCollector/Name
2026-01-21T00:39:38.6708730Z === RUN   TestPartitionCollector/Enabled
2026-01-21T00:39:38.6708940Z === RUN   TestPartitionCollector/Describe
2026-01-21T00:39:38.6709160Z === RUN   TestPartitionCollector/Collect
2026-01-21T00:39:38.6709410Z === RUN   TestPartitionCollector/CollectPartitionInfo
2026-01-21T00:39:38.6709710Z === RUN   TestPartitionCollector/CollectPartitionUtilization
2026-01-21T00:39:38.6711370Z === RUN   TestPartitionCollector/CollectPartitionPolicies
2026-01-21T00:39:38.6712040Z --- PASS: TestPartitionCollector (0.01s)
2026-01-21T00:39:38.6712400Z     --- PASS: TestPartitionCollector/Name (0.00s)
2026-01-21T00:39:38.6712730Z     --- PASS: TestPartitionCollector/Enabled (0.00s)
2026-01-21T00:39:38.6713090Z     --- PASS: TestPartitionCollector/Describe (0.00s)
2026-01-21T00:39:38.6713440Z     --- PASS: TestPartitionCollector/Collect (0.00s)
2026-01-21T00:39:38.6713860Z     --- PASS: TestPartitionCollector/CollectPartitionInfo (0.00s)
2026-01-21T00:39:38.6714320Z     --- PASS: TestPartitionCollector/CollectPartitionUtilization (0.00s)
2026-01-21T00:39:38.6714790Z     --- PASS: TestPartitionCollector/CollectPartitionPolicies (0.00s)
2026-01-21T00:39:38.6715080Z === RUN   TestPartitionCollectorDataTypes
2026-01-21T00:39:38.6715370Z === RUN   TestPartitionCollectorDataTypes/PartitionInfo
2026-01-21T00:39:38.6715700Z === RUN   TestPartitionCollectorDataTypes/PartitionLimits
2026-01-21T00:39:38.6717600Z === RUN   TestPartitionCollectorDataTypes/PartitionPolicies
2026-01-21T00:39:38.6717940Z --- PASS: TestPartitionCollectorDataTypes (0.00s)
2026-01-21T00:39:38.6718380Z     --- PASS: TestPartitionCollectorDataTypes/PartitionInfo (0.00s)
2026-01-21T00:39:38.6718830Z     --- PASS: TestPartitionCollectorDataTypes/PartitionLimits (0.00s)
2026-01-21T00:39:38.6719330Z     --- PASS: TestPartitionCollectorDataTypes/PartitionPolicies (0.00s)
2026-01-21T00:39:38.6719670Z === RUN   TestPartitionCollectorIntegration
2026-01-21T00:39:38.6737030Z     partition_test.go:423: Successfully collected 85 metrics
2026-01-21T00:39:38.6737640Z     partition_test.go:424: Metric breakdown: map[info:5 policies:15 resources:25 state:20 utilization:20]
2026-01-21T00:39:38.6738050Z --- PASS: TestPartitionCollectorIntegration (0.01s)
2026-01-21T00:39:38.6738340Z === RUN   TestPartitionsSimpleCollector_Describe
2026-01-21T00:39:38.6738630Z --- PASS: TestPartitionsSimpleCollector_Describe (0.00s)
2026-01-21T00:39:38.6738920Z === RUN   TestPartitionsSimpleCollector_Collect_Success
2026-01-21T00:39:38.6739680Z time="2026-01-21T00:39:36Z" level=info msg="Collected partition entries" collector=partitions count=5 test=true
2026-01-21T00:39:38.6740190Z --- PASS: TestPartitionsSimpleCollector_Collect_Success (0.00s)
2026-01-21T00:39:38.6740510Z === RUN   TestPartitionsSimpleCollector_Collect_Disabled
2026-01-21T00:39:38.6741600Z --- PASS: TestPartitionsSimpleCollector_Collect_Disabled (0.00s)
2026-01-21T00:39:38.6742810Z === RUN   TestPartitionsSimpleCollector_Collect_Error
2026-01-21T00:39:38.6744990Z time="2026-01-21T00:39:36Z" level=error msg="Failed to list partitions" collector=partitions error="assert.AnError general error for testing" test=true
2026-01-21T00:39:38.6746180Z --- PASS: TestPartitionsSimpleCollector_Collect_Error (0.00s)
2026-01-21T00:39:38.6746530Z === RUN   TestPartitionsSimpleCollector_StateMetrics
2026-01-21T00:39:38.6747000Z time="2026-01-21T00:39:36Z" level=info msg="Collected partition entries" collector=partitions count=5 test=true
2026-01-21T00:39:38.6747460Z --- PASS: TestPartitionsSimpleCollector_StateMetrics (0.00s)
2026-01-21T00:39:38.6747800Z === RUN   TestPartitionsSimpleCollector_ResourceMetrics
2026-01-21T00:39:38.6748250Z time="2026-01-21T00:39:36Z" level=info msg="Collected partition entries" collector=partitions count=5 test=true
2026-01-21T00:39:38.6748720Z --- PASS: TestPartitionsSimpleCollector_ResourceMetrics (0.00s)
2026-01-21T00:39:38.6749040Z === RUN   TestPartitionsSimpleCollector_LimitMetrics
2026-01-21T00:39:38.6749480Z time="2026-01-21T00:39:36Z" level=info msg="Collected partition entries" collector=partitions count=5 test=true
2026-01-21T00:39:38.6749980Z --- PASS: TestPartitionsSimpleCollector_LimitMetrics (0.00s)
2026-01-21T00:39:38.6750330Z === RUN   TestPartitionsSimpleCollector_EmptyPartitionList
2026-01-21T00:39:38.6750810Z time="2026-01-21T00:39:36Z" level=info msg="Collected partition entries" collector=partitions count=0 test=true
2026-01-21T00:39:38.6751280Z --- PASS: TestPartitionsSimpleCollector_EmptyPartitionList (0.00s)
2026-01-21T00:39:38.6751610Z === RUN   TestPartitionsSimpleCollector_QOSMetrics
2026-01-21T00:39:38.6752560Z time="2026-01-21T00:39:36Z" level=info msg="Collected partition entries" collector=partitions count=5 test=true
2026-01-21T00:39:38.6753040Z --- PASS: TestPartitionsSimpleCollector_QOSMetrics (0.00s)
2026-01-21T00:39:38.6753360Z === RUN   TestPartitionsSimpleCollector_ActivePartitions
2026-01-21T00:39:38.6753800Z time="2026-01-21T00:39:36Z" level=info msg="Collected partition entries" collector=partitions count=4 test=true
2026-01-21T00:39:38.6754260Z --- PASS: TestPartitionsSimpleCollector_ActivePartitions (0.00s)
2026-01-21T00:39:38.6754560Z === RUN   TestPerformanceSimpleCollector_Describe
2026-01-21T00:39:38.6754860Z --- PASS: TestPerformanceSimpleCollector_Describe (0.00s)
2026-01-21T00:39:38.6755160Z === RUN   TestPerformanceSimpleCollector_Collect_Success
2026-01-21T00:39:38.6755660Z time="2026-01-21T00:39:36Z" level=info msg="Collected performance data" collector=performance jobs=1 nodes=1 partitions=1 test=true
2026-01-21T00:39:38.6756170Z --- PASS: TestPerformanceSimpleCollector_Collect_Success (0.00s)
2026-01-21T00:39:38.6756500Z === RUN   TestPerformanceSimpleCollector_Collect_Disabled
2026-01-21T00:39:38.6756830Z --- PASS: TestPerformanceSimpleCollector_Collect_Disabled (0.00s)
2026-01-21T00:39:38.6757090Z === RUN   TestProfiledCollector
2026-01-21T00:39:38.6757320Z === RUN   TestProfiledCollector/NewProfiledCollector
2026-01-21T00:39:38.6757570Z === RUN   TestProfiledCollector/NilCollector
2026-01-21T00:39:38.6757790Z === RUN   TestProfiledCollector/Collect
2026-01-21T00:39:38.6758030Z === RUN   TestProfiledCollector/CollectWithError
2026-01-21T00:39:38.6758430Z time="2026-01-21T00:39:36Z" level=error msg="Collection failed" collector=error_collector error="test error"
2026-01-21T00:39:38.6758830Z === RUN   TestProfiledCollector/SlowCollection
2026-01-21T00:39:38.6759080Z === RUN   TestProfiledCollector/ProfilingDisabled
2026-01-21T00:39:38.6759320Z --- PASS: TestProfiledCollector (0.13s)
2026-01-21T00:39:38.6759810Z     --- PASS: TestProfiledCollector/NewProfiledCollector (0.00s)
2026-01-21T00:39:38.6760190Z     --- PASS: TestProfiledCollector/NilCollector (0.00s)
2026-01-21T00:39:38.6760530Z     --- PASS: TestProfiledCollector/Collect (0.03s)
2026-01-21T00:39:38.6760890Z     --- PASS: TestProfiledCollector/CollectWithError (0.01s)
2026-01-21T00:39:38.6761260Z     --- PASS: TestProfiledCollector/SlowCollection (0.09s)
2026-01-21T00:39:38.6761630Z     --- PASS: TestProfiledCollector/ProfilingDisabled (0.00s)
2026-01-21T00:39:38.6761890Z === RUN   TestProfiledCollectorManager
2026-01-21T00:39:38.6762140Z === RUN   TestProfiledCollectorManager/WrapCollector
2026-01-21T00:39:38.6762430Z === RUN   TestProfiledCollectorManager/SetProfilingEnabled
2026-01-21T00:39:38.6762740Z === RUN   TestProfiledCollectorManager/SetProfilingEnabledAll
2026-01-21T00:39:38.6763080Z === RUN   TestProfiledCollectorManager/GetCollectorProfiles
2026-01-21T00:39:38.6763380Z === RUN   TestProfiledCollectorManager/GetAllProfiles
2026-01-21T00:39:38.6763640Z === RUN   TestProfiledCollectorManager/GetStats
2026-01-21T00:39:38.6763900Z --- PASS: TestProfiledCollectorManager (0.04s)
2026-01-21T00:39:38.6764270Z     --- PASS: TestProfiledCollectorManager/WrapCollector (0.00s)
2026-01-21T00:39:38.6764700Z     --- PASS: TestProfiledCollectorManager/SetProfilingEnabled (0.00s)
2026-01-21T00:39:38.6765170Z     --- PASS: TestProfiledCollectorManager/SetProfilingEnabledAll (0.00s)
2026-01-21T00:39:38.6765650Z     --- PASS: TestProfiledCollectorManager/GetCollectorProfiles (0.04s)
2026-01-21T00:39:38.6766080Z     --- PASS: TestProfiledCollectorManager/GetAllProfiles (0.00s)
2026-01-21T00:39:38.6766470Z     --- PASS: TestProfiledCollectorManager/GetStats (0.00s)
2026-01-21T00:39:38.6766720Z === RUN   TestQoSCollector_Describe
2026-01-21T00:39:38.6768840Z --- PASS: TestQoSCollector_Describe (0.00s)
2026-01-21T00:39:38.6769570Z === RUN   TestQoSCollector_Collect_Success
2026-01-21T00:39:38.6770610Z time="2026-01-21T00:39:36Z" level=debug msg="Collected QoS entries" collector=qos count=2 test=true
2026-01-21T00:39:38.6772200Z --- PASS: TestQoSCollector_Collect_Success (0.00s)
2026-01-21T00:39:38.6772880Z === RUN   TestQoSCollector_Collect_Disabled
2026-01-21T00:39:38.6773560Z --- PASS: TestQoSCollector_Collect_Disabled (0.00s)
2026-01-21T00:39:38.6774280Z === RUN   TestQoSCollector_Collect_Error
2026-01-21T00:39:38.6775550Z time="2026-01-21T00:39:36Z" level=error msg="Failed to list QoS" collector=qos error="assert.AnError general error for testing" test=true
2026-01-21T00:39:38.6776930Z --- PASS: TestQoSCollector_Collect_Error (0.00s)
2026-01-21T00:39:38.6777620Z === RUN   TestQoSCollector_EmptyQoSList
2026-01-21T00:39:38.6778660Z time="2026-01-21T00:39:36Z" level=debug msg="Collected QoS entries" collector=qos count=0 test=true
2026-01-21T00:39:38.6779700Z --- PASS: TestQoSCollector_EmptyQoSList (0.00s)
2026-01-21T00:39:38.6780300Z === RUN   TestRegistry
2026-01-21T00:39:38.6780800Z === RUN   TestRegistry/RegisterAndGet
2026-01-21T00:39:38.6781880Z time="2026-01-21T00:39:36Z" level=info msg="Collector registered" collector=test component=collector_registry
2026-01-21T00:39:38.6782930Z === RUN   TestRegistry/List
2026-01-21T00:39:38.6784240Z time="2026-01-21T00:39:36Z" level=warning msg="Failed to unregister collector from prometheus" collector=test component=collector_registry
2026-01-21T00:39:38.6786060Z time="2026-01-21T00:39:36Z" level=info msg="Collector unregistered" collector=test component=collector_registry
2026-01-21T00:39:38.6787630Z time="2026-01-21T00:39:36Z" level=info msg="Collector registered" collector=a component=collector_registry
2026-01-21T00:39:38.6789130Z time="2026-01-21T00:39:36Z" level=info msg="Collector registered" collector=b component=collector_registry
2026-01-21T00:39:38.6790610Z time="2026-01-21T00:39:36Z" level=info msg="Collector registered" collector=c component=collector_registry
2026-01-21T00:39:38.6791610Z === RUN   TestRegistry/EnableDisable
2026-01-21T00:39:38.6792710Z time="2026-01-21T00:39:36Z" level=info msg="Collector registered" collector=toggle component=collector_registry
2026-01-21T00:39:38.6795310Z time="2026-01-21T00:39:36Z" level=info msg="Collector disabled" collector=toggle component=collector_registry
2026-01-21T00:39:38.6795930Z time="2026-01-21T00:39:36Z" level=info msg="Collector enabled" collector=toggle component=collector_registry
2026-01-21T00:39:38.6796310Z === RUN   TestRegistry/Unregister
2026-01-21T00:39:38.6796690Z time="2026-01-21T00:39:36Z" level=info msg="Collector registered" collector=temp component=collector_registry
2026-01-21T00:39:38.6797360Z time="2026-01-21T00:39:36Z" level=warning msg="Failed to unregister collector from prometheus" collector=temp component=collector_registry
2026-01-21T00:39:38.6798010Z time="2026-01-21T00:39:37Z" level=info msg="Collector unregistered" collector=temp component=collector_registry
2026-01-21T00:39:38.6798760Z === RUN   TestRegistry/CollectAll
2026-01-21T00:39:38.6799220Z time="2026-01-21T00:39:37Z" level=warning msg="Failed to unregister collector from prometheus" collector=a component=collector_registry
2026-01-21T00:39:38.6799880Z time="2026-01-21T00:39:37Z" level=info msg="Collector unregistered" collector=a component=collector_registry
2026-01-21T00:39:38.6800520Z time="2026-01-21T00:39:37Z" level=warning msg="Failed to unregister collector from prometheus" collector=b component=collector_registry
2026-01-21T00:39:38.6801170Z time="2026-01-21T00:39:37Z" level=info msg="Collector unregistered" collector=b component=collector_registry
2026-01-21T00:39:38.6801840Z time="2026-01-21T00:39:37Z" level=warning msg="Failed to unregister collector from prometheus" collector=c component=collector_registry
2026-01-21T00:39:38.6802510Z time="2026-01-21T00:39:37Z" level=info msg="Collector unregistered" collector=c component=collector_registry
2026-01-21T00:39:38.6803210Z time="2026-01-21T00:39:37Z" level=warning msg="Failed to unregister collector from prometheus" collector=toggle component=collector_registry
2026-01-21T00:39:38.6804370Z time="2026-01-21T00:39:37Z" level=info msg="Collector unregistered" collector=toggle component=collector_registry
2026-01-21T00:39:38.6804980Z time="2026-01-21T00:39:37Z" level=info msg="Collector registered" collector=success component=collector_registry
2026-01-21T00:39:38.6805560Z time="2026-01-21T00:39:37Z" level=info msg="Collector registered" collector=fail component=collector_registry
2026-01-21T00:39:38.6806140Z time="2026-01-21T00:39:37Z" level=info msg="Collector registered" collector=disabled component=collector_registry
2026-01-21T00:39:38.6806520Z === RUN   TestRegistry/GetStats
2026-01-21T00:39:38.6807010Z time="2026-01-21T00:39:37Z" level=warning msg="Failed to unregister collector from prometheus" collector=success component=collector_registry
2026-01-21T00:39:38.6807700Z time="2026-01-21T00:39:37Z" level=info msg="Collector unregistered" collector=success component=collector_registry
2026-01-21T00:39:38.6808380Z time="2026-01-21T00:39:37Z" level=warning msg="Failed to unregister collector from prometheus" collector=fail component=collector_registry
2026-01-21T00:39:38.6809160Z time="2026-01-21T00:39:37Z" level=info msg="Collector unregistered" collector=fail component=collector_registry
2026-01-21T00:39:38.6809820Z time="2026-01-21T00:39:37Z" level=warning msg="Failed to unregister collector from prometheus" collector=disabled component=collector_registry
2026-01-21T00:39:38.6810480Z time="2026-01-21T00:39:37Z" level=info msg="Collector unregistered" collector=disabled component=collector_registry
2026-01-21T00:39:38.6811050Z time="2026-01-21T00:39:37Z" level=info msg="Collector registered" collector=mock component=collector_registry
2026-01-21T00:39:38.6811600Z time="2026-01-21T00:39:37Z" level=info msg="Collector registered" collector=base component=collector_registry
2026-01-21T00:39:38.6811980Z --- PASS: TestRegistry (0.00s)
2026-01-21T00:39:38.6812270Z     --- PASS: TestRegistry/RegisterAndGet (0.00s)
2026-01-21T00:39:38.6812560Z     --- PASS: TestRegistry/List (0.00s)
2026-01-21T00:39:38.6812840Z     --- PASS: TestRegistry/EnableDisable (0.00s)
2026-01-21T00:39:38.6813340Z     --- PASS: TestRegistry/Unregister (0.00s)
2026-01-21T00:39:38.6813620Z     --- PASS: TestRegistry/CollectAll (0.00s)
2026-01-21T00:39:38.6813900Z     --- PASS: TestRegistry/GetStats (0.00s)
2026-01-21T00:39:38.6814100Z === RUN   TestCollectorAdapter
2026-01-21T00:39:38.6814300Z === RUN   TestCollectorAdapter/Describe
2026-01-21T00:39:38.6814530Z === RUN   TestCollectorAdapter/Collect
2026-01-21T00:39:38.6814770Z === RUN   TestCollectorAdapter/CollectWithError
2026-01-21T00:39:38.6815180Z time="2026-01-21T00:39:37Z" level=error msg="Collection failed" collector=error_test error="collection error"
2026-01-21T00:39:38.6815560Z --- PASS: TestCollectorAdapter (0.00s)
2026-01-21T00:39:38.6815880Z     --- PASS: TestCollectorAdapter/Describe (0.00s)
2026-01-21T00:39:38.6816200Z     --- PASS: TestCollectorAdapter/Collect (0.00s)
2026-01-21T00:39:38.6816560Z     --- PASS: TestCollectorAdapter/CollectWithError (0.00s)
2026-01-21T00:39:38.6816840Z === RUN   TestCollectorFactory
2026-01-21T00:39:38.6817040Z --- PASS: TestCollectorFactory (0.00s)
2026-01-21T00:39:38.6817270Z === RUN   TestReservationCollector_Describe
2026-01-21T00:39:38.6817520Z --- PASS: TestReservationCollector_Describe (0.00s)
2026-01-21T00:39:38.6817790Z === RUN   TestReservationCollector_Collect_Success
2026-01-21T00:39:38.6818240Z time="2026-01-21T00:39:37Z" level=debug msg="Collected reservation entries" collector=reservation count=2 test=true
2026-01-21T00:39:38.6818690Z --- PASS: TestReservationCollector_Collect_Success (0.00s)
2026-01-21T00:39:38.6818970Z === RUN   TestReservationCollector_Collect_Disabled
2026-01-21T00:39:38.6819260Z --- PASS: TestReservationCollector_Collect_Disabled (0.00s)
2026-01-21T00:39:38.6819540Z === RUN   TestReservationCollector_Collect_Error
2026-01-21T00:39:38.6820090Z time="2026-01-21T00:39:37Z" level=error msg="Failed to list reservations" collector=reservation error="assert.AnError general error for testing" test=true
2026-01-21T00:39:38.6820630Z --- PASS: TestReservationCollector_Collect_Error (0.00s)
2026-01-21T00:39:38.6821050Z === RUN   TestReservationCollector_EmptyReservationList
2026-01-21T00:39:38.6821510Z time="2026-01-21T00:39:37Z" level=debug msg="Collected reservation entries" collector=reservation count=0 test=true
2026-01-21T00:39:38.6821990Z --- PASS: TestReservationCollector_EmptyReservationList (0.00s)
2026-01-21T00:39:38.6822250Z === RUN   TestScheduler
2026-01-21T00:39:38.6822620Z time="2026-01-21T00:39:37Z" level=info msg="Collector registered" collector=cluster component=collector_registry
2026-01-21T00:39:38.6823210Z time="2026-01-21T00:39:37Z" level=info msg="Collector registered" collector=nodes component=collector_registry
2026-01-21T00:39:38.6823800Z time="2026-01-21T00:39:37Z" level=info msg="Collector registered" collector=jobs component=collector_registry
2026-01-21T00:39:38.6824980Z === RUN   TestScheduler/InitializeSchedules
2026-01-21T00:39:38.6826690Z time="2026-01-21T00:39:37Z" level=info msg="Initialized collection schedule" collector=partitions component=scheduler enabled=false interval=100ms timeout=50ms
2026-01-21T00:39:38.6829200Z time="2026-01-21T00:39:37Z" level=info msg="Initialized collection schedule" collector=performance component=scheduler enabled=false interval=100ms timeout=50ms
2026-01-21T00:39:38.6831610Z time="2026-01-21T00:39:37Z" level=info msg="Initialized collection schedule" collector=system component=scheduler enabled=false interval=100ms timeout=50ms
2026-01-21T00:39:38.6834120Z time="2026-01-21T00:39:37Z" level=info msg="Initialized collection schedule" collector=cluster component=scheduler enabled=true interval=50ms timeout=25ms
2026-01-21T00:39:38.6842950Z time="2026-01-21T00:39:37Z" level=info msg="Initialized collection schedule" collector=nodes component=scheduler enabled=true interval=75ms timeout=25ms
2026-01-21T00:39:38.6843780Z time="2026-01-21T00:39:37Z" level=info msg="Initialized collection schedule" collector=jobs component=scheduler enabled=false interval=100ms timeout=50ms
2026-01-21T00:39:38.6844980Z time="2026-01-21T00:39:37Z" level=info msg="Initialized collection schedule" collector=users component=scheduler enabled=false interval=100ms timeout=50ms
2026-01-21T00:39:38.6845490Z === RUN   TestScheduler/ScheduledCollection
2026-01-21T00:39:38.6845850Z time="2026-01-21T00:39:37Z" level=info msg="Starting collection scheduler" component=scheduler
2026-01-21T00:39:38.6846400Z time="2026-01-21T00:39:37Z" level=info msg="Starting collection orchestrator" component=collection_orchestrator
2026-01-21T00:39:38.6846960Z time="2026-01-21T00:39:37Z" level=info msg="Stopping collection scheduler" component=scheduler
2026-01-21T00:39:38.6847520Z time="2026-01-21T00:39:37Z" level=info msg="Stopping collection orchestrator" component=collection_orchestrator
2026-01-21T00:39:38.6847930Z === RUN   TestScheduler/UpdateSchedule
2026-01-21T00:39:38.6848370Z time="2026-01-21T00:39:37Z" level=info msg="Collector registered" collector=cluster component=collector_registry
2026-01-21T00:39:38.6849230Z time="2026-01-21T00:39:37Z" level=info msg="Initialized collection schedule" collector=partitions component=scheduler enabled=false interval=100ms timeout=50ms
2026-01-21T00:39:38.6850150Z time="2026-01-21T00:39:37Z" level=info msg="Initialized collection schedule" collector=performance component=scheduler enabled=false interval=100ms timeout=50ms
2026-01-21T00:39:38.6850980Z time="2026-01-21T00:39:37Z" level=info msg="Initialized collection schedule" collector=system component=scheduler enabled=false interval=100ms timeout=50ms
2026-01-21T00:39:38.6851810Z time="2026-01-21T00:39:37Z" level=info msg="Initialized collection schedule" collector=cluster component=scheduler enabled=true interval=50ms timeout=25ms
2026-01-21T00:39:38.6852650Z time="2026-01-21T00:39:37Z" level=info msg="Initialized collection schedule" collector=nodes component=scheduler enabled=true interval=75ms timeout=25ms
2026-01-21T00:39:38.6853460Z time="2026-01-21T00:39:37Z" level=info msg="Initialized collection schedule" collector=jobs component=scheduler enabled=false interval=100ms timeout=50ms
2026-01-21T00:39:38.6854570Z time="2026-01-21T00:39:37Z" level=info msg="Initialized collection schedule" collector=users component=scheduler enabled=false interval=100ms timeout=50ms
2026-01-21T00:39:38.6855380Z time="2026-01-21T00:39:37Z" level=info msg="Updated collection schedule" collector=cluster component=scheduler interval=150ms timeout=50ms
2026-01-21T00:39:38.6855900Z === RUN   TestScheduler/EnableDisableSchedule
2026-01-21T00:39:38.6856360Z time="2026-01-21T00:39:37Z" level=info msg="Collector registered" collector=cluster component=collector_registry
2026-01-21T00:39:38.6857110Z time="2026-01-21T00:39:37Z" level=info msg="Initialized collection schedule" collector=system component=scheduler enabled=false interval=100ms timeout=50ms
2026-01-21T00:39:38.6857970Z time="2026-01-21T00:39:37Z" level=info msg="Initialized collection schedule" collector=cluster component=scheduler enabled=true interval=50ms timeout=25ms
2026-01-21T00:39:38.6858830Z time="2026-01-21T00:39:37Z" level=info msg="Initialized collection schedule" collector=nodes component=scheduler enabled=true interval=75ms timeout=25ms
2026-01-21T00:39:38.6859690Z time="2026-01-21T00:39:37Z" level=info msg="Initialized collection schedule" collector=jobs component=scheduler enabled=false interval=100ms timeout=50ms
2026-01-21T00:39:38.6860550Z time="2026-01-21T00:39:37Z" level=info msg="Initialized collection schedule" collector=users component=scheduler enabled=false interval=100ms timeout=50ms
2026-01-21T00:39:38.6861420Z time="2026-01-21T00:39:37Z" level=info msg="Initialized collection schedule" collector=partitions component=scheduler enabled=false interval=100ms timeout=50ms
2026-01-21T00:39:38.6862350Z time="2026-01-21T00:39:37Z" level=info msg="Initialized collection schedule" collector=performance component=scheduler enabled=false interval=100ms timeout=50ms
2026-01-21T00:39:38.6863110Z time="2026-01-21T00:39:37Z" level=info msg="Disabled collection schedule" collector=cluster component=scheduler
2026-01-21T00:39:38.6863870Z time="2026-01-21T00:39:37Z" level=info msg="Enabled collection schedule" collector=cluster component=scheduler
2026-01-21T00:39:38.6864280Z === RUN   TestScheduler/ScheduleStats
2026-01-21T00:39:38.6864730Z time="2026-01-21T00:39:37Z" level=info msg="Collector registered" collector=cluster component=collector_registry
2026-01-21T00:39:38.6865490Z time="2026-01-21T00:39:37Z" level=info msg="Initialized collection schedule" collector=system component=scheduler enabled=false interval=100ms timeout=50ms
2026-01-21T00:39:38.6866360Z time="2026-01-21T00:39:37Z" level=info msg="Initialized collection schedule" collector=cluster component=scheduler enabled=true interval=50ms timeout=25ms
2026-01-21T00:39:38.6867220Z time="2026-01-21T00:39:37Z" level=info msg="Initialized collection schedule" collector=nodes component=scheduler enabled=true interval=75ms timeout=25ms
2026-01-21T00:39:38.6868080Z time="2026-01-21T00:39:37Z" level=info msg="Initialized collection schedule" collector=jobs component=scheduler enabled=false interval=100ms timeout=50ms
2026-01-21T00:39:38.6868950Z time="2026-01-21T00:39:37Z" level=info msg="Initialized collection schedule" collector=users component=scheduler enabled=false interval=100ms timeout=50ms
2026-01-21T00:39:38.6869990Z time="2026-01-21T00:39:37Z" level=info msg="Initialized collection schedule" collector=partitions component=scheduler enabled=false interval=100ms timeout=50ms
2026-01-21T00:39:38.6870890Z time="2026-01-21T00:39:37Z" level=info msg="Initialized collection schedule" collector=performance component=scheduler enabled=false interval=100ms timeout=50ms
2026-01-21T00:39:38.6871440Z --- PASS: TestScheduler (0.21s)
2026-01-21T00:39:38.6871780Z     --- PASS: TestScheduler/InitializeSchedules (0.00s)
2026-01-21T00:39:38.6872180Z     --- PASS: TestScheduler/ScheduledCollection (0.20s)
2026-01-21T00:39:38.6872540Z     --- PASS: TestScheduler/UpdateSchedule (0.00s)
2026-01-21T00:39:38.6872910Z     --- PASS: TestScheduler/EnableDisableSchedule (0.00s)
2026-01-21T00:39:38.6873250Z     --- PASS: TestScheduler/ScheduleStats (0.00s)
2026-01-21T00:39:38.6873610Z === RUN   TestSchedulerErrorHandling
2026-01-21T00:39:38.6874020Z time="2026-01-21T00:39:37Z" level=info msg="Collector registered" collector=cluster component=collector_registry
2026-01-21T00:39:38.6874780Z time="2026-01-21T00:39:37Z" level=info msg="Initialized collection schedule" collector=performance component=scheduler enabled=false interval=50ms timeout=25ms
2026-01-21T00:39:38.6875670Z time="2026-01-21T00:39:37Z" level=info msg="Initialized collection schedule" collector=system component=scheduler enabled=false interval=50ms timeout=25ms
2026-01-21T00:39:38.6876480Z time="2026-01-21T00:39:37Z" level=info msg="Initialized collection schedule" collector=cluster component=scheduler enabled=true interval=50ms timeout=25ms
2026-01-21T00:39:38.6877290Z time="2026-01-21T00:39:37Z" level=info msg="Initialized collection schedule" collector=nodes component=scheduler enabled=false interval=50ms timeout=25ms
2026-01-21T00:39:38.6878130Z time="2026-01-21T00:39:37Z" level=info msg="Initialized collection schedule" collector=jobs component=scheduler enabled=false interval=50ms timeout=25ms
2026-01-21T00:39:38.6878940Z time="2026-01-21T00:39:37Z" level=info msg="Initialized collection schedule" collector=users component=scheduler enabled=false interval=50ms timeout=25ms
2026-01-21T00:39:38.6879800Z time="2026-01-21T00:39:37Z" level=info msg="Initialized collection schedule" collector=partitions component=scheduler enabled=false interval=50ms timeout=25ms
2026-01-21T00:39:38.6880500Z time="2026-01-21T00:39:37Z" level=info msg="Starting collection scheduler" component=scheduler
2026-01-21T00:39:38.6881050Z time="2026-01-21T00:39:37Z" level=info msg="Starting collection orchestrator" component=collection_orchestrator
2026-01-21T00:39:38.6881770Z time="2026-01-21T00:39:37Z" level=error msg="Scheduled collection failed" collector=cluster component=collection_orchestrator error="collection failed"
2026-01-21T00:39:38.6882540Z time="2026-01-21T00:39:37Z" level=error msg="Collection failed" collector=cluster component=concurrent_collector error="collection failed"
2026-01-21T00:39:38.6883460Z time="2026-01-21T00:39:37Z" level=error msg="Scheduled collection failed" collector=cluster component=scheduler error="collection failed"
2026-01-21T00:39:38.6884280Z time="2026-01-21T00:39:37Z" level=error msg="Scheduled collection failed" collector=cluster component=collection_orchestrator error="collection failed"
2026-01-21T00:39:38.6885070Z time="2026-01-21T00:39:37Z" level=error msg="Collection failed" collector=cluster component=concurrent_collector error="collection failed"
2026-01-21T00:39:38.6885850Z time="2026-01-21T00:39:37Z" level=error msg="Scheduled collection failed" collector=cluster component=scheduler error="collection failed"
2026-01-21T00:39:38.6886490Z time="2026-01-21T00:39:37Z" level=info msg="Stopping collection scheduler" component=scheduler
2026-01-21T00:39:38.6887060Z time="2026-01-21T00:39:37Z" level=info msg="Stopping collection orchestrator" component=collection_orchestrator
2026-01-21T00:39:38.6887520Z --- PASS: TestSchedulerErrorHandling (0.15s)
2026-01-21T00:39:38.6887760Z === RUN   TestScheduleHealthCheck
2026-01-21T00:39:38.6888160Z time="2026-01-21T00:39:37Z" level=info msg="Collector registered" collector=cluster component=collector_registry
2026-01-21T00:39:38.6888950Z time="2026-01-21T00:39:37Z" level=info msg="Initialized collection schedule" collector=performance component=scheduler enabled=false interval=50ms timeout=25ms
2026-01-21T00:39:38.6890720Z time="2026-01-21T00:39:37Z" level=info msg="Initialized collection schedule" collector=system component=scheduler enabled=false interval=50ms timeout=25ms
2026-01-21T00:39:38.6891530Z time="2026-01-21T00:39:37Z" level=info msg="Initialized collection schedule" collector=cluster component=scheduler enabled=true interval=50ms timeout=25ms
2026-01-21T00:39:38.6892350Z time="2026-01-21T00:39:37Z" level=info msg="Initialized collection schedule" collector=nodes component=scheduler enabled=false interval=50ms timeout=25ms
2026-01-21T00:39:38.6893460Z time="2026-01-21T00:39:37Z" level=info msg="Initialized collection schedule" collector=jobs component=scheduler enabled=false interval=50ms timeout=25ms
2026-01-21T00:39:38.6894320Z time="2026-01-21T00:39:37Z" level=info msg="Initialized collection schedule" collector=users component=scheduler enabled=false interval=50ms timeout=25ms
2026-01-21T00:39:38.6895170Z time="2026-01-21T00:39:37Z" level=info msg="Initialized collection schedule" collector=partitions component=scheduler enabled=false interval=50ms timeout=25ms
2026-01-21T00:39:38.6896200Z time="2026-01-21T00:39:37Z" level=warning msg="Schedule is running behind" collector=cluster component=scheduler error_count=0 interval=50ms next_run="2026-01-21 00:39:37.162389 +0000 UTC m=+1.547066042" run_count=0
2026-01-21T00:39:38.6896870Z --- PASS: TestScheduleHealthCheck (0.00s)
2026-01-21T00:39:38.6897110Z === RUN   TestSchedulerMetrics
2026-01-21T00:39:38.6897300Z --- PASS: TestSchedulerMetrics (0.00s)
2026-01-21T00:39:38.6897550Z === RUN   TestSharesCollector_Describe
2026-01-21T00:39:38.6897770Z --- PASS: TestSharesCollector_Describe (0.00s)
2026-01-21T00:39:38.6898020Z === RUN   TestSharesCollector_Collect_Success
2026-01-21T00:39:38.6898420Z time="2026-01-21T00:39:37Z" level=debug msg="Collecting fairshare metrics" collector=shares test=true
2026-01-21T00:39:38.6898980Z time="2026-01-21T00:39:37Z" level=debug msg="Fairshare metrics collected" collector=shares share_count=2 test=true
2026-01-21T00:39:38.6899430Z --- PASS: TestSharesCollector_Collect_Success (0.00s)
2026-01-21T00:39:38.6899710Z === RUN   TestSharesCollector_Collect_Error
2026-01-21T00:39:38.6900140Z time="2026-01-21T00:39:37Z" level=debug msg="Collecting fairshare metrics" collector=shares test=true
2026-01-21T00:39:38.6900820Z time="2026-01-21T00:39:37Z" level=error msg="Failed to get shares" collector=shares error="assert.AnError general error for testing" test=true
2026-01-21T00:39:38.6901340Z --- PASS: TestSharesCollector_Collect_Error (0.00s)
2026-01-21T00:39:38.6901810Z === RUN   TestSharesCollector_EmptySharesList
2026-01-21T00:39:38.6902200Z time="2026-01-21T00:39:37Z" level=debug msg="Collecting fairshare metrics" collector=shares test=true
2026-01-21T00:39:38.6902800Z time="2026-01-21T00:39:37Z" level=debug msg="Fairshare metrics collected" collector=shares share_count=0 test=true
2026-01-21T00:39:38.6903280Z --- PASS: TestSharesCollector_EmptySharesList (0.00s)
2026-01-21T00:39:38.6903580Z === RUN   TestSystemSimpleCollector_Describe
2026-01-21T00:39:38.6903850Z --- PASS: TestSystemSimpleCollector_Describe (0.00s)
2026-01-21T00:39:38.6904130Z === RUN   TestSystemSimpleCollector_Collect_Success
2026-01-21T00:39:38.6904550Z time="2026-01-21T00:39:37Z" level=info msg="Collected system metrics" collector=system test=true
2026-01-21T00:39:38.6904960Z --- PASS: TestSystemSimpleCollector_Collect_Success (0.00s)
2026-01-21T00:39:38.6905270Z === RUN   TestSystemSimpleCollector_Collect_Disabled
2026-01-21T00:39:38.6905590Z --- PASS: TestSystemSimpleCollector_Collect_Disabled (0.00s)
2026-01-21T00:39:38.6905880Z === RUN   TestTRESCollector_Describe
2026-01-21T00:39:38.6906140Z --- PASS: TestTRESCollector_Describe (0.00s)
2026-01-21T00:39:38.6906370Z === RUN   TestTRESCollector_Collect_Success
2026-01-21T00:39:38.6906760Z time="2026-01-21T00:39:37Z" level=debug msg="Collecting TRES metrics" collector=tres test=true
2026-01-21T00:39:38.6907290Z time="2026-01-21T00:39:37Z" level=debug msg="TRES metrics collected" collector=tres test=true tres_count=4
2026-01-21T00:39:38.6907720Z --- PASS: TestTRESCollector_Collect_Success (0.00s)
2026-01-21T00:39:38.6907960Z === RUN   TestTRESCollector_Collect_Error
2026-01-21T00:39:38.6908340Z time="2026-01-21T00:39:37Z" level=debug msg="Collecting TRES metrics" collector=tres test=true
2026-01-21T00:39:38.6908970Z time="2026-01-21T00:39:37Z" level=error msg="Failed to get TRES" collector=tres error="assert.AnError general error for testing" test=true
2026-01-21T00:39:38.6909480Z --- PASS: TestTRESCollector_Collect_Error (0.00s)
2026-01-21T00:39:38.6909850Z === RUN   TestTRESCollector_EmptyTRESList
2026-01-21T00:39:38.6910220Z time="2026-01-21T00:39:37Z" level=debug msg="Collecting TRES metrics" collector=tres test=true
2026-01-21T00:39:38.6910740Z time="2026-01-21T00:39:37Z" level=debug msg="TRES metrics collected" collector=tres test=true tres_count=0
2026-01-21T00:39:38.6911140Z --- PASS: TestTRESCollector_EmptyTRESList (0.00s)
2026-01-21T00:39:38.6911370Z === RUN   TestUserCollector
2026-01-21T00:39:38.6911550Z === RUN   TestUserCollector/Name
2026-01-21T00:39:38.6911770Z === RUN   TestUserCollector/Enabled
2026-01-21T00:39:38.6911980Z === RUN   TestUserCollector/Describe
2026-01-21T00:39:38.6912210Z === RUN   TestUserCollector/Collect
2026-01-21T00:39:38.6912430Z === RUN   TestUserCollector/CollectUserStats
2026-01-21T00:39:38.6912690Z === RUN   TestUserCollector/CollectAccountStats
2026-01-21T00:39:38.6912950Z --- PASS: TestUserCollector (0.01s)
2026-01-21T00:39:38.6913250Z     --- PASS: TestUserCollector/Name (0.00s)
2026-01-21T00:39:38.6913590Z     --- PASS: TestUserCollector/Enabled (0.00s)
2026-01-21T00:39:38.6921720Z     --- PASS: TestUserCollector/Describe (0.00s)
2026-01-21T00:39:38.6922070Z     --- PASS: TestUserCollector/Collect (0.00s)
2026-01-21T00:39:38.6922470Z     --- PASS: TestUserCollector/CollectUserStats (0.00s)
2026-01-21T00:39:38.6922890Z     --- PASS: TestUserCollector/CollectAccountStats (0.00s)
2026-01-21T00:39:38.6923200Z === RUN   TestUserCollectorIntegration
2026-01-21T00:39:38.6923600Z     user_test.go:298: Successfully collected 56 metrics
2026-01-21T00:39:38.6924000Z     user_test.go:299: Metric breakdown: map[account:32 user:56]
2026-01-21T00:39:38.6924310Z --- PASS: TestUserCollectorIntegration (0.01s)
2026-01-21T00:39:38.6924580Z === RUN   TestUsersSimpleCollector_Describe
2026-01-21T00:39:38.6924850Z --- PASS: TestUsersSimpleCollector_Describe (0.00s)
2026-01-21T00:39:38.6925120Z === RUN   TestUsersSimpleCollector_Collect_Success
2026-01-21T00:39:38.6925850Z time="2026-01-21T00:39:37Z" level=info msg="Collected user entries" collector=users count=2 test=true
2026-01-21T00:39:38.6926300Z --- PASS: TestUsersSimpleCollector_Collect_Success (0.00s)
2026-01-21T00:39:38.6926590Z === RUN   TestUsersSimpleCollector_Collect_Disabled
2026-01-21T00:39:38.6926880Z --- PASS: TestUsersSimpleCollector_Collect_Disabled (0.00s)
2026-01-21T00:39:38.6927170Z === RUN   TestUsersSimpleCollector_Collect_Error
2026-01-21T00:39:38.6927680Z time="2026-01-21T00:39:37Z" level=error msg="Failed to list users" collector=users error="assert.AnError general error for testing" test=true
2026-01-21T00:39:38.6928200Z --- PASS: TestUsersSimpleCollector_Collect_Error (0.00s)
2026-01-21T00:39:38.6928470Z === RUN   TestUsersSimpleCollector_EmptyUserList
2026-01-21T00:39:38.6928860Z time="2026-01-21T00:39:37Z" level=info msg="Collected user entries" collector=users count=0 test=true
2026-01-21T00:39:38.6929260Z --- PASS: TestUsersSimpleCollector_EmptyUserList (0.00s)
2026-01-21T00:39:38.6929530Z === RUN   TestWCKeysCollector_Describe
2026-01-21T00:39:38.6929770Z --- PASS: TestWCKeysCollector_Describe (0.00s)
2026-01-21T00:39:38.6930120Z === RUN   TestWCKeysCollector_Collect_Success
2026-01-21T00:39:38.6930480Z time="2026-01-21T00:39:37Z" level=debug msg="Collecting WCKeys metrics" collector=wckeys test=true
2026-01-21T00:39:38.6931010Z time="2026-01-21T00:39:37Z" level=debug msg="WCKeys metrics collected" collector=wckeys test=true wckey_count=2
2026-01-21T00:39:38.6931430Z --- PASS: TestWCKeysCollector_Collect_Success (0.00s)
2026-01-21T00:39:38.6931680Z === RUN   TestWCKeysCollector_Collect_Error
2026-01-21T00:39:38.6932040Z time="2026-01-21T00:39:37Z" level=debug msg="Collecting WCKeys metrics" collector=wckeys test=true
2026-01-21T00:39:38.6932660Z time="2026-01-21T00:39:37Z" level=error msg="Failed to get WCKeys" collector=wckeys error="assert.AnError general error for testing" test=true
2026-01-21T00:39:38.6935330Z --- PASS: TestWCKeysCollector_Collect_Error (0.00s)
2026-01-21T00:39:38.6935620Z === RUN   TestWCKeysCollector_EmptyWCKeyList
2026-01-21T00:39:38.6936380Z time="2026-01-21T00:39:37Z" level=debug msg="Collecting WCKeys metrics" collector=wckeys test=true
2026-01-21T00:39:38.6938040Z time="2026-01-21T00:39:37Z" level=debug msg="WCKeys metrics collected" collector=wckeys test=true wckey_count=0
2026-01-21T00:39:38.6938500Z --- PASS: TestWCKeysCollector_EmptyWCKeyList (0.00s)
2026-01-21T00:39:38.6938710Z PASS
2026-01-21T00:39:38.6938840Z coverage: 16.9% of statements
2026-01-21T00:39:38.6939170Z ok  	github.com/jontk/slurm-exporter/internal/collector	3.006s	coverage: 16.9% of statements
2026-01-21T00:39:38.8420760Z === RUN   TestLoadDefaults
2026-01-21T00:39:38.8522760Z --- PASS: TestLoadDefaults (0.00s)
2026-01-21T00:39:38.8624090Z === RUN   TestServerConfig
2026-01-21T00:39:38.8727970Z --- PASS: TestServerConfig (0.00s)
2026-01-21T00:39:38.8832390Z === RUN   TestSLURMConfig
2026-01-21T00:39:38.8934270Z --- PASS: TestSLURMConfig (0.00s)
2026-01-21T00:39:38.9035750Z === RUN   TestCollectorsConfig
2026-01-21T00:39:38.9145180Z --- PASS: TestCollectorsConfig (0.00s)
2026-01-21T00:39:38.9245420Z === RUN   TestMetricsConfig
2026-01-21T00:39:38.9271800Z --- PASS: TestMetricsConfig (0.00s)
2026-01-21T00:39:38.9272240Z === RUN   TestConfigStructures
2026-01-21T00:39:38.9272700Z --- PASS: TestConfigStructures (0.00s)
2026-01-21T00:39:38.9273100Z === RUN   TestLoadFromYAMLFile
2026-01-21T00:39:38.9273390Z --- PASS: TestLoadFromYAMLFile (0.00s)
2026-01-21T00:39:38.9273700Z === RUN   TestLoadNonExistentFile
2026-01-21T00:39:38.9284030Z --- PASS: TestLoadNonExistentFile (0.00s)
2026-01-21T00:39:38.9284500Z === RUN   TestLoadInvalidYAML
2026-01-21T00:39:38.9284890Z --- PASS: TestLoadInvalidYAML (0.00s)
2026-01-21T00:39:38.9285270Z === RUN   TestValidateServerConfig
2026-01-21T00:39:38.9285830Z === RUN   TestValidateServerConfig/valid_config
2026-01-21T00:39:38.9288620Z === RUN   TestValidateServerConfig/empty_address
2026-01-21T00:39:38.9289200Z === RUN   TestValidateServerConfig/negative_timeout
2026-01-21T00:39:38.9290190Z --- PASS: TestValidateServerConfig (0.00s)
2026-01-21T00:39:38.9290670Z     --- PASS: TestValidateServerConfig/valid_config (0.00s)
2026-01-21T00:39:38.9297680Z     --- PASS: TestValidateServerConfig/empty_address (0.00s)
2026-01-21T00:39:38.9298270Z     --- PASS: TestValidateServerConfig/negative_timeout (0.00s)
2026-01-21T00:39:38.9298670Z === RUN   TestValidateAuthConfig
2026-01-21T00:39:38.9299120Z === RUN   TestValidateAuthConfig/none_auth
2026-01-21T00:39:38.9299590Z === RUN   TestValidateAuthConfig/jwt_with_token
2026-01-21T00:39:38.9300420Z === RUN   TestValidateAuthConfig/jwt_without_token
2026-01-21T00:39:38.9300880Z === RUN   TestValidateAuthConfig/basic_auth_with_credentials
2026-01-21T00:39:38.9301480Z === RUN   TestValidateAuthConfig/basic_auth_without_username
2026-01-21T00:39:38.9301910Z === RUN   TestValidateAuthConfig/invalid_auth_type
2026-01-21T00:39:38.9302340Z --- PASS: TestValidateAuthConfig (0.00s)
2026-01-21T00:39:38.9302830Z     --- PASS: TestValidateAuthConfig/none_auth (0.00s)
2026-01-21T00:39:38.9303550Z     --- PASS: TestValidateAuthConfig/jwt_with_token (0.00s)
2026-01-21T00:39:38.9304080Z     --- PASS: TestValidateAuthConfig/jwt_without_token (0.00s)
2026-01-21T00:39:38.9304660Z     --- PASS: TestValidateAuthConfig/basic_auth_with_credentials (0.00s)
2026-01-21T00:39:38.9305390Z     --- PASS: TestValidateAuthConfig/basic_auth_without_username (0.00s)
2026-01-21T00:39:38.9306010Z     --- PASS: TestValidateAuthConfig/invalid_auth_type (0.00s)
2026-01-21T00:39:38.9306420Z === RUN   TestValidateLoggingConfig
2026-01-21T00:39:38.9306760Z === RUN   TestValidateLoggingConfig/valid_logging_config
2026-01-21T00:39:38.9307140Z === RUN   TestValidateLoggingConfig/invalid_log_level
2026-01-21T00:39:38.9307570Z === RUN   TestValidateLoggingConfig/invalid_log_format
2026-01-21T00:39:38.9308300Z === RUN   TestValidateLoggingConfig/file_output_without_file
2026-01-21T00:39:38.9308750Z === RUN   TestValidateLoggingConfig/file_output_with_file
2026-01-21T00:39:38.9309130Z --- PASS: TestValidateLoggingConfig (0.00s)
2026-01-21T00:39:38.9310060Z     --- PASS: TestValidateLoggingConfig/valid_logging_config (0.00s)
2026-01-21T00:39:38.9310700Z     --- PASS: TestValidateLoggingConfig/invalid_log_level (0.00s)
2026-01-21T00:39:38.9313430Z     --- PASS: TestValidateLoggingConfig/invalid_log_format (0.00s)
2026-01-21T00:39:38.9314200Z     --- PASS: TestValidateLoggingConfig/file_output_without_file (0.00s)
2026-01-21T00:39:38.9314820Z     --- PASS: TestValidateLoggingConfig/file_output_with_file (0.00s)
2026-01-21T00:39:38.9321470Z === RUN   TestValidateCollectorConfig
2026-01-21T00:39:38.9322840Z === RUN   TestValidateCollectorConfig/disabled_collector
2026-01-21T00:39:38.9324190Z === RUN   TestValidateCollectorConfig/enabled_collector_with_valid_config
2026-01-21T00:39:38.9330410Z === RUN   TestValidateCollectorConfig/enabled_collector_with_invalid_interval
2026-01-21T00:39:38.9334410Z === RUN   TestValidateCollectorConfig/enabled_collector_with_invalid_timeout
2026-01-21T00:39:38.9335500Z --- PASS: TestValidateCollectorConfig (0.00s)
2026-01-21T00:39:38.9336590Z     --- PASS: TestValidateCollectorConfig/disabled_collector (0.00s)
2026-01-21T00:39:38.9338200Z     --- PASS: TestValidateCollectorConfig/enabled_collector_with_valid_config (0.00s)
2026-01-21T00:39:38.9340350Z     --- PASS: TestValidateCollectorConfig/enabled_collector_with_invalid_interval (0.00s)
2026-01-21T00:39:38.9341980Z     --- PASS: TestValidateCollectorConfig/enabled_collector_with_invalid_timeout (0.00s)
2026-01-21T00:39:38.9342980Z === RUN   TestDefault
2026-01-21T00:39:38.9343440Z --- PASS: TestDefault (0.00s)
2026-01-21T00:39:38.9343970Z === RUN   TestEnvOverrides
2026-01-21T00:39:38.9344460Z --- PASS: TestEnvOverrides (0.00s)
2026-01-21T00:39:38.9345050Z === RUN   TestEnvOverridesPrecedence
2026-01-21T00:39:38.9345680Z --- PASS: TestEnvOverridesPrecedence (0.00s)
2026-01-21T00:39:38.9346280Z === RUN   TestInvalidEnvOverrides
2026-01-21T00:39:38.9346960Z === RUN   TestInvalidEnvOverrides/invalid_server_timeout
2026-01-21T00:39:38.9348600Z === RUN   TestInvalidEnvOverrides/invalid_TLS_enabled
2026-01-21T00:39:38.9349420Z === RUN   TestInvalidEnvOverrides/invalid_retry_attempts
2026-01-21T00:39:38.9350340Z === RUN   TestInvalidEnvOverrides/invalid_requests_per_second
2026-01-21T00:39:38.9351220Z === RUN   TestInvalidEnvOverrides/invalid_collector_enabled
2026-01-21T00:39:38.9352090Z === RUN   TestInvalidEnvOverrides/invalid_collector_interval
2026-01-21T00:39:38.9353030Z --- PASS: TestInvalidEnvOverrides (0.00s)
2026-01-21T00:39:38.9359630Z     --- PASS: TestInvalidEnvOverrides/invalid_server_timeout (0.00s)
2026-01-21T00:39:38.9360100Z     --- PASS: TestInvalidEnvOverrides/invalid_TLS_enabled (0.00s)
2026-01-21T00:39:38.9360570Z     --- PASS: TestInvalidEnvOverrides/invalid_retry_attempts (0.00s)
2026-01-21T00:39:38.9361100Z     --- PASS: TestInvalidEnvOverrides/invalid_requests_per_second (0.00s)
2026-01-21T00:39:38.9361590Z     --- PASS: TestInvalidEnvOverrides/invalid_collector_enabled (0.00s)
2026-01-21T00:39:38.9362130Z     --- PASS: TestInvalidEnvOverrides/invalid_collector_interval (0.00s)
2026-01-21T00:39:38.9362520Z === RUN   TestApplyEnvOverrides
2026-01-21T00:39:38.9362810Z --- PASS: TestApplyEnvOverrides (0.00s)
2026-01-21T00:39:38.9363050Z === RUN   TestEnhancedValidation_Functional
2026-01-21T00:39:38.9363380Z === RUN   TestEnhancedValidation_Functional/validation_system_is_working
2026-01-21T00:39:38.9363790Z === RUN   TestEnhancedValidation_Functional/invalid_server_address_should_fail
2026-01-21T00:39:38.9364210Z === RUN   TestEnhancedValidation_Functional/missing_metrics_path_should_fail
2026-01-21T00:39:38.9364610Z === RUN   TestEnhancedValidation_Functional/invalid_metrics_path_should_fail
2026-01-21T00:39:38.9365010Z === RUN   TestEnhancedValidation_Functional/missing_SLURM_base_URL_should_fail
2026-01-21T00:39:38.9365410Z === RUN   TestEnhancedValidation_Functional/invalid_auth_type_should_fail
2026-01-21T00:39:38.9366530Z === RUN   TestEnhancedValidation_Functional/short_collector_timeout_should_fail
2026-01-21T00:39:38.9367440Z === RUN   TestEnhancedValidation_Functional/TLS_enabled_without_cert_should_fail
2026-01-21T00:39:38.9367930Z === RUN   TestEnhancedValidation_Functional/conflicting_metric_filters_should_fail
2026-01-21T00:39:38.9368590Z --- PASS: TestEnhancedValidation_Functional (0.00s)
2026-01-21T00:39:38.9369210Z     --- PASS: TestEnhancedValidation_Functional/validation_system_is_working (0.00s)
2026-01-21T00:39:38.9369870Z     --- PASS: TestEnhancedValidation_Functional/invalid_server_address_should_fail (0.00s)
2026-01-21T00:39:38.9370500Z     --- PASS: TestEnhancedValidation_Functional/missing_metrics_path_should_fail (0.00s)
2026-01-21T00:39:38.9371140Z     --- PASS: TestEnhancedValidation_Functional/invalid_metrics_path_should_fail (0.00s)
2026-01-21T00:39:38.9371750Z     --- PASS: TestEnhancedValidation_Functional/missing_SLURM_base_URL_should_fail (0.00s)
2026-01-21T00:39:38.9372350Z     --- PASS: TestEnhancedValidation_Functional/invalid_auth_type_should_fail (0.00s)
2026-01-21T00:39:38.9373400Z     --- PASS: TestEnhancedValidation_Functional/short_collector_timeout_should_fail (0.00s)
2026-01-21T00:39:38.9374070Z     --- PASS: TestEnhancedValidation_Functional/TLS_enabled_without_cert_should_fail (0.00s)
2026-01-21T00:39:38.9374730Z     --- PASS: TestEnhancedValidation_Functional/conflicting_metric_filters_should_fail (0.00s)
2026-01-21T00:39:38.9375130Z === RUN   TestWatcher_New
2026-01-21T00:39:38.9376090Z time="2026-01-21T00:39:35Z" level=info msg="Stopping configuration watcher" component=config-watcher test=true
2026-01-21T00:39:38.9376550Z --- PASS: TestWatcher_New (0.00s)
2026-01-21T00:39:38.9376770Z === RUN   TestWatcher_Start_Stop
2026-01-21T00:39:38.9377480Z time="2026-01-21T00:39:35Z" level=info msg="Starting configuration watcher" component=config-watcher file=/var/folders/kg/7q73ww8s3llgyl61c9z_j5g40000gn/T/watcher_test2707265016/config.yaml test=true
2026-01-21T00:39:38.9378360Z time="2026-01-21T00:39:35Z" level=info msg="Stopping configuration watcher" component=config-watcher test=true
2026-01-21T00:39:38.9379210Z time="2026-01-21T00:39:35Z" level=info msg="Configuration watcher stopped" component=config-watcher test=true
2026-01-21T00:39:38.9379640Z --- PASS: TestWatcher_Start_Stop (0.11s)
2026-01-21T00:39:38.9379900Z === RUN   TestWatcher_ConfigChange
2026-01-21T00:39:38.9380630Z time="2026-01-21T00:39:35Z" level=info msg="Starting configuration watcher" component=config-watcher file=/var/folders/kg/7q73ww8s3llgyl61c9z_j5g40000gn/T/watcher_test3207619355/config.yaml test=true
2026-01-21T00:39:38.9381850Z time="2026-01-21T00:39:36Z" level=debug msg="Configuration file changed" component=config-watcher file=/var/folders/kg/7q73ww8s3llgyl61c9z_j5g40000gn/T/watcher_test3207619355/config.yaml operation=WRITE test=true
2026-01-21T00:39:38.9382800Z time="2026-01-21T00:39:36Z" level=info msg="Reloading configuration" component=config-watcher test=true
2026-01-21T00:39:38.9383440Z time="2026-01-21T00:39:36Z" level=info msg="Configuration reloaded successfully" component=config-watcher test=true
2026-01-21T00:39:38.9384100Z time="2026-01-21T00:39:36Z" level=info msg="Stopping configuration watcher" component=config-watcher test=true
2026-01-21T00:39:38.9384710Z time="2026-01-21T00:39:36Z" level=info msg="Configuration watcher stopped" component=config-watcher test=true
2026-01-21T00:39:38.9385160Z --- PASS: TestWatcher_ConfigChange (0.51s)
2026-01-21T00:39:38.9385410Z === RUN   TestWatcher_InvalidConfig
2026-01-21T00:39:38.9386140Z time="2026-01-21T00:39:36Z" level=info msg="Starting configuration watcher" component=config-watcher file=/var/folders/kg/7q73ww8s3llgyl61c9z_j5g40000gn/T/watcher_test224976297/config.yaml test=true
2026-01-21T00:39:38.9387350Z time="2026-01-21T00:39:36Z" level=debug msg="Configuration file changed" component=config-watcher file=/var/folders/kg/7q73ww8s3llgyl61c9z_j5g40000gn/T/watcher_test224976297/config.yaml operation=WRITE test=true
2026-01-21T00:39:38.9388260Z time="2026-01-21T00:39:36Z" level=info msg="Reloading configuration" component=config-watcher test=true
2026-01-21T00:39:38.9389470Z time="2026-01-21T00:39:36Z" level=error msg="Failed to load new configuration, keeping current" component=config-watcher error="failed to parse YAML configuration: yaml: line 8: did not find expected node content" test=true
2026-01-21T00:39:38.9390390Z time="2026-01-21T00:39:36Z" level=info msg="Stopping configuration watcher" component=config-watcher test=true
2026-01-21T00:39:38.9390960Z time="2026-01-21T00:39:36Z" level=info msg="Configuration watcher stopped" component=config-watcher test=true
2026-01-21T00:39:38.9391360Z --- PASS: TestWatcher_InvalidConfig (0.51s)
2026-01-21T00:39:38.9391590Z === RUN   TestWatcher_NonExistentFile
2026-01-21T00:39:38.9391810Z --- PASS: TestWatcher_NonExistentFile (0.00s)
2026-01-21T00:39:38.9392050Z === RUN   TestWatcher_GetConfig
2026-01-21T00:39:38.9392740Z time="2026-01-21T00:39:36Z" level=info msg="Starting configuration watcher" component=config-watcher file=/var/folders/kg/7q73ww8s3llgyl61c9z_j5g40000gn/T/watcher_test3586171610/config.yaml test=true
2026-01-21T00:39:38.9393640Z time="2026-01-21T00:39:37Z" level=info msg="Stopping configuration watcher" component=config-watcher test=true
2026-01-21T00:39:38.9394250Z time="2026-01-21T00:39:37Z" level=info msg="Configuration watcher stopped" component=config-watcher test=true
2026-01-21T00:39:38.9394710Z --- PASS: TestWatcher_GetConfig (0.21s)
2026-01-21T00:39:38.9394980Z === RUN   TestWatcher_DebounceMultipleChanges
2026-01-21T00:39:38.9395760Z time="2026-01-21T00:39:37Z" level=info msg="Starting configuration watcher" component=config-watcher file=/var/folders/kg/7q73ww8s3llgyl61c9z_j5g40000gn/T/watcher_test1479990796/config.yaml test=true
2026-01-21T00:39:38.9396980Z time="2026-01-21T00:39:37Z" level=debug msg="Configuration file changed" component=config-watcher file=/var/folders/kg/7q73ww8s3llgyl61c9z_j5g40000gn/T/watcher_test1479990796/config.yaml operation=WRITE test=true
2026-01-21T00:39:38.9398230Z time="2026-01-21T00:39:37Z" level=debug msg="Configuration file changed" component=config-watcher file=/var/folders/kg/7q73ww8s3llgyl61c9z_j5g40000gn/T/watcher_test1479990796/config.yaml operation=WRITE test=true
2026-01-21T00:39:38.9399880Z time="2026-01-21T00:39:37Z" level=debug msg="Configuration file changed" component=config-watcher file=/var/folders/kg/7q73ww8s3llgyl61c9z_j5g40000gn/T/watcher_test1479990796/config.yaml operation="WRITE|CHMOD" test=true
2026-01-21T00:39:38.9401560Z time="2026-01-21T00:39:37Z" level=debug msg="Configuration file changed" component=config-watcher file=/var/folders/kg/7q73ww8s3llgyl61c9z_j5g40000gn/T/watcher_test1479990796/config.yaml operation=WRITE test=true
2026-01-21T00:39:38.9402840Z time="2026-01-21T00:39:37Z" level=debug msg="Configuration file changed" component=config-watcher file=/var/folders/kg/7q73ww8s3llgyl61c9z_j5g40000gn/T/watcher_test1479990796/config.yaml operation="WRITE|CHMOD" test=true
2026-01-21T00:39:38.9403790Z time="2026-01-21T00:39:37Z" level=info msg="Reloading configuration" component=config-watcher test=true
2026-01-21T00:39:38.9404430Z time="2026-01-21T00:39:37Z" level=info msg="Configuration reloaded successfully" component=config-watcher test=true
2026-01-21T00:39:38.9405050Z time="2026-01-21T00:39:37Z" level=info msg="Stopping configuration watcher" component=config-watcher test=true
2026-01-21T00:39:38.9405830Z time="2026-01-21T00:39:37Z" level=info msg="Configuration watcher stopped" component=config-watcher test=true
2026-01-21T00:39:38.9406300Z --- PASS: TestWatcher_DebounceMultipleChanges (0.62s)
2026-01-21T00:39:38.9406590Z === RUN   TestWatcher_ConcurrentAccess
2026-01-21T00:39:38.9407400Z time="2026-01-21T00:39:37Z" level=info msg="Starting configuration watcher" component=config-watcher file=/var/folders/kg/7q73ww8s3llgyl61c9z_j5g40000gn/T/watcher_test1928995389/config.yaml test=true
2026-01-21T00:39:38.9408250Z time="2026-01-21T00:39:37Z" level=info msg="Stopping configuration watcher" component=config-watcher test=true
2026-01-21T00:39:38.9408790Z --- PASS: TestWatcher_ConcurrentAccess (0.11s)
2026-01-21T00:39:38.9409020Z PASS
2026-01-21T00:39:38.9410110Z time="2026-01-21T00:39:37Z" level=info msg="Configuration watcher stopped" component=config-watcher test=true
2026-01-21T00:39:38.9410580Z coverage: 54.2% of statements
2026-01-21T00:39:38.9410950Z ok  	github.com/jontk/slurm-exporter/internal/config	3.256s	coverage: 54.2% of statements
2026-01-21T00:39:38.9411350Z === RUN   TestNewSmartFilter_Disabled
2026-01-21T00:39:38.9411780Z --- PASS: TestNewSmartFilter_Disabled (0.00s)
2026-01-21T00:39:38.9412030Z === RUN   TestNewSmartFilter_Enabled
2026-01-21T00:39:38.9412250Z --- PASS: TestNewSmartFilter_Enabled (0.00s)
2026-01-21T00:39:38.9412500Z === RUN   TestNewSmartFilter_InvalidConfig
2026-01-21T00:39:38.9412800Z === RUN   TestNewSmartFilter_InvalidConfig/negative_noise_threshold
2026-01-21T00:39:38.9413140Z === RUN   TestNewSmartFilter_InvalidConfig/zero_cache_size
2026-01-21T00:39:38.9413460Z === RUN   TestNewSmartFilter_InvalidConfig/zero_learning_window
2026-01-21T00:39:38.9413780Z --- PASS: TestNewSmartFilter_InvalidConfig (0.00s)
2026-01-21T00:39:38.9414290Z     --- PASS: TestNewSmartFilter_InvalidConfig/negative_noise_threshold (0.00s)
2026-01-21T00:39:38.9414840Z     --- PASS: TestNewSmartFilter_InvalidConfig/zero_cache_size (0.00s)
2026-01-21T00:39:38.9415480Z     --- PASS: TestNewSmartFilter_InvalidConfig/zero_learning_window (0.00s)
2026-01-21T00:39:38.9416870Z === RUN   TestSmartFilter_ProcessMetrics_Disabled
2026-01-21T00:39:38.9417830Z --- PASS: TestSmartFilter_ProcessMetrics_Disabled (0.00s)
2026-01-21T00:39:38.9421700Z === RUN   TestSmartFilter_ProcessMetrics_LearningPhase
2026-01-21T00:39:38.9422810Z --- PASS: TestSmartFilter_ProcessMetrics_LearningPhase (0.00s)
2026-01-21T00:39:38.9423660Z === RUN   TestSmartFilter_CreateMetricKey
2026-01-21T00:39:38.9425210Z === RUN   TestSmartFilter_CreateMetricKey/no_labels
2026-01-21T00:39:38.9425560Z === RUN   TestSmartFilter_CreateMetricKey/with_labels
2026-01-21T00:39:38.9425860Z --- PASS: TestSmartFilter_CreateMetricKey (0.00s)
2026-01-21T00:39:38.9426460Z     --- PASS: TestSmartFilter_CreateMetricKey/no_labels (0.00s)
2026-01-21T00:39:38.9427480Z     --- PASS: TestSmartFilter_CreateMetricKey/with_labels (0.00s)
2026-01-21T00:39:38.9427770Z === RUN   TestSmartFilter_ExtractValue
2026-01-21T00:39:38.9427990Z === RUN   TestSmartFilter_ExtractValue/gauge
2026-01-21T00:39:38.9428430Z === RUN   TestSmartFilter_ExtractValue/counter
2026-01-21T00:39:38.9428680Z === RUN   TestSmartFilter_ExtractValue/untyped
2026-01-21T00:39:38.9428960Z === RUN   TestSmartFilter_ExtractValue/histogram
2026-01-21T00:39:38.9429210Z --- PASS: TestSmartFilter_ExtractValue (0.00s)
2026-01-21T00:39:38.9429640Z     --- PASS: TestSmartFilter_ExtractValue/gauge (0.00s)
2026-01-21T00:39:38.9430040Z     --- PASS: TestSmartFilter_ExtractValue/counter (0.00s)
2026-01-21T00:39:38.9430480Z     --- PASS: TestSmartFilter_ExtractValue/untyped (0.00s)
2026-01-21T00:39:38.9430980Z     --- PASS: TestSmartFilter_ExtractValue/histogram (0.00s)
2026-01-21T00:39:38.9431330Z === RUN   TestSmartFilter_CalculateStatistics
2026-01-21T00:39:38.9431770Z --- PASS: TestSmartFilter_CalculateStatistics (0.00s)
2026-01-21T00:39:38.9432090Z === RUN   TestSmartFilter_CalculateCorrelation
2026-01-21T00:39:38.9432470Z === RUN   TestSmartFilter_CalculateCorrelation/perfect_positive_correlation
2026-01-21T00:39:38.9432930Z === RUN   TestSmartFilter_CalculateCorrelation/perfect_negative_correlation
2026-01-21T00:39:38.9433360Z === RUN   TestSmartFilter_CalculateCorrelation/no_correlation
2026-01-21T00:39:38.9433740Z --- PASS: TestSmartFilter_CalculateCorrelation (0.00s)
2026-01-21T00:39:38.9434290Z     --- PASS: TestSmartFilter_CalculateCorrelation/perfect_positive_correlation (0.00s)
2026-01-21T00:39:38.9434900Z     --- PASS: TestSmartFilter_CalculateCorrelation/perfect_negative_correlation (0.00s)
2026-01-21T00:39:38.9435430Z     --- PASS: TestSmartFilter_CalculateCorrelation/no_correlation (0.00s)
2026-01-21T00:39:38.9435720Z === RUN   TestSmartFilter_Cache
2026-01-21T00:39:38.9435910Z --- PASS: TestSmartFilter_Cache (0.00s)
2026-01-21T00:39:38.9436160Z === RUN   TestSmartFilter_RegisterMetrics
2026-01-21T00:39:38.9436810Z --- PASS: TestSmartFilter_RegisterMetrics (0.00s)
2026-01-21T00:39:38.9437130Z === RUN   TestSmartFilter_GetStats
2026-01-21T00:39:38.9437370Z --- PASS: TestSmartFilter_GetStats (0.00s)
2026-01-21T00:39:38.9437630Z === RUN   TestSmartFilter_GetPatterns
2026-01-21T00:39:38.9437870Z --- PASS: TestSmartFilter_GetPatterns (0.00s)
2026-01-21T00:39:38.9438110Z === RUN   TestSmartFilter_FilterAction_String
2026-01-21T00:39:38.9438380Z === RUN   TestSmartFilter_FilterAction_String/keep
2026-01-21T00:39:38.9438710Z === RUN   TestSmartFilter_FilterAction_String/filter
2026-01-21T00:39:38.9439020Z === RUN   TestSmartFilter_FilterAction_String/reduce
2026-01-21T00:39:38.9439290Z === RUN   TestSmartFilter_FilterAction_String/unknown
2026-01-21T00:39:38.9439590Z --- PASS: TestSmartFilter_FilterAction_String (0.00s)
2026-01-21T00:39:38.9439980Z     --- PASS: TestSmartFilter_FilterAction_String/keep (0.00s)
2026-01-21T00:39:38.9440380Z     --- PASS: TestSmartFilter_FilterAction_String/filter (0.00s)
2026-01-21T00:39:38.9440840Z     --- PASS: TestSmartFilter_FilterAction_String/reduce (0.00s)
2026-01-21T00:39:38.9441300Z     --- PASS: TestSmartFilter_FilterAction_String/unknown (0.00s)
2026-01-21T00:39:38.9441610Z === RUN   TestSmartFilter_NoiseScoreCalculation
2026-01-21T00:39:38.9441900Z === RUN   TestSmartFilter_NoiseScoreCalculation/low_noise
2026-01-21T00:39:38.9444340Z === RUN   TestSmartFilter_NoiseScoreCalculation/high_noise
2026-01-21T00:39:38.9467460Z --- PASS: TestSmartFilter_NoiseScoreCalculation (0.00s)
2026-01-21T00:39:38.9468070Z     --- PASS: TestSmartFilter_NoiseScoreCalculation/low_noise (0.00s)
2026-01-21T00:39:38.9468600Z     --- PASS: TestSmartFilter_NoiseScoreCalculation/high_noise (0.00s)
2026-01-21T00:39:38.9468900Z PASS
2026-01-21T00:39:38.9469050Z coverage: 47.3% of statements
2026-01-21T00:39:38.9469460Z ok  	github.com/jontk/slurm-exporter/internal/filtering	1.203s	coverage: 47.3% of statements
2026-01-21T00:39:38.9470360Z === RUN   TestSLURMAPIHealthCheck_Healthy
2026-01-21T00:39:38.9470640Z --- PASS: TestSLURMAPIHealthCheck_Healthy (0.00s)
2026-01-21T00:39:38.9541340Z === RUN   TestSLURMAPIHealthCheck_PingFails
2026-01-21T00:39:38.9542200Z --- PASS: TestSLURMAPIHealthCheck_PingFails (0.00s)
2026-01-21T00:39:38.9542980Z === RUN   TestSLURMAPIHealthCheck_InfoFails
2026-01-21T00:39:38.9543720Z --- PASS: TestSLURMAPIHealthCheck_InfoFails (0.00s)
2026-01-21T00:39:38.9544600Z === RUN   TestCollectorsHealthCheck_AllHealthy
2026-01-21T00:39:38.9548210Z --- PASS: TestCollectorsHealthCheck_AllHealthy (0.00s)
2026-01-21T00:39:38.9548570Z === RUN   TestCollectorsHealthCheck_StaleCollector
2026-01-21T00:39:38.9548880Z --- PASS: TestCollectorsHealthCheck_StaleCollector (0.00s)
2026-01-21T00:39:38.9549180Z === RUN   TestCollectorsHealthCheck_ConsecutiveErrors
2026-01-21T00:39:38.9549510Z --- PASS: TestCollectorsHealthCheck_ConsecutiveErrors (0.00s)
2026-01-21T00:39:38.9550590Z === RUN   TestCollectorsHealthCheck_DisabledCollectors
2026-01-21T00:39:38.9550940Z --- PASS: TestCollectorsHealthCheck_DisabledCollectors (0.00s)
2026-01-21T00:39:38.9552230Z === RUN   TestMemoryHealthCheck_Normal
2026-01-21T00:39:38.9552490Z --- PASS: TestMemoryHealthCheck_Normal (0.00s)
2026-01-21T00:39:38.9552790Z === RUN   TestMemoryHealthCheck_NoThreshold
2026-01-21T00:39:38.9553140Z --- PASS: TestMemoryHealthCheck_NoThreshold (0.00s)
2026-01-21T00:39:38.9553430Z === RUN   TestDiskHealthCheck_Normal
2026-01-21T00:39:38.9553700Z --- PASS: TestDiskHealthCheck_Normal (0.00s)
2026-01-21T00:39:38.9553980Z === RUN   TestDiskHealthCheck_InvalidPath
2026-01-21T00:39:38.9554270Z --- PASS: TestDiskHealthCheck_InvalidPath (0.00s)
2026-01-21T00:39:38.9554570Z === RUN   TestNetworkHealthCheck_Normal
2026-01-21T00:39:38.9554820Z --- PASS: TestNetworkHealthCheck_Normal (0.01s)
2026-01-21T00:39:38.9555120Z === RUN   TestCircuitBreakerHealthCheck_AllClosed
2026-01-21T00:39:38.9555460Z --- PASS: TestCircuitBreakerHealthCheck_AllClosed (0.00s)
2026-01-21T00:39:38.9555780Z === RUN   TestCircuitBreakerHealthCheck_SomeOpen
2026-01-21T00:39:38.9560470Z --- PASS: TestCircuitBreakerHealthCheck_SomeOpen (0.00s)
2026-01-21T00:39:38.9561430Z === RUN   TestCircuitBreakerHealthCheck_HalfOpen
2026-01-21T00:39:38.9562240Z --- PASS: TestCircuitBreakerHealthCheck_HalfOpen (0.00s)
2026-01-21T00:39:38.9562950Z PASS
2026-01-21T00:39:38.9563380Z coverage: 53.8% of statements
2026-01-21T00:39:38.9564360Z ok  	github.com/jontk/slurm-exporter/internal/health	1.040s	coverage: 53.8% of statements
2026-01-21T00:39:39.9884140Z # github.com/jontk/slurm-exporter/internal/integration.test
2026-01-21T00:39:39.9892890Z ld: warning: '/private/var/folders/kg/7q73ww8s3llgyl61c9z_j5g40000gn/T/go-link-4090531784/000021.o' has malformed LC_DYSYMTAB, expected 98 undefined symbols to start at index 1626, found 95 undefined symbols starting at index 1626
2026-01-21T00:39:40.6135980Z # github.com/jontk/slurm-exporter/internal/metrics.test
2026-01-21T00:39:40.6140430Z ld: warning: '/private/var/folders/kg/7q73ww8s3llgyl61c9z_j5g40000gn/T/go-link-1311685089/000021.o' has malformed LC_DYSYMTAB, expected 98 undefined symbols to start at index 1626, found 95 undefined symbols starting at index 1626
2026-01-21T00:39:41.1065210Z === RUN   TestFullCollectorIntegration
2026-01-21T00:39:41.1168690Z     integration_test.go:24: TODO: Implement dependency injection for SLURM client in collector registry
2026-01-21T00:39:41.1271330Z --- SKIP: TestFullCollectorIntegration (0.00s)
2026-01-21T00:39:41.1373760Z === RUN   TestHTTPMetricsEndpoint
2026-01-21T00:39:41.1475280Z     integration_test.go:102: TODO: Implement dependency injection for SLURM client in collector registry
2026-01-21T00:39:41.1576720Z --- SKIP: TestHTTPMetricsEndpoint (0.00s)
2026-01-21T00:39:41.1681500Z === RUN   TestCollectorFiltering
2026-01-21T00:39:41.1782990Z     integration_test.go:150: TODO: Implement dependency injection for SLURM client in collector registry
2026-01-21T00:39:41.1885240Z --- SKIP: TestCollectorFiltering (0.00s)
2026-01-21T00:39:41.1987860Z === RUN   TestCollectorCustomLabels
2026-01-21T00:39:41.2091530Z     integration_test.go:196: TODO: Implement dependency injection for SLURM client in collector registry
2026-01-21T00:39:41.2194560Z --- SKIP: TestCollectorCustomLabels (0.00s)
2026-01-21T00:39:41.2302780Z === RUN   TestCollectorTimeout
2026-01-21T00:39:41.2305800Z     integration_test.go:242: TODO: Implement dependency injection for SLURM client in collector registry
2026-01-21T00:39:41.2420950Z --- SKIP: TestCollectorTimeout (0.00s)
2026-01-21T00:39:41.2525700Z === RUN   TestPerformanceMonitoringIntegration
2026-01-21T00:39:41.2627180Z     integration_test.go:284: TODO: Implement dependency injection for SLURM client in collector registry
2026-01-21T00:39:41.2728490Z --- SKIP: TestPerformanceMonitoringIntegration (0.00s)
2026-01-21T00:39:41.2829470Z === RUN   TestCardinalityLimiting
2026-01-21T00:39:41.2961780Z     integration_test.go:336: TODO: Implement dependency injection for SLURM client in collector registry
2026-01-21T00:39:41.3063280Z --- SKIP: TestCardinalityLimiting (0.00s)
2026-01-21T00:39:41.3165450Z PASS
2026-01-21T00:39:41.3267060Z coverage: [no statements]
2026-01-21T00:39:41.3369030Z ok  	github.com/jontk/slurm-exporter/internal/integration	1.107s	coverage: [no statements]
2026-01-21T00:39:41.3472290Z === RUN   TestNewLogger
2026-01-21T00:39:41.3575090Z === RUN   TestNewLogger/WithValidConfig
2026-01-21T00:39:41.3677680Z === RUN   TestNewLogger/WithNilConfig
2026-01-21T00:39:41.3780740Z === RUN   TestNewLogger/WithInvalidLevel
2026-01-21T00:39:41.3882760Z === RUN   TestNewLogger/WithTextFormatter
2026-01-21T00:39:41.3985520Z === RUN   TestNewLogger/WithConstantFields
2026-01-21T00:39:41.4088010Z --- PASS: TestNewLogger (0.00s)
2026-01-21T00:39:41.4189860Z     --- PASS: TestNewLogger/WithValidConfig (0.00s)
2026-01-21T00:39:41.4291410Z     --- PASS: TestNewLogger/WithNilConfig (0.00s)
2026-01-21T00:39:41.4403310Z     --- PASS: TestNewLogger/WithInvalidLevel (0.00s)
2026-01-21T00:39:41.4505570Z     --- PASS: TestNewLogger/WithTextFormatter (0.00s)
2026-01-21T00:39:41.4618890Z     --- PASS: TestNewLogger/WithConstantFields (0.00s)
2026-01-21T00:39:41.4724960Z === RUN   TestLoggerFileOutput
2026-01-21T00:39:41.4826930Z === RUN   TestLoggerFileOutput/WithValidFile
2026-01-21T00:39:41.4937180Z === RUN   TestLoggerFileOutput/WithFileOutputNoPath
2026-01-21T00:39:41.5039180Z === RUN   TestLoggerFileOutput/WithNestedDirectory
2026-01-21T00:39:41.5141390Z --- PASS: TestLoggerFileOutput (0.00s)
2026-01-21T00:39:41.5245550Z     --- PASS: TestLoggerFileOutput/WithValidFile (0.00s)
2026-01-21T00:39:41.5348950Z     --- PASS: TestLoggerFileOutput/WithFileOutputNoPath (0.00s)
2026-01-21T00:39:41.5448740Z     --- PASS: TestLoggerFileOutput/WithNestedDirectory (0.00s)
2026-01-21T00:39:41.5551190Z === RUN   TestLoggerMethods
2026-01-21T00:39:41.5652680Z === RUN   TestLoggerMethods/WithComponent
2026-01-21T00:39:41.5753050Z === RUN   TestLoggerMethods/WithCollector
2026-01-21T00:39:41.5859060Z === RUN   TestLoggerMethods/WithRequest
2026-01-21T00:39:41.5966140Z === RUN   TestLoggerMethods/WithError
2026-01-21T00:39:41.6068270Z === RUN   TestLoggerMethods/WithDuration
2026-01-21T00:39:41.6170270Z === RUN   TestLoggerMethods/IsHTTPSuppressed
2026-01-21T00:39:41.6271520Z === RUN   TestLoggerMethods/SetLevel
2026-01-21T00:39:41.6301970Z --- PASS: TestLoggerMethods (0.00s)
2026-01-21T00:39:41.6403530Z     --- PASS: TestLoggerMethods/WithComponent (0.00s)
2026-01-21T00:39:41.6508260Z     --- PASS: TestLoggerMethods/WithCollector (0.00s)
2026-01-21T00:39:41.6609870Z     --- PASS: TestLoggerMethods/WithRequest (0.00s)
2026-01-21T00:39:41.6711880Z     --- PASS: TestLoggerMethods/WithError (0.00s)
2026-01-21T00:39:41.6814060Z     --- PASS: TestLoggerMethods/WithDuration (0.00s)
2026-01-21T00:39:41.6926210Z     --- PASS: TestLoggerMethods/IsHTTPSuppressed (0.00s)
2026-01-21T00:39:41.7036310Z     --- PASS: TestLoggerMethods/SetLevel (0.00s)
2026-01-21T00:39:41.7136460Z === RUN   TestLogLevels
2026-01-21T00:39:41.7243250Z === RUN   TestLogLevels/Level_debug
2026-01-21T00:39:41.7389790Z === RUN   TestLogLevels/Level_info
2026-01-21T00:39:41.7507430Z === RUN   TestLogLevels/Level_warn
2026-01-21T00:39:41.7655590Z === RUN   TestLogLevels/Level_error
2026-01-21T00:39:41.7766710Z --- PASS: TestLogLevels (0.00s)
2026-01-21T00:39:41.7881490Z     --- PASS: TestLogLevels/Level_debug (0.00s)
2026-01-21T00:39:41.8005810Z     --- PASS: TestLogLevels/Level_info (0.00s)
2026-01-21T00:39:41.8168120Z     --- PASS: TestLogLevels/Level_warn (0.00s)
2026-01-21T00:39:41.8297140Z     --- PASS: TestLogLevels/Level_error (0.00s)
2026-01-21T00:39:41.8407970Z === RUN   TestLogFormats
2026-01-21T00:39:41.8550720Z === RUN   TestLogFormats/Format_json
2026-01-21T00:39:41.8659570Z === RUN   TestLogFormats/Format_text
2026-01-21T00:39:41.8774820Z === RUN   TestLogFormats/Format_invalid
2026-01-21T00:39:41.8887930Z --- PASS: TestLogFormats (0.00s)
2026-01-21T00:39:41.9001850Z     --- PASS: TestLogFormats/Format_json (0.00s)
2026-01-21T00:39:41.9103800Z     --- PASS: TestLogFormats/Format_text (0.00s)
2026-01-21T00:39:41.9212010Z     --- PASS: TestLogFormats/Format_invalid (0.00s)
2026-01-21T00:39:41.9313320Z === RUN   TestClose
2026-01-21T00:39:41.9417780Z === RUN   TestClose/FileOutput
2026-01-21T00:39:41.9520080Z === RUN   TestClose/StdoutOutput
2026-01-21T00:39:41.9621740Z --- PASS: TestClose (0.00s)
2026-01-21T00:39:41.9802180Z     --- PASS: TestClose/FileOutput (0.00s)
2026-01-21T00:39:41.9903660Z     --- PASS: TestClose/StdoutOutput (0.00s)
2026-01-21T00:39:42.0006330Z PASS
2026-01-21T00:39:42.0108880Z coverage: 72.7% of statements
2026-01-21T00:39:42.0205930Z ok  	github.com/jontk/slurm-exporter/internal/logging	1.151s	coverage: 72.7% of statements
2026-01-21T00:39:42.2416500Z === RUN   TestCardinalityManager
2026-01-21T00:39:42.2523580Z === RUN   TestCardinalityManager/NewCardinalityManager
2026-01-21T00:39:42.2629330Z === RUN   TestCardinalityManager/SetLimit
2026-01-21T00:39:42.2731330Z === RUN   TestCardinalityManager/ShouldCollectMetric
2026-01-21T00:39:42.2835040Z === RUN   TestCardinalityManager/SamplingLogic
2026-01-21T00:39:42.2941070Z === RUN   TestCardinalityManager/PatternMatching
2026-01-21T00:39:42.3042680Z === RUN   TestCardinalityManager/UsageTracking
2026-01-21T00:39:42.3143240Z === RUN   TestCardinalityManager/HashConsistency
2026-01-21T00:39:42.3263420Z === RUN   TestCardinalityManager/GetCardinalityReport
2026-01-21T00:39:42.3365260Z === RUN   TestCardinalityManager/ViolationDetection
2026-01-21T00:39:42.3467120Z === RUN   TestCardinalityManager/RecommendationGeneration
2026-01-21T00:39:42.3574980Z === RUN   TestCardinalityManager/RegisterMetrics
2026-01-21T00:39:42.3699690Z === RUN   TestCardinalityManager/MonitoringStart
2026-01-21T00:39:42.3869440Z === RUN   TestCardinalityManager/DefaultLimitsConfiguration
2026-01-21T00:39:42.3987070Z === RUN   TestCardinalityManager/LabelValueLimits
2026-01-21T00:39:42.4128440Z --- PASS: TestCardinalityManager (0.06s)
2026-01-21T00:39:42.4250440Z     --- PASS: TestCardinalityManager/NewCardinalityManager (0.00s)
2026-01-21T00:39:42.4409090Z     --- PASS: TestCardinalityManager/SetLimit (0.00s)
2026-01-21T00:39:42.4611340Z     --- PASS: TestCardinalityManager/ShouldCollectMetric (0.00s)
2026-01-21T00:39:42.4715180Z     --- PASS: TestCardinalityManager/SamplingLogic (0.00s)
2026-01-21T00:39:42.4820130Z     --- PASS: TestCardinalityManager/PatternMatching (0.00s)
2026-01-21T00:39:42.4927990Z     --- PASS: TestCardinalityManager/UsageTracking (0.00s)
2026-01-21T00:39:42.5162640Z     --- PASS: TestCardinalityManager/HashConsistency (0.00s)
2026-01-21T00:39:42.5264850Z     --- PASS: TestCardinalityManager/GetCardinalityReport (0.00s)
2026-01-21T00:39:42.5370090Z     --- PASS: TestCardinalityManager/ViolationDetection (0.00s)
2026-01-21T00:39:42.5472300Z     --- PASS: TestCardinalityManager/RecommendationGeneration (0.00s)
2026-01-21T00:39:42.5574110Z     --- PASS: TestCardinalityManager/RegisterMetrics (0.00s)
2026-01-21T00:39:42.5676550Z     --- PASS: TestCardinalityManager/MonitoringStart (0.05s)
2026-01-21T00:39:42.5778790Z     --- PASS: TestCardinalityManager/DefaultLimitsConfiguration (0.00s)
2026-01-21T00:39:42.5881080Z     --- PASS: TestCardinalityManager/LabelValueLimits (0.00s)
2026-01-21T00:39:42.5982350Z === RUN   TestCardinalityLimitPriorities
2026-01-21T00:39:42.6100000Z === RUN   TestCardinalityLimitPriorities/PriorityEnforcement
2026-01-21T00:39:42.6207390Z --- PASS: TestCardinalityLimitPriorities (0.00s)
2026-01-21T00:39:42.6310210Z     --- PASS: TestCardinalityLimitPriorities/PriorityEnforcement (0.00s)
2026-01-21T00:39:42.6412270Z === RUN   TestFilterStrategies
2026-01-21T00:39:42.6515260Z === RUN   TestFilterStrategies/FilterConfiguration
2026-01-21T00:39:42.6616970Z === RUN   TestFilterStrategies/FilterStrategiesEnum
2026-01-21T00:39:42.6726550Z --- PASS: TestFilterStrategies (0.00s)
2026-01-21T00:39:42.6829350Z     --- PASS: TestFilterStrategies/FilterConfiguration (0.00s)
2026-01-21T00:39:42.6931960Z # github.com/jontk/slurm-exporter/internal/resilience.test
2026-01-21T00:39:42.6933300Z     --- PASS: TestFilterStrategies/FilterStrategiesEnum (0.00s)
2026-01-21T00:39:42.7051130Z ld: warning: '/private/var/folders/kg/7q73ww8s3llgyl61c9z_j5g40000gn/T/go-link-771153722/000021.o' has malformed LC_DYSYMTAB, expected 98 undefined symbols to start at index 1626, found 95 undefined symbols starting at index 1626
2026-01-21T00:39:42.7052220Z === RUN   TestCardinalityReport
2026-01-21T00:39:42.7154780Z === RUN   TestCardinalityReport/ReportStructure
2026-01-21T00:39:42.7256780Z === RUN   TestCardinalityReport/ReportSorting
2026-01-21T00:39:42.7370290Z --- PASS: TestCardinalityReport (0.00s)
2026-01-21T00:39:42.7484630Z     --- PASS: TestCardinalityReport/ReportStructure (0.00s)
2026-01-21T00:39:42.7608860Z     --- PASS: TestCardinalityReport/ReportSorting (0.00s)
2026-01-21T00:39:42.7727220Z === RUN   TestLabelManager
2026-01-21T00:39:42.7828360Z === RUN   TestLabelManager/ValidateLabels
2026-01-21T00:39:42.7929540Z === RUN   TestLabelManager/ValidateInvalidLabels
2026-01-21T00:39:42.8039170Z === RUN   TestLabelManager/ValidateLabel
2026-01-21T00:39:42.8144860Z === RUN   TestLabelManager/SanitizeLabels
2026-01-21T00:39:42.8340850Z === RUN   TestLabelManager/TrackLabelUsage
2026-01-21T00:39:42.8489740Z === RUN   TestLabelManager/GetDimensionalAnalysis
2026-01-21T00:39:42.8591070Z === RUN   TestLabelManager/GetHighCardinalityLabels
2026-01-21T00:39:42.8700700Z === RUN   TestLabelManager/BuildLabelSet
2026-01-21T00:39:42.8802150Z === RUN   TestLabelManager/GetLabelRecommendations
2026-01-21T00:39:42.8903360Z --- PASS: TestLabelManager (0.05s)
2026-01-21T00:39:42.9005590Z     --- PASS: TestLabelManager/ValidateLabels (0.00s)
2026-01-21T00:39:42.9110980Z     --- PASS: TestLabelManager/ValidateInvalidLabels (0.01s)
2026-01-21T00:39:42.9213250Z     --- PASS: TestLabelManager/ValidateLabel (0.01s)
2026-01-21T00:39:42.9409510Z     --- PASS: TestLabelManager/SanitizeLabels (0.00s)
2026-01-21T00:39:42.9410790Z     --- PASS: TestLabelManager/TrackLabelUsage (0.00s)
2026-01-21T00:39:42.9512480Z     --- PASS: TestLabelManager/GetDimensionalAnalysis (0.00s)
2026-01-21T00:39:42.9614880Z     --- PASS: TestLabelManager/GetHighCardinalityLabels (0.00s)
2026-01-21T00:39:42.9714590Z     --- PASS: TestLabelManager/BuildLabelSet (0.01s)
2026-01-21T00:39:42.9828000Z     --- PASS: TestLabelManager/GetLabelRecommendations (0.00s)
2026-01-21T00:39:42.9933490Z === RUN   TestLabelDimension
2026-01-21T00:39:43.0056680Z === RUN   TestLabelDimension/StandardLabels
2026-01-21T00:39:43.0168450Z === RUN   TestLabelDimension/LabelTypes
2026-01-21T00:39:43.0289030Z --- PASS: TestLabelDimension (0.00s)
2026-01-21T00:39:43.0395310Z     --- PASS: TestLabelDimension/StandardLabels (0.00s)
2026-01-21T00:39:43.0515960Z     --- PASS: TestLabelDimension/LabelTypes (0.00s)
2026-01-21T00:39:43.0658280Z === RUN   TestLabelValidation
2026-01-21T00:39:43.0792150Z === RUN   TestLabelValidation/ClusterNameValidation
2026-01-21T00:39:43.0945820Z === RUN   TestLabelValidation/JobIDValidation
2026-01-21T00:39:43.1073310Z === RUN   TestLabelValidation/StateValidation
2026-01-21T00:39:43.1182450Z --- PASS: TestLabelValidation (0.00s)
2026-01-21T00:39:43.1285710Z     --- PASS: TestLabelValidation/ClusterNameValidation (0.00s)
2026-01-21T00:39:43.1387380Z     --- PASS: TestLabelValidation/JobIDValidation (0.00s)
2026-01-21T00:39:43.1495950Z     --- PASS: TestLabelValidation/StateValidation (0.00s)
2026-01-21T00:39:43.1606240Z === RUN   TestLabelSanitization
2026-01-21T00:39:43.1707680Z === RUN   TestLabelSanitization/ValueSanitization
2026-01-21T00:39:43.1809080Z === RUN   TestLabelSanitization/SensitiveLabelHandling
2026-01-21T00:39:43.1909800Z --- PASS: TestLabelSanitization (0.00s)
2026-01-21T00:39:43.2011780Z     --- PASS: TestLabelSanitization/ValueSanitization (0.00s)
2026-01-21T00:39:43.2113590Z     --- PASS: TestLabelSanitization/SensitiveLabelHandling (0.00s)
2026-01-21T00:39:43.2213860Z === RUN   TestDimensionalAnalysisReport
2026-01-21T00:39:43.2332250Z === RUN   TestDimensionalAnalysisReport/ExportDimensionalAnalysis
2026-01-21T00:39:43.2438520Z --- PASS: TestDimensionalAnalysisReport (0.00s)
2026-01-21T00:39:43.2574360Z     --- PASS: TestDimensionalAnalysisReport/ExportDimensionalAnalysis (0.00s)
2026-01-21T00:39:43.2683680Z === RUN   TestCardinalityInfo
2026-01-21T00:39:43.2843270Z === RUN   TestCardinalityInfo/CardinalityInfoFields
2026-01-21T00:39:43.2986600Z --- PASS: TestCardinalityInfo (0.00s)
2026-01-21T00:39:43.3126540Z     --- PASS: TestCardinalityInfo/CardinalityInfoFields (0.00s)
2026-01-21T00:39:43.3250680Z === RUN   TestLabelRecommendations
2026-01-21T00:39:43.3353480Z === RUN   TestLabelRecommendations/RecommendationTypes
2026-01-21T00:39:43.3457080Z === RUN   TestLabelRecommendations/SeverityLevels
2026-01-21T00:39:43.3559530Z --- PASS: TestLabelRecommendations (0.00s)
2026-01-21T00:39:43.3660820Z     --- PASS: TestLabelRecommendations/RecommendationTypes (0.00s)
2026-01-21T00:39:43.3762050Z     --- PASS: TestLabelRecommendations/SeverityLevels (0.00s)
2026-01-21T00:39:43.3863790Z === RUN   TestMetricMetadata
2026-01-21T00:39:43.3964910Z === RUN   TestMetricMetadata/GetMetricMetadata
2026-01-21T00:39:43.4067520Z === RUN   TestMetricMetadata/GetMetricsByCategory
2026-01-21T00:39:43.4169100Z === RUN   TestMetricMetadata/GetMetricsByStability
2026-01-21T00:39:43.4270920Z === RUN   TestMetricMetadata/ValidateMetricMetadata
2026-01-21T00:39:43.4373720Z === RUN   TestMetricMetadata/GetMetricCount
2026-01-21T00:39:43.4474870Z === RUN   TestMetricMetadata/GetCategoryCount
2026-01-21T00:39:43.4575900Z --- PASS: TestMetricMetadata (0.00s)
2026-01-21T00:39:43.4688150Z     --- PASS: TestMetricMetadata/GetMetricMetadata (0.00s)
2026-01-21T00:39:43.4806850Z     --- PASS: TestMetricMetadata/GetMetricsByCategory (0.00s)
2026-01-21T00:39:43.4907220Z     --- PASS: TestMetricMetadata/GetMetricsByStability (0.00s)
2026-01-21T00:39:43.5007840Z     --- PASS: TestMetricMetadata/ValidateMetricMetadata (0.00s)
2026-01-21T00:39:43.5110370Z     --- PASS: TestMetricMetadata/GetMetricCount (0.00s)
2026-01-21T00:39:43.5210520Z     --- PASS: TestMetricMetadata/GetCategoryCount (0.00s)
2026-01-21T00:39:43.5316490Z === RUN   TestMetricTypes
2026-01-21T00:39:43.5421340Z === RUN   TestMetricTypes/MetricType
2026-01-21T00:39:43.5519470Z === RUN   TestMetricTypes/MetricCategory
2026-01-21T00:39:43.5620700Z === RUN   TestMetricTypes/StabilityLevel
2026-01-21T00:39:43.5721380Z --- PASS: TestMetricTypes (0.00s)
2026-01-21T00:39:43.5822790Z     --- PASS: TestMetricTypes/MetricType (0.00s)
2026-01-21T00:39:43.5924280Z     --- PASS: TestMetricTypes/MetricCategory (0.00s)
2026-01-21T00:39:43.6025380Z     --- PASS: TestMetricTypes/StabilityLevel (0.00s)
2026-01-21T00:39:43.6144560Z === RUN   TestDocumentationGeneration
2026-01-21T00:39:43.6277730Z === RUN   TestDocumentationGeneration/GenerateDocumentation
2026-01-21T00:39:43.6379940Z === RUN   TestDocumentationGeneration/GeneratePrometheusConfig
2026-01-21T00:39:43.6483030Z === RUN   TestDocumentationGeneration/GenerateGrafanaDashboard
2026-01-21T00:39:43.6630880Z --- PASS: TestDocumentationGeneration (0.00s)
2026-01-21T00:39:43.6747820Z     --- PASS: TestDocumentationGeneration/GenerateDocumentation (0.00s)
2026-01-21T00:39:43.6850610Z     --- PASS: TestDocumentationGeneration/GeneratePrometheusConfig (0.00s)
2026-01-21T00:39:43.6952080Z     --- PASS: TestDocumentationGeneration/GenerateGrafanaDashboard (0.00s)
2026-01-21T00:39:43.7059500Z === RUN   TestMetricMetadataStructure
2026-01-21T00:39:43.7166370Z === RUN   TestMetricMetadataStructure/RequiredFields
2026-01-21T00:39:43.7268570Z === RUN   TestMetricMetadataStructure/ExampleValues
2026-01-21T00:39:43.7392230Z === RUN   TestMetricMetadataStructure/RelatedMetrics
2026-01-21T00:39:43.7499780Z === RUN   TestMetricMetadataStructure/LabelConsistency
2026-01-21T00:39:43.7601050Z --- PASS: TestMetricMetadataStructure (0.00s)
2026-01-21T00:39:43.7702560Z     --- PASS: TestMetricMetadataStructure/RequiredFields (0.00s)
2026-01-21T00:39:43.7803990Z     --- PASS: TestMetricMetadataStructure/ExampleValues (0.00s)
2026-01-21T00:39:43.7905460Z     --- PASS: TestMetricMetadataStructure/RelatedMetrics (0.00s)
2026-01-21T00:39:43.7954020Z     --- PASS: TestMetricMetadataStructure/LabelConsistency (0.00s)
2026-01-21T00:39:43.8061060Z === RUN   TestDocumentationQuality
2026-01-21T00:39:43.8162480Z === RUN   TestDocumentationQuality/HelpTextQuality
2026-01-21T00:39:43.8263660Z === RUN   TestDocumentationQuality/UseCaseCompleness
2026-01-21T00:39:43.8376690Z --- PASS: TestDocumentationQuality (0.00s)
2026-01-21T00:39:43.8489920Z     --- PASS: TestDocumentationQuality/HelpTextQuality (0.00s)
2026-01-21T00:39:43.8684230Z     --- PASS: TestDocumentationQuality/UseCaseCompleness (0.00s)
2026-01-21T00:39:43.8802710Z === RUN   TestCategoryDistribution
2026-01-21T00:39:43.8917950Z === RUN   TestCategoryDistribution/CategoryBalance
2026-01-21T00:39:43.9035400Z     metadata_test.go:350: Metric distribution by category:
2026-01-21T00:39:43.9137790Z     metadata_test.go:352:   user: 1 metrics
2026-01-21T00:39:43.9268490Z     metadata_test.go:352:   partition: 1 metrics
2026-01-21T00:39:43.9389130Z     metadata_test.go:352:   performance: 1 metrics
2026-01-21T00:39:43.9503800Z     metadata_test.go:352:   cluster: 3 metrics
2026-01-21T00:39:43.9626780Z     metadata_test.go:352:   node: 2 metrics
2026-01-21T00:39:43.9766250Z     metadata_test.go:352:   job: 2 metrics
2026-01-21T00:39:43.9918260Z     metadata_test.go:352:   exporter: 1 metrics
2026-01-21T00:39:44.0020270Z --- PASS: TestCategoryDistribution (0.00s)
2026-01-21T00:39:44.0163240Z     --- PASS: TestCategoryDistribution/CategoryBalance (0.00s)
2026-01-21T00:39:44.0272170Z === RUN   TestPerformanceMetrics
2026-01-21T00:39:44.0382810Z --- PASS: TestPerformanceMetrics (0.07s)
2026-01-21T00:39:44.0484830Z === RUN   TestCacheMetricsRecorder
2026-01-21T00:39:44.0647970Z --- PASS: TestCacheMetricsRecorder (0.00s)
2026-01-21T00:39:44.0761330Z === RUN   TestCardinalityTracker
2026-01-21T00:39:44.0868550Z --- PASS: TestCardinalityTracker (0.15s)
2026-01-21T00:39:44.0980840Z === RUN   TestTimerZeroDuration
2026-01-21T00:39:44.1082400Z --- PASS: TestTimerZeroDuration (0.00s)
2026-01-21T00:39:44.1184480Z === RUN   TestMetricsDoubleRegistration
2026-01-21T00:39:44.1287080Z --- PASS: TestMetricsDoubleRegistration (0.00s)
2026-01-21T00:39:44.1399240Z === RUN   TestUpdateFunctions
2026-01-21T00:39:44.1501630Z --- PASS: TestUpdateFunctions (0.00s)
2026-01-21T00:39:44.1613270Z PASS
2026-01-21T00:39:44.1716110Z coverage: 56.1% of statements
2026-01-21T00:39:44.1821570Z ok  	github.com/jontk/slurm-exporter/internal/metrics	1.535s	coverage: 56.1% of statements
2026-01-21T00:39:44.4295890Z # github.com/jontk/slurm-exporter/internal/server.test
2026-01-21T00:39:44.4403820Z ld: warning: '/private/var/folders/kg/7q73ww8s3llgyl61c9z_j5g40000gn/T/go-link-1783433348/000024.o' has malformed LC_DYSYMTAB, expected 98 undefined symbols to start at index 1626, found 95 undefined symbols starting at index 1626
2026-01-21T00:39:44.5196350Z # github.com/jontk/slurm-exporter/internal/performance.test
2026-01-21T00:39:44.5298220Z ld: warning: '/private/var/folders/kg/7q73ww8s3llgyl61c9z_j5g40000gn/T/go-link-361093003/000013.o' has malformed LC_DYSYMTAB, expected 98 undefined symbols to start at index 1626, found 95 undefined symbols starting at index 1626
2026-01-21T00:39:44.7187320Z === RUN   TestNewBatchProcessor
2026-01-21T00:39:44.7289900Z === RUN   TestNewBatchProcessor/default_values
2026-01-21T00:39:44.7391130Z time="2026-01-21T00:39:44Z" level=info msg="Stopping batch processor"
2026-01-21T00:39:44.7495060Z time="2026-01-21T00:39:44Z" level=info msg="Batch processor stopped"
2026-01-21T00:39:44.7596400Z === RUN   TestNewBatchProcessor/custom_values
2026-01-21T00:39:44.7712390Z time="2026-01-21T00:39:44Z" level=info msg="Stopping batch processor"
2026-01-21T00:39:44.7814150Z time="2026-01-21T00:39:44Z" level=info msg="Batch processor stopped"
2026-01-21T00:39:44.7921090Z --- PASS: TestNewBatchProcessor (0.00s)
2026-01-21T00:39:44.8031630Z     --- PASS: TestNewBatchProcessor/default_values (0.00s)
2026-01-21T00:39:44.8149330Z     --- PASS: TestNewBatchProcessor/custom_values (0.00s)
2026-01-21T00:39:44.8262530Z === RUN   TestBatchProcessor_Add
2026-01-21T00:39:44.8371130Z time="2026-01-21T00:39:44Z" level=warning msg="No processor registered for batch type during flush" batch_type=test
2026-01-21T00:39:44.8513130Z     batch_processor_test.go:111: 
2026-01-21T00:39:44.8616780Z         	Error Trace:	/Users/runner/work/slurm-exporter/slurm-exporter/internal/performance/batch_processor_test.go:111
2026-01-21T00:39:44.8685270Z         	Error:      	Should be true
2026-01-21T00:39:44.8787600Z         	Test:       	TestBatchProcessor_Add
2026-01-21T00:39:44.8888310Z time="2026-01-21T00:39:44Z" level=info msg="Stopping batch processor"
2026-01-21T00:39:44.8989070Z time="2026-01-21T00:39:44Z" level=info msg="Batch processor stopped"
2026-01-21T00:39:44.9090200Z --- FAIL: TestBatchProcessor_Add (0.00s)
2026-01-21T00:39:44.9092080Z panic: runtime error: invalid memory address or nil pointer dereference [recovered]
2026-01-21T00:39:44.9093020Z 	panic: runtime error: invalid memory address or nil pointer dereference
2026-01-21T00:39:44.9093690Z [signal SIGSEGV: segmentation violation code=0x2 addr=0x0 pc=0x1008090f0]
2026-01-21T00:39:44.9094180Z 
2026-01-21T00:39:44.9095090Z goroutine 25 [running]:
2026-01-21T00:39:44.9095810Z testing.tRunner.func1.2({0x100a38640, 0x100dfd780})
2026-01-21T00:39:44.9096540Z 	/Users/runner/hostedtoolcache/go/1.24.11/arm64/src/testing/testing.go:1734 +0x2bc
2026-01-21T00:39:44.9097160Z testing.tRunner.func1()
2026-01-21T00:39:44.9097720Z 	/Users/runner/hostedtoolcache/go/1.24.11/arm64/src/testing/testing.go:1737 +0x47c
2026-01-21T00:39:44.9098670Z panic({0x100a38640?, 0x100dfd780?})
2026-01-21T00:39:44.9101040Z 	/Users/runner/hostedtoolcache/go/1.24.11/arm64/src/runtime/panic.go:792 +0x124
2026-01-21T00:39:44.9101790Z github.com/jontk/slurm-exporter/internal/performance.TestBatchProcessor_Add(0xc0004e5180)
2026-01-21T00:39:44.9102820Z 	/Users/runner/work/slurm-exporter/slurm-exporter/internal/performance/batch_processor_test.go:112 +0x7a0
2026-01-21T00:39:44.9103580Z testing.tRunner(0xc0004e5180, 0x100ad11c8)
2026-01-21T00:39:44.9104220Z 	/Users/runner/hostedtoolcache/go/1.24.11/arm64/src/testing/testing.go:1792 +0x184
2026-01-21T00:39:44.9104920Z created by testing.(*T).Run in goroutine 1
2026-01-21T00:39:44.9105700Z 	/Users/runner/hostedtoolcache/go/1.24.11/arm64/src/testing/testing.go:1851 +0x688
2026-01-21T00:39:44.9106360Z FAIL	github.com/jontk/slurm-exporter/internal/performance	0.165s
2026-01-21T00:39:45.7871620Z === RUN   TestCircuitBreaker_Basic
2026-01-21T00:39:45.7872010Z --- PASS: TestCircuitBreaker_Basic (0.00s)
2026-01-21T00:39:45.7997080Z === RUN   TestCircuitBreaker_FailureThreshold
2026-01-21T00:39:45.8138270Z time="2026-01-21T00:39:44Z" level=warning msg="Circuit breaker recorded failure" circuit_breaker=test error="test error" failures=1 state=closed
2026-01-21T00:39:45.8244520Z time="2026-01-21T00:39:44Z" level=warning msg="Circuit breaker recorded failure" circuit_breaker=test error="test error" failures=2 state=closed
2026-01-21T00:39:45.8347080Z time="2026-01-21T00:39:44Z" level=warning msg="Circuit breaker recorded failure" circuit_breaker=test error="test error" failures=3 state=closed
2026-01-21T00:39:45.8449730Z --- PASS: TestCircuitBreaker_FailureThreshold (0.00s)
2026-01-21T00:39:45.8566080Z === RUN   TestCircuitBreaker_Recovery
2026-01-21T00:39:45.8607210Z time="2026-01-21T00:39:44Z" level=warning msg="Circuit breaker recorded failure" circuit_breaker=test error="test error" failures=1 state=closed
2026-01-21T00:39:45.8629260Z time="2026-01-21T00:39:44Z" level=warning msg="Circuit breaker recorded failure" circuit_breaker=test error="test error" failures=2 state=closed
2026-01-21T00:39:45.8783000Z --- PASS: TestCircuitBreaker_Recovery (0.06s)
2026-01-21T00:39:45.8898280Z === RUN   TestCircuitBreaker_HalfOpenFailure
2026-01-21T00:39:45.9001940Z time="2026-01-21T00:39:44Z" level=warning msg="Circuit breaker recorded failure" circuit_breaker=test error="test error" failures=1 state=closed
2026-01-21T00:39:45.9104220Z time="2026-01-21T00:39:44Z" level=warning msg="Circuit breaker recorded failure" circuit_breaker=test error="test error" failures=2 state=closed
2026-01-21T00:39:45.9210580Z time="2026-01-21T00:39:44Z" level=warning msg="Circuit breaker recorded failure" circuit_breaker=test error="test error" failures=3 state=half-open
2026-01-21T00:39:45.9307080Z --- PASS: TestCircuitBreaker_HalfOpenFailure (0.06s)
2026-01-21T00:39:45.9408160Z === RUN   TestCircuitBreaker_HalfOpenCapacity
2026-01-21T00:39:45.9516680Z time="2026-01-21T00:39:44Z" level=warning msg="Circuit breaker recorded failure" circuit_breaker=test error="test error" failures=1 state=closed
2026-01-21T00:39:45.9566760Z time="2026-01-21T00:39:44Z" level=warning msg="Circuit breaker recorded failure" circuit_breaker=test error="test error" failures=2 state=closed
2026-01-21T00:39:45.9568700Z --- PASS: TestCircuitBreaker_HalfOpenCapacity (0.06s)
2026-01-21T00:39:45.9571000Z === RUN   TestCircuitBreaker_CallWithContext
2026-01-21T00:39:45.9572150Z time="2026-01-21T00:39:44Z" level=warning msg="Circuit breaker recorded failure" circuit_breaker=test error="test error" failures=1 state=closed
2026-01-21T00:39:45.9573050Z --- PASS: TestCircuitBreaker_CallWithContext (0.00s)
2026-01-21T00:39:45.9573950Z === RUN   TestCircuitBreaker_Disabled
2026-01-21T00:39:45.9574890Z --- PASS: TestCircuitBreaker_Disabled (0.00s)
2026-01-21T00:39:45.9575510Z === RUN   TestCircuitBreaker_Reset
2026-01-21T00:39:45.9577680Z time="2026-01-21T00:39:44Z" level=warning msg="Circuit breaker recorded failure" circuit_breaker=test error="test error" failures=1 state=closed
2026-01-21T00:39:45.9579100Z time="2026-01-21T00:39:44Z" level=warning msg="Circuit breaker recorded failure" circuit_breaker=test error="test error" failures=2 state=closed
2026-01-21T00:39:45.9580770Z --- PASS: TestCircuitBreaker_Reset (0.00s)
2026-01-21T00:39:45.9582690Z === RUN   TestCircuitBreaker_Status
2026-01-21T00:39:45.9583320Z --- PASS: TestCircuitBreaker_Status (0.00s)
2026-01-21T00:39:45.9583970Z === RUN   TestCircuitBreakerManager
2026-01-21T00:39:45.9585880Z --- PASS: TestCircuitBreakerManager (0.00s)
2026-01-21T00:39:45.9586340Z === RUN   TestCircuitBreakerManager_HealthCheck
2026-01-21T00:39:45.9588220Z time="2026-01-21T00:39:44Z" level=warning msg="Circuit breaker recorded failure" circuit_breaker=cb1 error="test error" failures=1 state=closed
2026-01-21T00:39:45.9589360Z --- PASS: TestCircuitBreakerManager_HealthCheck (0.00s)
2026-01-21T00:39:45.9590240Z === RUN   TestState_String
2026-01-21T00:39:45.9590770Z --- PASS: TestState_String (0.00s)
2026-01-21T00:39:45.9591820Z === RUN   TestStatus_TimeUntilRetry
2026-01-21T00:39:45.9593160Z --- PASS: TestStatus_TimeUntilRetry (0.00s)
2026-01-21T00:39:45.9593450Z PASS
2026-01-21T00:39:45.9593630Z coverage: 93.6% of statements
2026-01-21T00:39:45.9594020Z ok  	github.com/jontk/slurm-exporter/internal/resilience	1.230s	coverage: 93.6% of statements
2026-01-21T00:39:50.9516610Z # github.com/jontk/slurm-exporter/internal/tracing.test
2026-01-21T00:39:50.9522150Z ld: warning: '/private/var/folders/kg/7q73ww8s3llgyl61c9z_j5g40000gn/T/go-link-1891142082/000013.o' has malformed LC_DYSYMTAB, expected 98 undefined symbols to start at index 1626, found 95 undefined symbols starting at index 1626
2026-01-21T00:39:53.5875190Z # github.com/jontk/slurm-exporter/test/benchmark.test
2026-01-21T00:39:53.5878470Z ld: warning: '/private/var/folders/kg/7q73ww8s3llgyl61c9z_j5g40000gn/T/go-link-1434561172/000021.o' has malformed LC_DYSYMTAB, expected 98 undefined symbols to start at index 1626, found 95 undefined symbols starting at index 1626
2026-01-21T00:39:55.7539000Z # github.com/jontk/slurm-exporter/test/security.test
2026-01-21T00:39:55.7542150Z ld: warning: '/private/var/folders/kg/7q73ww8s3llgyl61c9z_j5g40000gn/T/go-link-1900576208/000013.o' has malformed LC_DYSYMTAB, expected 98 undefined symbols to start at index 1626, found 95 undefined symbols starting at index 1626
2026-01-21T00:39:59.0738120Z === RUN   TestLoggingMiddleware
2026-01-21T00:39:59.0741120Z --- PASS: TestLoggingMiddleware (0.00s)
2026-01-21T00:39:59.0741650Z === RUN   TestHeadersMiddleware
2026-01-21T00:39:59.0742200Z === RUN   TestHeadersMiddleware/StandardHeaders
2026-01-21T00:39:59.0742930Z === RUN   TestHeadersMiddleware/MetricsEndpointHeaders
2026-01-21T00:39:59.0743420Z --- PASS: TestHeadersMiddleware (0.00s)
2026-01-21T00:39:59.0746660Z     --- PASS: TestHeadersMiddleware/StandardHeaders (0.00s)
2026-01-21T00:39:59.0747340Z     --- PASS: TestHeadersMiddleware/MetricsEndpointHeaders (0.00s)
2026-01-21T00:39:59.0747820Z === RUN   TestRecoveryMiddleware
2026-01-21T00:39:59.0748370Z --- PASS: TestRecoveryMiddleware (0.00s)
2026-01-21T00:39:59.0748770Z === RUN   TestCombinedMiddleware
2026-01-21T00:39:59.0749180Z --- PASS: TestCombinedMiddleware (0.00s)
2026-01-21T00:39:59.0749530Z === RUN   TestMetricsMiddleware
2026-01-21T00:39:59.0756440Z time="2026-01-21T00:39:44Z" level=debug msg="HTTP metrics recorded" component=http_metrics duration="17.667s" method=GET path=/other request_size=0 response_size=13 status=200
2026-01-21T00:39:59.0757850Z time="2026-01-21T00:39:44Z" level=debug msg="HTTP metrics recorded" component=http_metrics duration="3.834s" method=GET path=/metrics request_size=0 response_size=13 status=200
2026-01-21T00:39:59.0938490Z time="2026-01-21T00:39:44Z" level=debug msg="HTTP metrics recorded" component=http_metrics duration="2.084s" method=POST path=/other request_size=0 response_size=13 status=200
2026-01-21T00:39:59.0940290Z time="2026-01-21T00:39:44Z" level=debug msg="HTTP metrics recorded" component=http_metrics duration="1.958s" method=PUT path=/other request_size=0 response_size=13 status=200
2026-01-21T00:39:59.0941440Z time="2026-01-21T00:39:44Z" level=debug msg="HTTP metrics recorded" component=http_metrics duration="1.959s" method=GET path=/ request_size=0 response_size=13 status=200
2026-01-21T00:39:59.0942720Z time="2026-01-21T00:39:44Z" level=debug msg="HTTP metrics recorded" component=http_metrics duration="1.75s" method=GET path=/other request_size=0 response_size=13 status=200
2026-01-21T00:39:59.0943410Z --- PASS: TestMetricsMiddleware (0.00s)
2026-01-21T00:39:59.0943710Z === RUN   TestBasicAuthMiddleware
2026-01-21T00:39:59.0944030Z === RUN   TestBasicAuthMiddleware/BasicAuthDisabled
2026-01-21T00:39:59.0944510Z === RUN   TestBasicAuthMiddleware/BasicAuthEnabledNonMetricsEndpoint
2026-01-21T00:39:59.0944940Z === RUN   TestBasicAuthMiddleware/BasicAuthEnabledNoCredentials
2026-01-21T00:39:59.0945570Z time="2026-01-21T00:39:44Z" level=warning msg="Missing basic auth credentials" component=basic_auth path=/metrics remote_addr="192.0.2.1:1234"
2026-01-21T00:39:59.0946210Z === RUN   TestBasicAuthMiddleware/BasicAuthEnabledInvalidCredentials
2026-01-21T00:39:59.0946920Z time="2026-01-21T00:39:44Z" level=warning msg="Invalid basic auth credentials" component=basic_auth path=/metrics remote_addr="192.0.2.1:1234" username=wrong
2026-01-21T00:39:59.0947630Z === RUN   TestBasicAuthMiddleware/BasicAuthEnabledValidCredentials
2026-01-21T00:39:59.0947970Z --- PASS: TestBasicAuthMiddleware (0.00s)
2026-01-21T00:39:59.0949050Z     --- PASS: TestBasicAuthMiddleware/BasicAuthDisabled (0.00s)
2026-01-21T00:39:59.0949680Z     --- PASS: TestBasicAuthMiddleware/BasicAuthEnabledNonMetricsEndpoint (0.00s)
2026-01-21T00:39:59.0951180Z     --- PASS: TestBasicAuthMiddleware/BasicAuthEnabledNoCredentials (0.00s)
2026-01-21T00:39:59.0951750Z     --- PASS: TestBasicAuthMiddleware/BasicAuthEnabledInvalidCredentials (0.00s)
2026-01-21T00:39:59.0952440Z     --- PASS: TestBasicAuthMiddleware/BasicAuthEnabledValidCredentials (0.00s)
2026-01-21T00:39:59.0952790Z === RUN   TestTimeoutMiddleware
2026-01-21T00:39:59.0953050Z === RUN   TestTimeoutMiddleware/NormalRequest
2026-01-21T00:39:59.0953380Z === RUN   TestTimeoutMiddleware/TimeoutRequest
2026-01-21T00:39:59.0953940Z time="2026-01-21T00:39:49Z" level=warning msg="Request timeout exceeded" component=timeout_middleware method=GET path=/health timeout=5s
2026-01-21T00:39:59.0954470Z === RUN   TestTimeoutMiddleware/MetricsEndpointTimeout
2026-01-21T00:39:59.0954880Z === RUN   TestTimeoutMiddleware/CancelledContext
2026-01-21T00:39:59.0955550Z time="2026-01-21T00:39:57Z" level=debug msg="Request context already cancelled" component=timeout_middleware error="context canceled" method=GET path=/test
2026-01-21T00:39:59.0956170Z --- PASS: TestTimeoutMiddleware (13.01s)
2026-01-21T00:39:59.0956610Z     --- PASS: TestTimeoutMiddleware/NormalRequest (0.00s)
2026-01-21T00:39:59.0957100Z     --- PASS: TestTimeoutMiddleware/TimeoutRequest (5.00s)
2026-01-21T00:39:59.0957600Z     --- PASS: TestTimeoutMiddleware/MetricsEndpointTimeout (8.00s)
2026-01-21T00:39:59.0958110Z     --- PASS: TestTimeoutMiddleware/CancelledContext (0.00s)
2026-01-21T00:39:59.0958460Z === RUN   TestResponseWriter
2026-01-21T00:39:59.0958710Z --- PASS: TestResponseWriter (0.00s)
2026-01-21T00:39:59.0958990Z === RUN   TestNew
2026-01-21T00:39:59.0959200Z === RUN   TestNew/WithValidConfig
2026-01-21T00:39:59.0959490Z === RUN   TestNew/WithNilRegistry
2026-01-21T00:39:59.0959780Z --- PASS: TestNew (0.01s)
2026-01-21T00:39:59.0960070Z     --- PASS: TestNew/WithValidConfig (0.00s)
2026-01-21T00:39:59.0960430Z     --- PASS: TestNew/WithNilRegistry (0.00s)
2026-01-21T00:39:59.0960750Z === RUN   TestHealthEndpoint
2026-01-21T00:39:59.0961130Z --- PASS: TestHealthEndpoint (0.00s)
2026-01-21T00:39:59.0961460Z === RUN   TestReadyEndpoint
2026-01-21T00:39:59.0961870Z === RUN   TestReadyEndpoint/WithEnabledCollectors
2026-01-21T00:39:59.0962250Z === RUN   TestReadyEndpoint/WithNoEnabledCollectors
2026-01-21T00:39:59.0962570Z === RUN   TestReadyEndpoint/WithNilRegistry
2026-01-21T00:39:59.0962880Z --- PASS: TestReadyEndpoint (0.00s)
2026-01-21T00:39:59.0963340Z     --- PASS: TestReadyEndpoint/WithEnabledCollectors (0.00s)
2026-01-21T00:39:59.0963800Z     --- PASS: TestReadyEndpoint/WithNoEnabledCollectors (0.00s)
2026-01-21T00:39:59.0965380Z     --- PASS: TestReadyEndpoint/WithNilRegistry (0.00s)
2026-01-21T00:39:59.0965700Z === RUN   TestRootEndpoint
2026-01-21T00:39:59.0966050Z --- PASS: TestRootEndpoint (0.00s)
2026-01-21T00:39:59.0966410Z === RUN   TestMetricsEndpoint
2026-01-21T00:39:59.0966940Z === RUN   TestMetricsEndpoint/WithRegistry
2026-01-21T00:39:59.0967530Z === RUN   TestMetricsEndpoint/WithCollectionError
2026-01-21T00:39:59.0975580Z === RUN   TestMetricsEndpoint/WithNilRegistry
2026-01-21T00:39:59.0975900Z --- PASS: TestMetricsEndpoint (0.01s)
2026-01-21T00:39:59.0978450Z     --- PASS: TestMetricsEndpoint/WithRegistry (0.01s)
2026-01-21T00:39:59.0978870Z     --- PASS: TestMetricsEndpoint/WithCollectionError (0.00s)
2026-01-21T00:39:59.0983320Z     --- PASS: TestMetricsEndpoint/WithNilRegistry (0.00s)
2026-01-21T00:39:59.0984850Z === RUN   TestServerLifecycle
2026-01-21T00:39:59.0986300Z === RUN   TestServerLifecycle/StartAndShutdown
2026-01-21T00:39:59.0986620Z --- PASS: TestServerLifecycle (0.10s)
2026-01-21T00:39:59.0987660Z     --- PASS: TestServerLifecycle/StartAndShutdown (0.10s)
2026-01-21T00:39:59.0992590Z === RUN   TestServerConfiguration
2026-01-21T00:39:59.0992920Z === RUN   TestServerConfiguration/GetMethods
2026-01-21T00:39:59.0996760Z === RUN   TestServerConfiguration/RegistryMethods
2026-01-21T00:39:59.0998020Z --- PASS: TestServerConfiguration (0.00s)
2026-01-21T00:39:59.0999630Z     --- PASS: TestServerConfiguration/GetMethods (0.00s)
2026-01-21T00:39:59.1001100Z     --- PASS: TestServerConfiguration/RegistryMethods (0.00s)
2026-01-21T00:39:59.1010830Z === RUN   TestTLSConfiguration
2026-01-21T00:39:59.1011490Z === RUN   TestTLSConfiguration/TLSDisabled
2026-01-21T00:39:59.1014760Z time="2026-01-21T00:39:57Z" level=debug msg="Health check registered" check=service component=health
2026-01-21T00:39:59.1067280Z time="2026-01-21T00:39:57Z" level=debug msg="Health check registered" check=registry component=health
2026-01-21T00:39:59.1085230Z time="2026-01-21T00:39:57Z" level=debug msg="Health check registered" check=metrics_endpoint component=health
2026-01-21T00:39:59.1169050Z === RUN   TestTLSConfiguration/TLSEnabledMissingCertFile
2026-01-21T00:39:59.1170690Z time="2026-01-21T00:39:57Z" level=debug msg="Health check registered" check=service component=health
2026-01-21T00:39:59.1172670Z time="2026-01-21T00:39:57Z" level=debug msg="Health check registered" check=registry component=health
2026-01-21T00:39:59.1174630Z time="2026-01-21T00:39:57Z" level=debug msg="Health check registered" check=metrics_endpoint component=health
2026-01-21T00:39:59.1176200Z === RUN   TestTLSConfiguration/TLSEnabledMissingKeyFile
2026-01-21T00:39:59.1180750Z time="2026-01-21T00:39:57Z" level=debug msg="Health check registered" check=service component=health
2026-01-21T00:39:59.1182340Z time="2026-01-21T00:39:57Z" level=debug msg="Health check registered" check=registry component=health
2026-01-21T00:39:59.1291690Z time="2026-01-21T00:39:57Z" level=debug msg="Health check registered" check=metrics_endpoint component=health
2026-01-21T00:39:59.1292320Z === RUN   TestTLSConfiguration/TLSMinVersionParsing
2026-01-21T00:39:59.1292850Z === RUN   TestTLSConfiguration/TLSInvalidMinVersion
2026-01-21T00:39:59.1293260Z --- PASS: TestTLSConfiguration (0.00s)
2026-01-21T00:39:59.1293670Z     --- PASS: TestTLSConfiguration/TLSDisabled (0.00s)
2026-01-21T00:39:59.1294160Z     --- PASS: TestTLSConfiguration/TLSEnabledMissingCertFile (0.00s)
2026-01-21T00:39:59.1295360Z     --- PASS: TestTLSConfiguration/TLSEnabledMissingKeyFile (0.00s)
2026-01-21T00:39:59.1295880Z     --- PASS: TestTLSConfiguration/TLSMinVersionParsing (0.00s)
2026-01-21T00:39:59.1296360Z     --- PASS: TestTLSConfiguration/TLSInvalidMinVersion (0.00s)
2026-01-21T00:39:59.1296920Z === RUN   TestSetupRoutes
2026-01-21T00:39:59.1297670Z time="2026-01-21T00:39:57Z" level=error msg="HTTP request" duration=8.509792ms duration_ms=8.509792 method=GET path=/health query= referer= remote_addr="192.0.2.1:1234" response_size=696 status=503 user_agent=
2026-01-21T00:39:59.1299000Z time="2026-01-21T00:39:57Z" level=error msg="HTTP request" duration=1.735583ms duration_ms=1.735583 method=GET path=/ready query= referer= remote_addr="192.0.2.1:1234" response_size=114 status=503 user_agent=
2026-01-21T00:39:59.1299770Z --- PASS: TestSetupRoutes (0.01s)
2026-01-21T00:39:59.1299990Z PASS
2026-01-21T00:39:59.1300390Z coverage: 48.4% of statements
2026-01-21T00:39:59.1300820Z ok  	github.com/jontk/slurm-exporter/internal/server	14.421s	coverage: 48.4% of statements
2026-01-21T00:39:59.1302740Z === RUN   TestNewClient
2026-01-21T00:39:59.1303140Z === RUN   TestNewClient/valid_config
2026-01-21T00:39:59.1303840Z time="2026-01-21T00:39:47Z" level=warning msg="Initial SLURM connection test failed" error="SLURM API connection test failed: [DEADLINE_EXCEEDED] Operation deadline exceeded"
2026-01-21T00:39:59.1305230Z === RUN   TestNewClient/invalid_config_-_empty_base_URL
2026-01-21T00:39:59.1305670Z === RUN   TestNewClient/invalid_config_-_negative_timeout
2026-01-21T00:39:59.1399000Z --- PASS: TestNewClient (2.00s)
2026-01-21T00:39:59.1400220Z     --- PASS: TestNewClient/valid_config (2.00s)
2026-01-21T00:39:59.1400930Z     --- PASS: TestNewClient/invalid_config_-_empty_base_URL (0.00s)
2026-01-21T00:39:59.1401430Z     --- PASS: TestNewClient/invalid_config_-_negative_timeout (0.00s)
2026-01-21T00:39:59.1401790Z === RUN   TestNewConnectionPool
2026-01-21T00:39:59.1403030Z     client_test.go:93: Skipping test that requires network connection - no mock SLURM server available
2026-01-21T00:39:59.1404930Z --- SKIP: TestNewConnectionPool (0.00s)
2026-01-21T00:39:59.1405270Z === RUN   TestConnectionPoolGetClient
2026-01-21T00:39:59.1405870Z     client_test.go:158: Skipping test that requires network connection - no mock SLURM server available
2026-01-21T00:39:59.1406580Z --- SKIP: TestConnectionPoolGetClient (0.00s)
2026-01-21T00:39:59.1406870Z === RUN   TestClientConnectionStatus
2026-01-21T00:39:59.1407470Z     client_test.go:199: Skipping test that requires network connection - no mock SLURM server available
2026-01-21T00:39:59.1408020Z --- SKIP: TestClientConnectionStatus (0.00s)
2026-01-21T00:39:59.1408420Z === RUN   TestClientContextCancellation
2026-01-21T00:39:59.1409050Z     client_test.go:236: Skipping test that requires network connection - no mock SLURM server available
2026-01-21T00:39:59.1409620Z --- SKIP: TestClientContextCancellation (0.00s)
2026-01-21T00:39:59.1409950Z === RUN   TestClientRateLimiting
2026-01-21T00:39:59.1410510Z     client_test.go:273: Skipping test that requires network connection - no mock SLURM server available
2026-01-21T00:39:59.1410980Z --- SKIP: TestClientRateLimiting (0.00s)
2026-01-21T00:39:59.1411220Z PASS
2026-01-21T00:39:59.1411390Z coverage: 19.7% of statements
2026-01-21T00:39:59.1411830Z ok  	github.com/jontk/slurm-exporter/internal/slurm	3.132s	coverage: 19.7% of statements
2026-01-21T00:39:59.1412230Z === RUN   TestConfigureAuth
2026-01-21T00:39:59.1412540Z === RUN   TestConfigureAuth/none_auth
2026-01-21T00:39:59.1412900Z === RUN   TestConfigureAuth/jwt_with_token
2026-01-21T00:39:59.1413270Z === RUN   TestConfigureAuth/jwt_without_token
2026-01-21T00:39:59.1413690Z === RUN   TestConfigureAuth/basic_auth_with_credentials
2026-01-21T00:39:59.1414120Z === RUN   TestConfigureAuth/basic_auth_without_username
2026-01-21T00:39:59.1414460Z === RUN   TestConfigureAuth/basic_auth_without_password
2026-01-21T00:39:59.1414850Z === RUN   TestConfigureAuth/apikey_with_key
2026-01-21T00:39:59.1416400Z === RUN   TestConfigureAuth/unsupported_auth_type
2026-01-21T00:39:59.1416790Z --- PASS: TestConfigureAuth (0.00s)
2026-01-21T00:39:59.1417200Z     --- PASS: TestConfigureAuth/none_auth (0.00s)
2026-01-21T00:39:59.1417630Z     --- PASS: TestConfigureAuth/jwt_with_token (0.00s)
2026-01-21T00:39:59.1418130Z     --- PASS: TestConfigureAuth/jwt_without_token (0.00s)
2026-01-21T00:39:59.1418670Z     --- PASS: TestConfigureAuth/basic_auth_with_credentials (0.00s)
2026-01-21T00:39:59.1419180Z     --- PASS: TestConfigureAuth/basic_auth_without_username (0.00s)
2026-01-21T00:39:59.1419700Z     --- PASS: TestConfigureAuth/basic_auth_without_password (0.00s)
2026-01-21T00:39:59.1420230Z     --- PASS: TestConfigureAuth/apikey_with_key (0.00s)
2026-01-21T00:39:59.1420670Z     --- PASS: TestConfigureAuth/unsupported_auth_type (0.00s)
2026-01-21T00:39:59.1420930Z === RUN   TestReadSecretFile
2026-01-21T00:39:59.1421270Z === RUN   TestReadSecretFile/valid_secret_file
2026-01-21T00:39:59.1421600Z === RUN   TestReadSecretFile/secret_with_newlines
2026-01-21T00:39:59.1421970Z === RUN   TestReadSecretFile/empty_file
2026-01-21T00:39:59.1422290Z === RUN   TestReadSecretFile/file_with_spaces_only
2026-01-21T00:39:59.1422610Z === RUN   TestReadSecretFile/overly_permissive_file
2026-01-21T00:39:59.1423450Z time="2026-01-21T00:39:46Z" level=warning msg="test secret file /var/folders/kg/7q73ww8s3llgyl61c9z_j5g40000gn/T/auth-test243900889/permissive.txt has permissions -rw-r--r--, consider restricting to 600"
2026-01-21T00:39:59.1424160Z === RUN   TestReadSecretFile/non-existent_file
2026-01-21T00:39:59.1424430Z --- PASS: TestReadSecretFile (0.01s)
2026-01-21T00:39:59.1424890Z     --- PASS: TestReadSecretFile/valid_secret_file (0.00s)
2026-01-21T00:39:59.1425320Z     --- PASS: TestReadSecretFile/secret_with_newlines (0.00s)
2026-01-21T00:39:59.1426810Z     --- PASS: TestReadSecretFile/empty_file (0.00s)
2026-01-21T00:39:59.1427230Z     --- PASS: TestReadSecretFile/file_with_spaces_only (0.00s)
2026-01-21T00:39:59.1427840Z     --- PASS: TestReadSecretFile/overly_permissive_file (0.00s)
2026-01-21T00:39:59.1428260Z     --- PASS: TestReadSecretFile/non-existent_file (0.00s)
2026-01-21T00:39:59.1428650Z === RUN   TestConfigureAuthWithFiles
2026-01-21T00:39:59.1428960Z === RUN   TestConfigureAuthWithFiles/jwt_with_token_file
2026-01-21T00:39:59.1429370Z === RUN   TestConfigureAuthWithFiles/basic_auth_with_password_file
2026-01-21T00:39:59.1429760Z === RUN   TestConfigureAuthWithFiles/apikey_with_key_file
2026-01-21T00:39:59.1430120Z --- PASS: TestConfigureAuthWithFiles (0.00s)
2026-01-21T00:39:59.1430650Z     --- PASS: TestConfigureAuthWithFiles/jwt_with_token_file (0.00s)
2026-01-21T00:39:59.1431190Z     --- PASS: TestConfigureAuthWithFiles/basic_auth_with_password_file (0.00s)
2026-01-21T00:39:59.1431710Z     --- PASS: TestConfigureAuthWithFiles/apikey_with_key_file (0.00s)
2026-01-21T00:39:59.1432090Z === RUN   TestServiceAccountAuth
2026-01-21T00:39:59.1432360Z === RUN   TestServiceAccountAuth/custom_token_path
2026-01-21T00:39:59.1432700Z === RUN   TestServiceAccountAuth/default_token_path
2026-01-21T00:39:59.1433060Z --- PASS: TestServiceAccountAuth (0.00s)
2026-01-21T00:39:59.1433460Z     --- PASS: TestServiceAccountAuth/custom_token_path (0.00s)
2026-01-21T00:39:59.1433910Z     --- PASS: TestServiceAccountAuth/default_token_path (0.00s)
2026-01-21T00:39:59.1434310Z PASS
2026-01-21T00:39:59.1434480Z coverage: 87.5% of statements
2026-01-21T00:39:59.1435870Z ok  	github.com/jontk/slurm-exporter/internal/slurm/auth	1.180s	coverage: 87.5% of statements
2026-01-21T00:39:59.1465540Z 	github.com/jontk/slurm-exporter/internal/testutil		coverage: 0.0% of statements
2026-01-21T00:39:59.1466440Z 	github.com/jontk/slurm-exporter/internal/testutil/fixtures		coverage: 0.0% of statements
2026-01-21T00:39:59.1467170Z 	github.com/jontk/slurm-exporter/internal/testutil/mocks		coverage: 0.0% of statements
2026-01-21T00:39:59.1467560Z === RUN   TestNewCollectionTracer_Disabled
2026-01-21T00:39:59.1468030Z --- PASS: TestNewCollectionTracer_Disabled (0.00s)
2026-01-21T00:39:59.1468690Z === RUN   TestNewCollectionTracer_Enabled
2026-01-21T00:39:59.1469010Z --- PASS: TestNewCollectionTracer_Enabled (0.00s)
2026-01-21T00:39:59.1469340Z === RUN   TestCollectionTracer_TraceCollection_Disabled
2026-01-21T00:39:59.1469910Z --- PASS: TestCollectionTracer_TraceCollection_Disabled (0.00s)
2026-01-21T00:39:59.1470320Z === RUN   TestCollectionTracer_TraceCollection_Enabled
2026-01-21T00:39:59.1470870Z 2026/01/21 00:39:50 traces export: parse "http://http:%2F%2Flocalhost:4317/v1/traces": invalid URL escape "%2F"
2026-01-21T00:39:59.1471620Z --- PASS: TestCollectionTracer_TraceCollection_Enabled (0.00s)
2026-01-21T00:39:59.1471980Z === RUN   TestCollectionTracer_TraceAPICall_Disabled
2026-01-21T00:39:59.1472330Z --- PASS: TestCollectionTracer_TraceAPICall_Disabled (0.00s)
2026-01-21T00:39:59.1472740Z === RUN   TestCollectionTracer_TraceAPICall_Enabled
2026-01-21T00:39:59.1473260Z 2026/01/21 00:39:50 traces export: parse "http://http:%2F%2Flocalhost:4317/v1/traces": invalid URL escape "%2F"
2026-01-21T00:39:59.1475020Z --- PASS: TestCollectionTracer_TraceAPICall_Enabled (0.00s)
2026-01-21T00:39:59.1475570Z === RUN   TestCollectionTracer_TraceMetricGeneration
2026-01-21T00:39:59.1476070Z 2026/01/21 00:39:50 traces export: parse "http://http:%2F%2Flocalhost:4317/v1/traces": invalid URL escape "%2F"
2026-01-21T00:39:59.1476660Z --- PASS: TestCollectionTracer_TraceMetricGeneration (0.00s)
2026-01-21T00:39:59.1477000Z === RUN   TestCollectionTracer_EnableDetailedTrace
2026-01-21T00:39:59.1477430Z --- PASS: TestCollectionTracer_EnableDetailedTrace (0.15s)
2026-01-21T00:39:59.1477830Z === RUN   TestCollectionTracer_EnableDetailedTrace_Disabled
2026-01-21T00:39:59.1478220Z --- PASS: TestCollectionTracer_EnableDetailedTrace_Disabled (0.00s)
2026-01-21T00:39:59.1478570Z === RUN   TestCollectionTracer_AddSpanAttribute
2026-01-21T00:39:59.1479080Z 2026/01/21 00:39:51 traces export: parse "http://http:%2F%2Flocalhost:4317/v1/traces": invalid URL escape "%2F"
2026-01-21T00:39:59.1479780Z --- PASS: TestCollectionTracer_AddSpanAttribute (0.00s)
2026-01-21T00:39:59.1480080Z === RUN   TestCollectionTracer_AddSpanAttribute_Disabled
2026-01-21T00:39:59.1480510Z --- PASS: TestCollectionTracer_AddSpanAttribute_Disabled (0.00s)
2026-01-21T00:39:59.1480900Z === RUN   TestCollectionTracer_RecordError
2026-01-21T00:39:59.1481350Z 2026/01/21 00:39:51 traces export: parse "http://http:%2F%2Flocalhost:4317/v1/traces": invalid URL escape "%2F"
2026-01-21T00:39:59.1481820Z --- PASS: TestCollectionTracer_RecordError (0.00s)
2026-01-21T00:39:59.1482180Z === RUN   TestCollectionTracer_GetTraceAndSpanID
2026-01-21T00:39:59.1483750Z 2026/01/21 00:39:51 traces export: parse "http://http:%2F%2Flocalhost:4317/v1/traces": invalid URL escape "%2F"
2026-01-21T00:39:59.1484260Z --- PASS: TestCollectionTracer_GetTraceAndSpanID (0.00s)
2026-01-21T00:39:59.1484710Z === RUN   TestCollectionTracer_GetTraceAndSpanID_Disabled
2026-01-21T00:39:59.1485260Z --- PASS: TestCollectionTracer_GetTraceAndSpanID_Disabled (0.00s)
2026-01-21T00:39:59.1485690Z === RUN   TestCollectionTracer_CreateChildSpan
2026-01-21T00:39:59.1486200Z 2026/01/21 00:39:51 traces export: parse "http://http:%2F%2Flocalhost:4317/v1/traces": invalid URL escape "%2F"
2026-01-21T00:39:59.1486740Z --- PASS: TestCollectionTracer_CreateChildSpan (0.00s)
2026-01-21T00:39:59.1487080Z === RUN   TestCollectionTracer_GetStats
2026-01-21T00:39:59.1487320Z --- PASS: TestCollectionTracer_GetStats (0.00s)
2026-01-21T00:39:59.1487670Z === RUN   TestCollectionTracer_GetConfig
2026-01-21T00:39:59.1487950Z --- PASS: TestCollectionTracer_GetConfig (0.00s)
2026-01-21T00:39:59.1488240Z PASS
2026-01-21T00:39:59.1488490Z coverage: 57.4% of statements
2026-01-21T00:39:59.1488940Z ok  	github.com/jontk/slurm-exporter/internal/tracing	1.275s	coverage: 57.4% of statements
2026-01-21T00:39:59.1489350Z === RUN   TestGet
2026-01-21T00:39:59.1489620Z --- PASS: TestGet (0.00s)
2026-01-21T00:39:59.1489870Z === RUN   TestString
2026-01-21T00:39:59.1490090Z --- PASS: TestString (0.00s)
2026-01-21T00:39:59.1490600Z === RUN   TestShort
2026-01-21T00:39:59.1490810Z === RUN   TestShort/dev_version
2026-01-21T00:39:59.1491010Z === RUN   TestShort/release_version
2026-01-21T00:39:59.1491340Z === RUN   TestShort/prerelease_version
2026-01-21T00:39:59.1491600Z --- PASS: TestShort (0.00s)
2026-01-21T00:39:59.1491920Z     --- PASS: TestShort/dev_version (0.00s)
2026-01-21T00:39:59.1492350Z     --- PASS: TestShort/release_version (0.00s)
2026-01-21T00:39:59.1493840Z     --- PASS: TestShort/prerelease_version (0.00s)
2026-01-21T00:39:59.1494130Z === RUN   TestInfoStructure
2026-01-21T00:39:59.1494430Z --- PASS: TestInfoStructure (0.00s)
2026-01-21T00:39:59.1494670Z PASS
2026-01-21T00:39:59.1494900Z coverage: 100.0% of statements
2026-01-21T00:39:59.1495270Z ok  	github.com/jontk/slurm-exporter/pkg/version	1.142s	coverage: 100.0% of statements
2026-01-21T00:39:59.1495680Z testing: warning: no tests to run
2026-01-21T00:39:59.1495950Z PASS
2026-01-21T00:39:59.1496150Z coverage: [no statements]
2026-01-21T00:39:59.1496570Z ok  	github.com/jontk/slurm-exporter/test/benchmark	1.113s	coverage: [no statements] [no tests to run]
2026-01-21T00:39:59.1497070Z === RUN   TestRockyClusterIntegration
2026-01-21T00:39:59.1498470Z     rocky_cluster_test.go:54: Skipping integration test - exporter not running at http://localhost:9341: Get "http://localhost:9341/ready": dial tcp [::1]:9341: connect: connection refused
2026-01-21T00:39:59.1499480Z --- SKIP: TestRockyClusterIntegration (0.01s)
2026-01-21T00:39:59.1499830Z PASS
2026-01-21T00:39:59.1500040Z coverage: [no statements]
2026-01-21T00:39:59.1500370Z ok  	github.com/jontk/slurm-exporter/test/integration	1.075s	coverage: [no statements]
2026-01-21T00:39:59.1500790Z === RUN   TestSecurityTestSuite
2026-01-21T00:39:59.1501100Z === RUN   TestSecurityTestSuite/TestAuthenticationBypass
2026-01-21T00:39:59.1501430Z === RUN   TestSecurityTestSuite/TestAuthenticationBypass/no_auth
2026-01-21T00:39:59.1501830Z === RUN   TestSecurityTestSuite/TestAuthenticationBypass/invalid_token
2026-01-21T00:39:59.1502530Z === RUN   TestSecurityTestSuite/TestAuthenticationBypass/sql_injection_token
2026-01-21T00:39:59.1503050Z === RUN   TestSecurityTestSuite/TestAuthenticationBypass/path_traversal_token
2026-01-21T00:39:59.1503540Z === RUN   TestSecurityTestSuite/TestAuthenticationBypass/script_injection_token
2026-01-21T00:39:59.1504870Z === RUN   TestSecurityTestSuite/TestAuthenticationBypass/null_byte_injection
2026-01-21T00:39:59.1505550Z     security_test.go:145: Null bytes in HTTP headers are rejected by Go's HTTP client - this is correct security behavior
2026-01-21T00:39:59.1506020Z === RUN   TestSecurityTestSuite/TestCSRFProtection
2026-01-21T00:39:59.1506460Z === RUN   TestSecurityTestSuite/TestCSRFProtection/csrf_POST__debug_profiling_collector_jobs_enable
2026-01-21T00:39:59.1507010Z === RUN   TestSecurityTestSuite/TestCSRFProtection/csrf_POST__debug_profiling_collector_jobs_disable
2026-01-21T00:39:59.1507490Z === RUN   TestSecurityTestSuite/TestCSRFProtection/csrf_PUT__debug_config_reload
2026-01-21T00:39:59.1507940Z === RUN   TestSecurityTestSuite/TestCSRFProtection/csrf_DELETE__debug_cache_clear
2026-01-21T00:39:59.1508320Z === RUN   TestSecurityTestSuite/TestHTTPMethodSecurity
2026-01-21T00:39:59.1508660Z === RUN   TestSecurityTestSuite/TestHTTPMethodSecurity/method_GET
2026-01-21T00:39:59.1509080Z === RUN   TestSecurityTestSuite/TestHTTPMethodSecurity/method_POST
2026-01-21T00:39:59.1509430Z === RUN   TestSecurityTestSuite/TestHTTPMethodSecurity/method_PUT
2026-01-21T00:39:59.1509800Z === RUN   TestSecurityTestSuite/TestHTTPMethodSecurity/method_DELETE
2026-01-21T00:39:59.1510160Z === RUN   TestSecurityTestSuite/TestHTTPMethodSecurity/method_PATCH
2026-01-21T00:39:59.1510530Z === RUN   TestSecurityTestSuite/TestHTTPMethodSecurity/method_HEAD
2026-01-21T00:39:59.1510880Z === RUN   TestSecurityTestSuite/TestHTTPMethodSecurity/method_OPTIONS
2026-01-21T00:39:59.1511270Z === RUN   TestSecurityTestSuite/TestHTTPMethodSecurity/method_TRACE
2026-01-21T00:39:59.1511580Z === RUN   TestSecurityTestSuite/TestHTTPSRedirect
2026-01-21T00:39:59.1512680Z     security_test.go:74: HTTPS redirect testing requires TLS server setup
2026-01-21T00:39:59.1513360Z === RUN   TestSecurityTestSuite/TestInformationDisclosure
2026-01-21T00:39:59.1513700Z === RUN   TestSecurityTestSuite/TestInputValidation
2026-01-21T00:39:59.1514060Z === RUN   TestSecurityTestSuite/TestInputValidation/oversized_input
2026-01-21T00:39:59.1514440Z === RUN   TestSecurityTestSuite/TestInputValidation/null_bytes
2026-01-21T00:39:59.1515200Z     security_test.go:342: Null bytes and control characters are rejected by Go's URL parser - this is correct security behavior
2026-01-21T00:39:59.1515750Z === RUN   TestSecurityTestSuite/TestInputValidation/control_characters
2026-01-21T00:39:59.1516460Z     security_test.go:342: Null bytes and control characters are rejected by Go's URL parser - this is correct security behavior
2026-01-21T00:39:59.1516980Z === RUN   TestSecurityTestSuite/TestInputValidation/unicode_exploit
2026-01-21T00:39:59.1517340Z === RUN   TestSecurityTestSuite/TestInputValidation/format_string
2026-01-21T00:39:59.1517720Z === RUN   TestSecurityTestSuite/TestInputValidation/ldap_injection
2026-01-21T00:39:59.1518080Z === RUN   TestSecurityTestSuite/TestInputValidation/xml_injection
2026-01-21T00:39:59.1518420Z === RUN   TestSecurityTestSuite/TestInputValidation/json_injection
2026-01-21T00:39:59.1518750Z === RUN   TestSecurityTestSuite/TestPathTraversalAttacks
2026-01-21T00:39:59.1519150Z === RUN   TestSecurityTestSuite/TestPathTraversalAttacks/basic_traversal
2026-01-21T00:39:59.1519560Z === RUN   TestSecurityTestSuite/TestPathTraversalAttacks/encoded_traversal
2026-01-21T00:39:59.1519960Z === RUN   TestSecurityTestSuite/TestPathTraversalAttacks/double_encoded
2026-01-21T00:39:59.1520340Z === RUN   TestSecurityTestSuite/TestPathTraversalAttacks/unicode_traversal
2026-01-21T00:39:59.1520710Z === RUN   TestSecurityTestSuite/TestPathTraversalAttacks/long_path
2026-01-21T00:39:59.1521150Z === RUN   TestSecurityTestSuite/TestPathTraversalAttacks/null_byte
2026-01-21T00:39:59.1522620Z     security_test.go:174: Null bytes in URLs are rejected by Go's URL parser - this is correct security behavior
2026-01-21T00:39:59.1523020Z === RUN   TestSecurityTestSuite/TestRateLimiting
2026-01-21T00:39:59.1523340Z === RUN   TestSecurityTestSuite/TestRateLimiting/rate_limit__debug_profiling
2026-01-21T00:39:59.1523740Z === RUN   TestSecurityTestSuite/TestRateLimiting/rate_limit__debug_collectors
2026-01-21T00:39:59.1524130Z === RUN   TestSecurityTestSuite/TestRateLimiting/rate_limit__debug_cache
2026-01-21T00:39:59.1524430Z === RUN   TestSecurityTestSuite/TestSQLInjection
2026-01-21T00:39:59.1524720Z === RUN   TestSecurityTestSuite/TestSQLInjection/sql_injection_0
2026-01-21T00:39:59.1525040Z === RUN   TestSecurityTestSuite/TestSQLInjection/sql_injection_1
2026-01-21T00:39:59.1525360Z === RUN   TestSecurityTestSuite/TestSQLInjection/sql_injection_2
2026-01-21T00:39:59.1525680Z === RUN   TestSecurityTestSuite/TestSQLInjection/sql_injection_3
2026-01-21T00:39:59.1526010Z === RUN   TestSecurityTestSuite/TestSQLInjection/sql_injection_4
2026-01-21T00:39:59.1526340Z === RUN   TestSecurityTestSuite/TestSQLInjection/sql_injection_5
2026-01-21T00:39:59.1526650Z === RUN   TestSecurityTestSuite/TestSQLInjection/sql_injection_6
2026-01-21T00:39:59.1526970Z === RUN   TestSecurityTestSuite/TestSQLInjection/sql_injection_7
2026-01-21T00:39:59.1527280Z === RUN   TestSecurityTestSuite/TestSQLInjection/sql_injection_8
2026-01-21T00:39:59.1527570Z === RUN   TestSecurityTestSuite/TestSecurityHeaders
2026-01-21T00:39:59.1527830Z === RUN   TestSecurityTestSuite/TestTimeoutAttacks
2026-01-21T00:39:59.1528120Z === RUN   TestSecurityTestSuite/TestTimeoutAttacks/slow_loris
2026-01-21T00:39:59.1528400Z === RUN   TestSecurityTestSuite/TestXSSPrevention
2026-01-21T00:39:59.1528680Z === RUN   TestSecurityTestSuite/TestXSSPrevention/url_param_0
2026-01-21T00:39:59.1528980Z === RUN   TestSecurityTestSuite/TestXSSPrevention/url_param_1
2026-01-21T00:39:59.1529400Z === RUN   TestSecurityTestSuite/TestXSSPrevention/url_param_2
2026-01-21T00:39:59.1529720Z === RUN   TestSecurityTestSuite/TestXSSPrevention/url_param_3
2026-01-21T00:39:59.1530030Z === RUN   TestSecurityTestSuite/TestXSSPrevention/url_param_4
2026-01-21T00:39:59.1530330Z === RUN   TestSecurityTestSuite/TestXSSPrevention/url_param_5
2026-01-21T00:39:59.1530640Z === RUN   TestSecurityTestSuite/TestXSSPrevention/url_param_6
2026-01-21T00:39:59.1530940Z === RUN   TestSecurityTestSuite/TestXSSPrevention/url_param_7
2026-01-21T00:39:59.1531200Z --- PASS: TestSecurityTestSuite (0.68s)
2026-01-21T00:39:59.1531560Z     --- PASS: TestSecurityTestSuite/TestAuthenticationBypass (0.01s)
2026-01-21T00:39:59.1532130Z         --- PASS: TestSecurityTestSuite/TestAuthenticationBypass/no_auth (0.00s)
2026-01-21T00:39:59.1532750Z         --- PASS: TestSecurityTestSuite/TestAuthenticationBypass/invalid_token (0.00s)
2026-01-21T00:39:59.1533420Z         --- PASS: TestSecurityTestSuite/TestAuthenticationBypass/sql_injection_token (0.00s)
2026-01-21T00:39:59.1534130Z         --- PASS: TestSecurityTestSuite/TestAuthenticationBypass/path_traversal_token (0.00s)
2026-01-21T00:39:59.1534840Z         --- PASS: TestSecurityTestSuite/TestAuthenticationBypass/script_injection_token (0.00s)
2026-01-21T00:39:59.1535530Z         --- SKIP: TestSecurityTestSuite/TestAuthenticationBypass/null_byte_injection (0.00s)
2026-01-21T00:39:59.1536020Z     --- PASS: TestSecurityTestSuite/TestCSRFProtection (0.00s)
2026-01-21T00:39:59.1536830Z         --- PASS: TestSecurityTestSuite/TestCSRFProtection/csrf_POST__debug_profiling_collector_jobs_enable (0.00s)
2026-01-21T00:39:59.1537760Z         --- PASS: TestSecurityTestSuite/TestCSRFProtection/csrf_POST__debug_profiling_collector_jobs_disable (0.00s)
2026-01-21T00:39:59.1538580Z         --- PASS: TestSecurityTestSuite/TestCSRFProtection/csrf_PUT__debug_config_reload (0.00s)
2026-01-21T00:39:59.1539350Z         --- PASS: TestSecurityTestSuite/TestCSRFProtection/csrf_DELETE__debug_cache_clear (0.00s)
2026-01-21T00:39:59.1539980Z     --- PASS: TestSecurityTestSuite/TestHTTPMethodSecurity (0.00s)
2026-01-21T00:39:59.1540540Z         --- PASS: TestSecurityTestSuite/TestHTTPMethodSecurity/method_GET (0.00s)
2026-01-21T00:39:59.1541170Z         --- PASS: TestSecurityTestSuite/TestHTTPMethodSecurity/method_POST (0.00s)
2026-01-21T00:39:59.1541830Z         --- PASS: TestSecurityTestSuite/TestHTTPMethodSecurity/method_PUT (0.00s)
2026-01-21T00:39:59.1542470Z         --- PASS: TestSecurityTestSuite/TestHTTPMethodSecurity/method_DELETE (0.00s)
2026-01-21T00:39:59.1543080Z         --- PASS: TestSecurityTestSuite/TestHTTPMethodSecurity/method_PATCH (0.00s)
2026-01-21T00:39:59.1544490Z         --- PASS: TestSecurityTestSuite/TestHTTPMethodSecurity/method_HEAD (0.00s)
2026-01-21T00:39:59.1545130Z         --- PASS: TestSecurityTestSuite/TestHTTPMethodSecurity/method_OPTIONS (0.00s)
2026-01-21T00:39:59.1545750Z         --- PASS: TestSecurityTestSuite/TestHTTPMethodSecurity/method_TRACE (0.00s)
2026-01-21T00:39:59.1546220Z     --- SKIP: TestSecurityTestSuite/TestHTTPSRedirect (0.00s)
2026-01-21T00:39:59.1546660Z     --- PASS: TestSecurityTestSuite/TestInformationDisclosure (0.00s)
2026-01-21T00:39:59.1547110Z     --- PASS: TestSecurityTestSuite/TestInputValidation (0.01s)
2026-01-21T00:39:59.1547680Z         --- PASS: TestSecurityTestSuite/TestInputValidation/oversized_input (0.00s)
2026-01-21T00:39:59.1548280Z         --- SKIP: TestSecurityTestSuite/TestInputValidation/null_bytes (0.00s)
2026-01-21T00:39:59.1548940Z         --- SKIP: TestSecurityTestSuite/TestInputValidation/control_characters (0.00s)
2026-01-21T00:39:59.1549560Z         --- PASS: TestSecurityTestSuite/TestInputValidation/unicode_exploit (0.00s)
2026-01-21T00:39:59.1550190Z         --- PASS: TestSecurityTestSuite/TestInputValidation/format_string (0.00s)
2026-01-21T00:39:59.1550810Z         --- PASS: TestSecurityTestSuite/TestInputValidation/ldap_injection (0.00s)
2026-01-21T00:39:59.1551450Z         --- PASS: TestSecurityTestSuite/TestInputValidation/xml_injection (0.00s)
2026-01-21T00:39:59.1552280Z         --- PASS: TestSecurityTestSuite/TestInputValidation/json_injection (0.00s)
2026-01-21T00:39:59.1552790Z     --- PASS: TestSecurityTestSuite/TestPathTraversalAttacks (0.00s)
2026-01-21T00:39:59.1553440Z         --- PASS: TestSecurityTestSuite/TestPathTraversalAttacks/basic_traversal (0.00s)
2026-01-21T00:39:59.1555340Z         --- PASS: TestSecurityTestSuite/TestPathTraversalAttacks/encoded_traversal (0.00s)
2026-01-21T00:39:59.1556140Z         --- PASS: TestSecurityTestSuite/TestPathTraversalAttacks/double_encoded (0.00s)
2026-01-21T00:39:59.1556880Z         --- PASS: TestSecurityTestSuite/TestPathTraversalAttacks/unicode_traversal (0.00s)
2026-01-21T00:39:59.1557570Z         --- PASS: TestSecurityTestSuite/TestPathTraversalAttacks/long_path (0.00s)
2026-01-21T00:39:59.1558260Z         --- SKIP: TestSecurityTestSuite/TestPathTraversalAttacks/null_byte (0.00s)
2026-01-21T00:39:59.1558750Z     --- PASS: TestSecurityTestSuite/TestRateLimiting (0.61s)
2026-01-21T00:39:59.1559420Z         --- PASS: TestSecurityTestSuite/TestRateLimiting/rate_limit__debug_profiling (0.15s)
2026-01-21T00:39:59.1560160Z         --- PASS: TestSecurityTestSuite/TestRateLimiting/rate_limit__debug_collectors (0.19s)
2026-01-21T00:39:59.1560880Z         --- PASS: TestSecurityTestSuite/TestRateLimiting/rate_limit__debug_cache (0.25s)
2026-01-21T00:39:59.1561360Z     --- PASS: TestSecurityTestSuite/TestSQLInjection (0.02s)
2026-01-21T00:39:59.1561920Z         --- PASS: TestSecurityTestSuite/TestSQLInjection/sql_injection_0 (0.00s)
2026-01-21T00:39:59.1562640Z         --- PASS: TestSecurityTestSuite/TestSQLInjection/sql_injection_1 (0.00s)
2026-01-21T00:39:59.1563250Z         --- PASS: TestSecurityTestSuite/TestSQLInjection/sql_injection_2 (0.00s)
2026-01-21T00:39:59.1564900Z         --- PASS: TestSecurityTestSuite/TestSQLInjection/sql_injection_3 (0.00s)
2026-01-21T00:39:59.1565520Z         --- PASS: TestSecurityTestSuite/TestSQLInjection/sql_injection_4 (0.00s)
2026-01-21T00:39:59.1566290Z         --- PASS: TestSecurityTestSuite/TestSQLInjection/sql_injection_5 (0.00s)
2026-01-21T00:39:59.1566890Z         --- PASS: TestSecurityTestSuite/TestSQLInjection/sql_injection_6 (0.00s)
2026-01-21T00:39:59.1567510Z         --- PASS: TestSecurityTestSuite/TestSQLInjection/sql_injection_7 (0.00s)
2026-01-21T00:39:59.1568120Z         --- PASS: TestSecurityTestSuite/TestSQLInjection/sql_injection_8 (0.00s)
2026-01-21T00:39:59.1568590Z     --- PASS: TestSecurityTestSuite/TestSecurityHeaders (0.00s)
2026-01-21T00:39:59.1569030Z     --- PASS: TestSecurityTestSuite/TestTimeoutAttacks (0.01s)
2026-01-21T00:39:59.1569560Z         --- PASS: TestSecurityTestSuite/TestTimeoutAttacks/slow_loris (0.01s)
2026-01-21T00:39:59.1570040Z     --- PASS: TestSecurityTestSuite/TestXSSPrevention (0.01s)
2026-01-21T00:39:59.1570580Z         --- PASS: TestSecurityTestSuite/TestXSSPrevention/url_param_0 (0.00s)
2026-01-21T00:39:59.1571180Z         --- PASS: TestSecurityTestSuite/TestXSSPrevention/url_param_1 (0.00s)
2026-01-21T00:39:59.1571760Z         --- PASS: TestSecurityTestSuite/TestXSSPrevention/url_param_2 (0.00s)
2026-01-21T00:39:59.1572330Z         --- PASS: TestSecurityTestSuite/TestXSSPrevention/url_param_3 (0.00s)
2026-01-21T00:39:59.1572930Z         --- PASS: TestSecurityTestSuite/TestXSSPrevention/url_param_4 (0.00s)
2026-01-21T00:39:59.1573610Z         --- PASS: TestSecurityTestSuite/TestXSSPrevention/url_param_5 (0.00s)
2026-01-21T00:39:59.1575100Z         --- PASS: TestSecurityTestSuite/TestXSSPrevention/url_param_6 (0.00s)
2026-01-21T00:39:59.1582760Z         --- PASS: TestSecurityTestSuite/TestXSSPrevention/url_param_7 (0.00s)
2026-01-21T00:39:59.1583050Z PASS
2026-01-21T00:39:59.1583190Z coverage: [no statements]
2026-01-21T00:39:59.1583510Z ok  	github.com/jontk/slurm-exporter/test/security	1.917s	coverage: [no statements]
2026-01-21T00:39:59.1583830Z FAIL
2026-01-21T00:39:59.2171190Z ##[error]Process completed with exit code 1.
2026-01-21T00:39:59.2457260Z Post job cleanup.
2026-01-21T00:39:59.7155620Z [command]/opt/homebrew/bin/git version
2026-01-21T00:39:59.7505280Z git version 2.52.0
2026-01-21T00:39:59.7564200Z Copying '/Users/runner/.gitconfig' to '/Users/runner/work/_temp/98554119-1163-45c5-990e-02e19d10fb7c/.gitconfig'
2026-01-21T00:39:59.7610960Z Temporarily overriding HOME='/Users/runner/work/_temp/98554119-1163-45c5-990e-02e19d10fb7c' before making global git config changes
2026-01-21T00:39:59.7612980Z Adding repository directory to the temporary git global config as a safe directory
2026-01-21T00:39:59.7626410Z [command]/opt/homebrew/bin/git config --global --add safe.directory /Users/runner/work/slurm-exporter/slurm-exporter
2026-01-21T00:39:59.7766350Z [command]/opt/homebrew/bin/git config --local --name-only --get-regexp core\.sshCommand
2026-01-21T00:39:59.7883790Z [command]/opt/homebrew/bin/git submodule foreach --recursive sh -c "git config --local --name-only --get-regexp 'core\.sshCommand' && git config --local --unset-all 'core.sshCommand' || :"
2026-01-21T00:39:59.9564020Z [command]/opt/homebrew/bin/git config --local --name-only --get-regexp http\.https\:\/\/github\.com\/\.extraheader
2026-01-21T00:39:59.9574130Z http.https://github.com/.extraheader
2026-01-21T00:39:59.9575340Z [command]/opt/homebrew/bin/git config --local --unset-all http.https://github.com/.extraheader
2026-01-21T00:39:59.9717650Z [command]/opt/homebrew/bin/git submodule foreach --recursive sh -c "git config --local --name-only --get-regexp 'http\.https\:\/\/github\.com\/\.extraheader' && git config --local --unset-all 'http.https://github.com/.extraheader' || :"
2026-01-21T00:40:00.1877900Z [command]/opt/homebrew/bin/git config --local --name-only --get-regexp ^includeIf\.gitdir:
2026-01-21T00:40:00.2277580Z [command]/opt/homebrew/bin/git submodule foreach --recursive git config --local --show-origin --name-only --get-regexp remote.origin.url
2026-01-21T00:40:00.5049280Z Cleaning up orphan processes
